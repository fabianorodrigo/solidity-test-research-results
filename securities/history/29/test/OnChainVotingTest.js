const truffleAssert = require('truffle-assertions');
const PaymentTokenMock = artifacts.require("PaymentTokenMock");
const RedeemableTokenMock = artifacts.require("RedeemableTokenMock");
const OffChainPayments = artifacts.require("OffChainPayments");
const OnChainPayments = artifacts.require("OnChainPayments");
const FixedPriceTender = artifacts.require("FixedPriceTender");
const FullRedemption = artifacts.require("FullRedemption");
const PartialRedemption = artifacts.require("PartialRedemption");
const RedeemableToken = artifacts.require("RedeemableToken");
const OnChainVoting = artifacts.require("OnChainVoting");
const ECDSA = artifacts.require("openzeppelin-solidity/contracts/cryptography/ECDSA.sol");
const Math = artifacts.require("openzeppelin-solidity/contracts/math/Math.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ERC20 = artifacts.require("openzeppelin-solidity/contracts/token/ERC20/ERC20.sol");

contract("OnChainVoting",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractMath = null;
  let contractECDSA = null;
  let contractERC20 = null;
  let contractRedeemableToken = null;
  let contractPaymentTokenMock = null;
  let contractRedeemableTokenMock = null;
  let contractOffChainPayments = null;
  let contractPartialRedemption = null;
  let contractOnChainPayments = null;
  let contractFixedPriceTender = null;
  let contractFullRedemption = null;
  let contractOnChainVoting = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractMath = await Math.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Math.new({from: accounts[0]}');
    contractECDSA = await ECDSA.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ECDSA.new({from: accounts[0]}');
    ERC20.link("SafeMath",contractSafeMath.address);
    contractERC20 = await ERC20.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ERC20.new({from: accounts[0]}');
    RedeemableToken.link("SafeMath",contractSafeMath.address);
    contractRedeemableToken = await RedeemableToken.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: RedeemableToken.new({from: accounts[0]}');
    contractPaymentTokenMock = await PaymentTokenMock.new(accounts[7],28,{from:accounts[0]});
    if(trace) console.log('SUCESSO: PaymentTokenMock.new(accounts[7],28,{from:accounts[0]}');
    contractRedeemableTokenMock = await RedeemableTokenMock.new(accounts[4],2014223714,{from:accounts[0]});
    if(trace) console.log('SUCESSO: RedeemableTokenMock.new(accounts[4],2014223714,{from:accounts[0]}');
    OffChainPayments.link("SafeMath",contractSafeMath.address);
     OffChainPayments.link("ECDSA",contractECDSA.address);
    contractOffChainPayments = await OffChainPayments.new(accounts[8],{from:accounts[2]});
    if(trace) console.log('SUCESSO: OffChainPayments.new(accounts[8],{from:accounts[2]}');
    PartialRedemption.link("SafeMath",contractSafeMath.address);
    contractPartialRedemption = await PartialRedemption.new(contractRedeemableTokenMock.address,contractRedeemableTokenMock.address,accounts[1],28,{from:accounts[0]});
    if(trace) console.log('SUCESSO: PartialRedemption.new(contractRedeemableTokenMock.address,contractRedeemableTokenMock.address,accounts[1],28,{from:accounts[0]}');
    OnChainPayments.link("SafeMath",contractSafeMath.address);
     OnChainPayments.link("ECDSA",contractECDSA.address);
    contractOnChainPayments = await OnChainPayments.new(contractRedeemableToken.address,contractRedeemableTokenMock.address,accounts[3],{from:accounts[7]});
    if(trace) console.log('SUCESSO: OnChainPayments.new(contractRedeemableToken.address,contractRedeemableTokenMock.address,accounts[3],{from:accounts[7]}');
    FixedPriceTender.link("Math",contractMath.address);
     FixedPriceTender.link("SafeMath",contractSafeMath.address);
    contractFixedPriceTender = await FixedPriceTender.new(65,contractPaymentTokenMock.address,contractRedeemableTokenMock.address,contractMath.address,97,1338,{from:accounts[3]});
    if(trace) console.log('SUCESSO: FixedPriceTender.new(65,contractPaymentTokenMock.address,contractRedeemableTokenMock.address,contractMath.address,97,1338,{from:accounts[3]}');
    FullRedemption.link("SafeMath",contractSafeMath.address);
    contractFullRedemption = await FullRedemption.new(contractPaymentTokenMock.address,contractRedeemableToken.address,accounts[5],97,{from:accounts[0]});
    if(trace) console.log('SUCESSO: FullRedemption.new(contractPaymentTokenMock.address,contractRedeemableToken.address,accounts[5],97,{from:accounts[0]}');
    OnChainVoting.link("SafeMath",contractSafeMath.address);
    contractOnChainVoting = await OnChainVoting.new(contractPaymentTokenMock.address,accounts[6],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+95,{from:accounts[0]});
    if(trace) console.log('SUCESSO: OnChainVoting.new(contractPaymentTokenMock.address,accounts[6],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+95,{from:accounts[0]}');
  });
  
  it('Should execute placeVote(string) WHEN (await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp<endTime', async () => {
    let result = await contractOnChainVoting.placeVote("IsLibrary",{from: accounts[0]});
  });
  it('Should execute submitUserVotes(bytes32[],bytes32[]) WHEN msg.sender==_owner,(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp>=endTime,_usersSaltHash.length==_usersVote.length,_usersSaltHash.length!=0', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractRedeemableTokenMock.address,accounts[6],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+481,{from:accounts[0]});
    let result = await localOnChainVoting.submitUserVotes([[157,0,52,186,114,118,72,247,159,16,217,141,114,218,17,138,70,244,237,225,176,198,191,238,117,176,148,140,250,211,71,231],[24,182,134,199,127,196,177,132,110,166,135,87,100,51,109,97,90,105,172,27,211,15,218,54,96,129,48,224,237,81,123,144],[17,228,43,204,164,24,181,174,93,240,74,133,49,115,49,116,137,79,8,90,210,68,227,218,73,197,134,188,116,36,32,151],[186,198,127,140,177,20,71,226,107,96,39,62,60,192,224,0,35,171,112,98,8,28,107,131,38,199,69,248,157,221,87,236],[61,32,231,201,177,66,225,165,112,50,179,184,42,187,90,193,49,89,150,136,232,115,130,234,192,68,19,146,23,94,187,129],[62,66,43,2,105,242,141,94,159,166,102,19,109,138,241,108,119,150,215,41,242,3,77,185,146,240,232,118,234,97,246,12],[249,64,121,51,188,177,120,242,154,188,183,19,169,184,191,58,247,54,201,105,183,252,1,174,137,168,67,115,205,74,83,48],[148,78,17,224,180,210,27,78,248,154,172,73,225,99,244,125,183,159,32,63,156,237,2,106,154,238,145,219,249,20,99,236],[65,223,147,137,86,142,157,142,240,202,58,147,153,148,222,86,84,146,150,144,157,114,32,119,48,53,102,172,103,218,54,144],[170,129,252,29,172,59,196,126,215,205,18,7,67,183,164,202,205,172,89,41,85,50,96,43,50,60,146,245,255,96,95,107],[1,158,205,13,8,139,136,234,117,47,214,20,249,100,191,188,104,16,186,132,101,186,196,19,104,149,169,231,5,248,0,195],[107,93,20,229,111,211,39,25,91,160,55,27,89,140,251,231,244,101,143,152,235,153,242,116,139,105,173,126,158,102,28,83],[119,238,157,107,2,77,88,164,227,95,149,23,35,199,186,5,125,136,105,142,216,193,164,173,36,54,229,110,20,192,223,143],[115,83,57,29,241,65,99,58,252,173,175,198,245,137,193,4,152,208,176,208,109,139,111,236,80,36,123,128,174,238,230,120],[32,120,228,45,236,5,247,156,158,9,236,195,69,123,1,142,31,155,243,24,149,102,26,4,36,105,187,47,74,155,249,30],[25,203,155,115,37,173,46,32,148,128,1,115,181,129,104,110,1,64,254,172,185,92,95,13,162,238,247,249,236,92,62,198],[23,170,253,150,207,200,9,185,183,105,42,198,21,77,19,223,25,33,246,223,108,251,115,254,67,66,122,103,196,201,5,0],[98,166,236,146,176,76,38,242,178,234,104,39,206,131,150,202,231,227,158,124,99,127,146,99,122,170,92,201,0,55,15,122],[52,254,166,158,195,222,10,106,217,109,200,28,240,161,78,129,47,215,180,106,234,236,135,245,5,173,63,81,125,213,206,220],[76,191,62,180,181,133,191,128,33,38,53,53,163,66,234,11,113,75,169,80,133,80,10,128,7,163,118,14,206,71,202,187],[92,4,115,119,172,75,46,41,171,147,11,232,214,184,109,140,197,88,75,36,177,4,227,153,78,126,145,90,44,11,221,99],[182,9,207,255,214,8,70,86,206,204,15,197,117,140,224,39,135,78,42,165,184,59,32,165,78,255,62,2,163,207,77,129],[114,184,91,49,136,53,16,78,123,179,170,80,36,91,143,110,59,235,149,52,238,63,206,37,154,139,68,233,123,231,76,130],[204,14,248,8,139,99,195,249,191,217,117,69,125,165,233,31,170,102,49,250,215,134,158,254,236,248,224,232,29,184,160,164],[146,197,100,237,15,246,239,220,53,47,168,73,123,36,168,120,105,220,117,187,117,157,17,249,210,151,2,96,179,236,253,202],[226,22,83,70,166,110,64,29,135,219,28,179,188,23,201,223,84,230,2,81,92,70,244,173,244,75,206,198,117,81,245,241],[215,228,179,68,148,100,23,185,236,1,156,104,115,165,209,141,188,5,10,169,81,80,179,211,118,193,167,12,253,167,58,13],[0,211,244,236,241,182,65,90,96,171,91,225,63,79,237,147,188,53,103,49,254,33,63,54,118,165,165,222,123,239,183,210],[243,142,31,39,77,13,150,3,233,133,3,152,105,20,177,187,47,14,172,65,131,170,139,165,187,147,162,51,98,252,196,97],[235,25,225,15,7,13,148,91,162,174,191,82,71,234,112,207,105,149,65,178,105,215,175,142,22,111,165,217,123,91,5,81],[186,3,189,30,227,127,170,233,73,175,234,34,124,237,210,61,241,82,247,22,217,120,72,212,175,198,173,37,193,143,220,221],[31,17,116,69,198,89,155,25,138,172,245,114,201,0,38,232,143,202,95,98,149,58,31,39,113,224,192,73,112,215,194,6],[48,68,72,230,235,10,34,125,178,182,161,57,181,85,173,106,160,228,214,56,11,66,62,45,84,160,67,212,186,237,133,40],[200,109,111,255,150,60,169,46,60,34,31,208,68,151,185,151,203,121,5,219,183,130,15,6,119,189,0,133,56,33,61,159],[37,88,150,162,184,191,57,149,1,135,25,235,25,152,72,67,31,149,72,157,200,52,47,46,132,233,128,69,80,154,1,94],[120,162,95,5,21,10,254,109,253,5,200,228,218,140,85,158,47,67,204,59,6,149,205,3,140,45,45,135,199,195,23,134],[105,232,142,5,68,54,78,63,91,55,2,37,19,29,162,115,222,252,207,151,241,204,235,161,94,219,21,148,241,103,201,202],[241,213,214,175,174,83,87,3,25,45,230,73,3,25,45,168,14,229,229,96,246,224,93,7,197,101,110,156,7,236,84,166],[29,15,244,185,178,232,85,247,110,113,102,58,172,115,149,137,250,68,114,235,255,200,95,128,222,88,149,4,234,166,219,166],[197,251,173,7,91,41,41,243,20,15,120,141,88,189,145,98,145,241,238,178,172,146,243,187,245,236,136,94,207,24,203,174],[48,69,195,96,45,106,108,248,213,74,144,204,102,31,74,238,234,22,27,60,5,222,3,44,71,229,170,243,57,16,172,2],[133,133,82,172,16,249,104,96,118,152,177,26,140,177,122,69,104,4,182,58,20,152,235,117,138,56,15,130,43,166,120,245],[29,97,147,120,62,3,100,143,179,241,126,154,242,170,251,181,115,63,77,40,51,209,225,58,11,215,127,179,20,255,150,26],[228,173,237,238,22,205,116,19,141,2,173,69,211,67,66,114,80,5,124,62,206,125,48,110,39,122,39,135,92,13,62,232],[29,243,210,83,70,33,223,83,108,219,82,32,35,168,50,238,11,188,125,40,196,110,147,62,67,151,217,143,179,121,177,215],[27,82,98,135,131,23,21,191,52,156,134,148,158,92,90,190,232,88,213,155,78,181,57,74,36,188,184,215,233,226,14,83],[114,206,105,67,37,73,9,57,88,79,117,189,4,12,80,225,171,48,4,163,100,175,67,11,153,150,41,174,46,13,68,52],[36,6,241,239,53,227,181,3,148,124,88,145,82,65,18,201,180,182,81,249,249,114,103,7,80,247,160,21,251,164,117,186],[173,62,90,53,150,17,1,98,29,189,174,219,254,205,195,76,129,192,135,86,108,251,21,137,136,61,3,118,135,126,183,108],[186,235,192,131,213,114,235,1,1,123,243,166,26,244,144,4,170,226,10,56,122,46,103,62,126,177,155,223,40,45,247,52],[57,183,183,142,188,197,9,216,239,111,113,34,99,44,199,111,201,140,4,148,7,110,58,143,36,49,182,43,202,159,74,122],[37,72,128,114,99,165,22,41,6,84,61,192,150,114,8,194,209,225,128,109,119,118,231,134,66,147,91,56,245,212,171,20],[46,253,243,253,237,161,166,40,164,63,81,210,238,201,188,166,97,142,6,202,28,145,239,20,176,78,244,194,39,240,42,59],[124,228,5,26,40,35,59,109,18,151,40,243,196,158,110,5,232,129,223,39,62,109,144,247,171,226,227,56,157,129,99,35],[254,84,94,187,216,226,46,239,246,124,154,55,94,177,224,135,226,188,173,63,223,113,196,152,147,144,226,136,145,200,57,201],[255,9,138,175,108,111,158,31,70,186,131,187,192,186,230,82,226,204,194,59,126,89,204,79,128,97,115,231,56,228,194,200],[251,2,63,165,101,121,160,230,107,27,197,46,103,120,32,209,168,42,40,134,210,0,83,84,34,199,213,64,70,146,145,158],[8,218,106,138,161,101,141,239,99,40,83,112,234,210,45,239,209,112,145,253,9,239,56,28,241,62,247,2,147,17,23,162],[25,32,239,143,235,15,23,241,40,131,56,179,90,119,90,102,173,81,71,20,160,18,221,140,46,67,38,80,92,92,245,226],[202,196,244,59,198,149,200,91,193,65,141,229,56,143,187,119,232,86,95,116,159,117,89,124,226,173,143,2,34,121,99,97],[47,226,59,176,67,217,180,149,147,14,224,109,41,29,172,156,27,33,3,99,150,73,61,183,109,131,204,88,244,215,192,9],[31,224,241,101,35,239,93,175,205,31,4,201,117,98,189,88,237,83,226,185,22,43,92,185,132,143,130,167,250,108,80,52],[153,140,171,78,90,162,215,137,252,100,132,126,237,109,26,195,82,134,239,126,29,79,109,35,13,123,60,239,89,21,108,36],[129,36,185,249,1,96,143,115,19,125,63,128,94,22,53,116,48,200,189,206,223,0,157,225,187,16,48,138,241,16,1,159],[140,191,33,146,242,128,4,148,116,129,60,59,57,74,239,206,132,115,111,110,141,2,171,0,76,176,135,20,166,207,144,234]], [[226,125,146,40,7,142,198,194,250,69,138,197,178,48,200,175,64,162,128,209,160,40,103,140,105,41,142,144,175,107,137,245],[173,127,67,167,142,208,188,110,171,83,85,128,48,183,58,234,44,101,100,88,202,18,205,8,241,102,132,182,52,126,127,84],[255,48,47,193,141,236,51,225,182,34,110,126,61,159,38,188,161,48,74,76,84,35,173,187,32,138,102,67,255,1,141,156],[133,5,132,228,30,125,148,148,88,177,93,153,8,18,108,223,200,77,8,247,57,2,86,30,231,21,65,9,207,16,119,27],[72,187,89,97,245,12,102,88,131,14,107,190,72,209,90,57,1,99,34,123,99,164,140,165,201,202,28,60,13,243,94,171],[203,125,24,180,28,86,222,1,194,57,211,86,41,27,10,213,148,247,43,220,74,205,34,39,197,161,17,209,170,114,177,187],[245,157,16,55,75,23,53,240,188,240,114,224,236,96,13,8,112,67,204,22,243,37,15,240,191,216,191,250,213,28,220,196],[34,18,134,0,145,92,90,18,204,208,242,43,0,134,52,46,83,189,5,111,4,20,21,28,3,117,221,92,36,88,204,232],[216,0,250,162,238,237,71,250,20,48,35,179,34,66,163,44,254,124,247,218,199,16,17,156,135,89,82,128,251,220,249,105],[161,49,198,94,101,33,87,79,15,155,39,189,21,66,203,116,25,61,103,218,50,45,184,56,211,65,49,231,74,30,222,99],[255,114,246,96,144,227,106,251,90,128,28,171,206,132,180,162,242,213,84,181,35,156,196,88,239,151,140,3,142,117,131,115],[168,26,189,24,143,146,71,221,154,100,150,15,9,5,168,30,211,136,191,161,57,208,124,251,33,143,64,11,105,248,185,90],[150,201,182,138,43,31,170,162,16,203,103,116,164,240,181,47,168,37,98,144,45,169,167,66,51,203,138,113,184,131,37,47],[234,34,56,107,167,34,108,247,76,106,132,136,26,189,128,208,202,32,46,221,240,49,94,167,36,21,85,12,148,231,96,168],[84,144,18,190,108,85,85,237,37,218,183,58,176,218,5,210,75,115,32,154,171,28,191,50,19,237,118,124,68,159,122,168],[6,119,36,218,6,40,130,129,54,19,71,166,186,25,93,182,217,233,33,79,248,94,167,129,213,42,213,67,201,19,157,238],[245,32,121,122,43,2,208,232,76,227,41,215,43,96,182,75,30,207,165,49,15,129,127,164,221,216,86,154,225,173,54,187],[114,16,4,122,79,107,37,73,153,175,143,112,80,187,26,205,229,209,121,201,200,12,172,226,226,93,141,124,205,186,35,116],[244,104,112,247,229,74,130,230,213,197,94,253,25,240,38,50,81,137,178,146,153,139,136,86,160,170,38,198,40,44,187,28],[48,158,95,82,221,183,111,79,63,81,119,212,158,233,224,237,132,116,88,236,138,121,160,90,42,120,214,60,211,94,27,247],[52,95,236,183,1,11,214,2,123,192,13,221,185,151,65,73,8,238,120,22,195,85,146,218,169,0,183,141,39,47,219,50],[51,92,46,86,65,30,105,26,80,248,23,246,176,141,30,199,1,73,14,97,173,254,38,182,135,2,2,102,162,55,242,53],[120,76,68,99,176,74,240,154,85,169,94,135,109,207,171,159,204,134,177,236,215,38,158,160,247,63,55,180,167,192,113,206],[222,248,81,225,30,198,12,48,118,164,163,44,132,159,95,76,237,215,119,170,146,92,73,218,166,54,175,104,241,78,204,142],[121,193,171,7,76,50,193,129,202,204,89,188,146,44,45,225,59,105,227,19,0,70,155,247,83,240,180,244,242,138,216,96],[253,34,137,136,125,87,215,45,138,99,187,66,5,181,173,176,2,34,218,85,247,101,123,173,167,135,89,255,27,133,68,64],[221,212,12,214,30,52,30,153,29,246,33,169,197,214,29,90,25,112,126,197,19,217,176,207,93,150,132,75,60,82,86,79],[113,89,101,210,119,130,2,10,177,9,233,146,62,66,155,171,162,95,97,34,234,25,43,233,254,59,84,8,229,140,190,77],[121,92,144,29,229,5,171,219,197,235,195,207,78,235,218,13,3,241,248,13,144,46,58,255,127,45,88,214,82,41,110,6],[56,61,66,103,166,127,136,252,159,209,40,37,200,235,170,193,205,79,8,143,169,150,105,19,117,122,67,196,120,81,177,139],[145,148,36,197,91,61,234,35,143,228,53,248,96,242,102,145,88,93,41,244,148,203,233,48,106,163,219,225,101,48,81,110],[16,23,131,190,158,135,128,164,140,161,36,47,239,224,116,188,167,174,250,179,128,116,15,54,124,76,102,53,224,46,167,58],[91,146,245,178,108,135,212,140,239,166,250,169,31,113,220,27,86,77,177,100,88,91,82,94,58,148,60,207,185,133,189,85],[34,52,82,37,22,177,161,176,54,157,123,186,130,81,128,72,192,231,252,129,219,61,121,168,57,100,167,255,94,13,145,21],[97,114,46,14,38,178,223,170,63,17,14,182,83,132,202,155,143,108,138,212,41,15,191,196,140,181,245,39,70,246,220,71],[210,95,118,68,175,220,245,154,6,160,36,194,115,74,153,160,220,88,243,195,154,10,3,77,58,230,28,138,248,66,57,212],[113,152,118,247,168,112,201,96,19,74,143,9,250,188,236,33,221,250,167,16,118,52,199,95,20,131,152,151,174,235,137,80],[58,2,45,161,199,145,132,31,104,98,197,40,129,196,17,216,157,178,251,103,152,49,126,102,24,92,151,130,173,140,121,147],[142,25,252,231,238,5,214,236,6,116,149,80,63,214,52,192,244,184,214,66,250,53,155,107,72,82,71,98,19,71,45,77],[230,130,185,149,222,186,166,250,121,96,127,227,108,107,243,74,145,252,59,76,210,139,75,111,134,91,146,75,137,43,206,68],[232,194,26,44,115,162,229,106,60,252,216,148,204,206,244,230,175,121,58,169,47,139,95,149,199,128,31,38,29,34,165,208],[44,22,206,185,141,0,171,175,18,200,248,174,43,38,56,98,119,34,76,112,14,9,158,242,144,86,119,232,187,202,40,196],[159,66,122,134,121,253,38,119,56,25,127,72,241,226,121,3,207,112,122,104,80,125,23,188,80,145,86,7,253,5,139,227],[117,135,65,82,202,254,19,247,76,109,108,141,128,184,103,9,15,87,2,215,38,0,1,159,188,217,126,6,212,81,66,238],[175,212,249,150,42,48,189,81,237,41,71,182,255,87,103,76,32,142,219,153,182,210,189,177,73,189,124,42,159,18,91,50],[228,53,147,99,253,105,110,9,75,53,131,249,19,86,157,214,228,119,103,154,129,74,95,174,167,246,127,88,55,227,64,38],[219,180,235,61,213,80,134,14,4,55,127,217,97,135,129,115,111,55,184,251,195,144,134,43,206,171,213,222,34,234,246,217],[151,130,48,67,228,232,33,74,89,47,64,200,189,70,180,13,200,123,102,206,158,153,58,64,222,174,217,66,30,11,106,225],[70,200,8,190,198,21,13,57,0,155,170,14,242,227,237,25,116,33,192,153,71,11,0,66,224,160,249,87,186,40,57,185],[102,127,100,54,164,28,95,78,107,216,9,200,129,185,84,224,70,98,252,81,157,212,130,181,158,192,211,59,158,25,136,65],[253,55,157,67,30,231,195,176,169,6,77,130,213,19,30,52,130,190,80,187,109,185,204,146,145,67,96,151,115,19,71,52],[244,229,149,119,223,229,34,178,77,7,56,29,23,71,80,101,100,128,83,127,164,214,165,112,63,254,231,31,234,126,203,85],[66,144,170,52,42,124,213,75,194,93,172,97,118,225,17,169,143,122,67,26,115,50,249,169,146,207,136,220,187,191,163,147],[162,145,91,193,4,110,162,166,221,110,120,106,97,131,85,89,105,33,183,28,162,43,80,243,48,190,119,126,99,59,5,16],[231,238,212,247,66,34,206,35,9,127,244,26,9,199,210,212,61,222,32,135,175,56,194,209,192,71,66,105,35,132,24,71],[208,130,99,156,208,67,54,198,137,39,171,246,239,175,220,31,37,38,202,183,150,179,32,199,98,105,105,161,103,167,60,253],[52,185,108,144,229,35,167,59,27,151,8,137,85,12,101,95,70,179,33,14,138,50,158,33,132,202,244,168,27,57,176,88],[240,254,73,18,228,247,214,23,162,78,162,22,230,196,60,218,43,243,228,66,202,8,135,175,59,157,91,169,250,218,70,46],[99,245,163,45,138,210,75,68,186,200,42,96,112,21,117,112,143,34,77,161,104,235,205,75,124,67,219,85,99,127,45,11],[102,12,223,160,196,30,50,159,124,207,154,85,87,23,193,133,185,224,55,203,197,117,71,237,143,10,116,200,154,18,243,24],[127,20,50,81,73,59,226,142,160,160,152,58,8,216,218,254,231,249,139,105,86,229,97,40,25,67,96,127,32,100,236,231],[32,230,90,213,62,170,114,1,54,78,21,85,46,248,66,56,199,195,53,22,98,63,15,116,197,190,165,252,99,89,73,216],[46,224,42,96,198,234,12,245,108,64,118,19,89,246,37,77,148,136,54,244,240,233,21,83,144,216,158,135,60,147,77,223],[156,236,5,52,232,175,119,137,9,166,238,37,114,185,244,204,125,219,188,102,92,201,72,161,230,95,191,51,9,252,239,109],[253,100,54,228,236,156,71,189,203,238,33,206,249,114,147,104,45,104,19,244,209,116,187,203,245,158,57,232,78,218,33,0]],{from: accounts[0]});
  });
  it('Should fail submitUserVotes(bytes32[],bytes32[]) when NOT comply with: msg.sender == _owner', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractRedeemableTokenMock.address,accounts[6],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+481,{from:accounts[0]});
    let result = await truffleAssert.fails(localOnChainVoting.submitUserVotes([[157,0,52,186,114,118,72,247,159,16,217,141,114,218,17,138,70,244,237,225,176,198,191,238,117,176,148,140,250,211,71,231],[24,182,134,199,127,196,177,132,110,166,135,87,100,51,109,97,90,105,172,27,211,15,218,54,96,129,48,224,237,81,123,144],[17,228,43,204,164,24,181,174,93,240,74,133,49,115,49,116,137,79,8,90,210,68,227,218,73,197,134,188,116,36,32,151],[186,198,127,140,177,20,71,226,107,96,39,62,60,192,224,0,35,171,112,98,8,28,107,131,38,199,69,248,157,221,87,236],[61,32,231,201,177,66,225,165,112,50,179,184,42,187,90,193,49,89,150,136,232,115,130,234,192,68,19,146,23,94,187,129],[62,66,43,2,105,242,141,94,159,166,102,19,109,138,241,108,119,150,215,41,242,3,77,185,146,240,232,118,234,97,246,12],[249,64,121,51,188,177,120,242,154,188,183,19,169,184,191,58,247,54,201,105,183,252,1,174,137,168,67,115,205,74,83,48],[148,78,17,224,180,210,27,78,248,154,172,73,225,99,244,125,183,159,32,63,156,237,2,106,154,238,145,219,249,20,99,236],[65,223,147,137,86,142,157,142,240,202,58,147,153,148,222,86,84,146,150,144,157,114,32,119,48,53,102,172,103,218,54,144],[170,129,252,29,172,59,196,126,215,205,18,7,67,183,164,202,205,172,89,41,85,50,96,43,50,60,146,245,255,96,95,107],[1,158,205,13,8,139,136,234,117,47,214,20,249,100,191,188,104,16,186,132,101,186,196,19,104,149,169,231,5,248,0,195],[107,93,20,229,111,211,39,25,91,160,55,27,89,140,251,231,244,101,143,152,235,153,242,116,139,105,173,126,158,102,28,83],[119,238,157,107,2,77,88,164,227,95,149,23,35,199,186,5,125,136,105,142,216,193,164,173,36,54,229,110,20,192,223,143],[115,83,57,29,241,65,99,58,252,173,175,198,245,137,193,4,152,208,176,208,109,139,111,236,80,36,123,128,174,238,230,120],[32,120,228,45,236,5,247,156,158,9,236,195,69,123,1,142,31,155,243,24,149,102,26,4,36,105,187,47,74,155,249,30],[25,203,155,115,37,173,46,32,148,128,1,115,181,129,104,110,1,64,254,172,185,92,95,13,162,238,247,249,236,92,62,198],[23,170,253,150,207,200,9,185,183,105,42,198,21,77,19,223,25,33,246,223,108,251,115,254,67,66,122,103,196,201,5,0],[98,166,236,146,176,76,38,242,178,234,104,39,206,131,150,202,231,227,158,124,99,127,146,99,122,170,92,201,0,55,15,122],[52,254,166,158,195,222,10,106,217,109,200,28,240,161,78,129,47,215,180,106,234,236,135,245,5,173,63,81,125,213,206,220],[76,191,62,180,181,133,191,128,33,38,53,53,163,66,234,11,113,75,169,80,133,80,10,128,7,163,118,14,206,71,202,187],[92,4,115,119,172,75,46,41,171,147,11,232,214,184,109,140,197,88,75,36,177,4,227,153,78,126,145,90,44,11,221,99],[182,9,207,255,214,8,70,86,206,204,15,197,117,140,224,39,135,78,42,165,184,59,32,165,78,255,62,2,163,207,77,129],[114,184,91,49,136,53,16,78,123,179,170,80,36,91,143,110,59,235,149,52,238,63,206,37,154,139,68,233,123,231,76,130],[204,14,248,8,139,99,195,249,191,217,117,69,125,165,233,31,170,102,49,250,215,134,158,254,236,248,224,232,29,184,160,164],[146,197,100,237,15,246,239,220,53,47,168,73,123,36,168,120,105,220,117,187,117,157,17,249,210,151,2,96,179,236,253,202],[226,22,83,70,166,110,64,29,135,219,28,179,188,23,201,223,84,230,2,81,92,70,244,173,244,75,206,198,117,81,245,241],[215,228,179,68,148,100,23,185,236,1,156,104,115,165,209,141,188,5,10,169,81,80,179,211,118,193,167,12,253,167,58,13],[0,211,244,236,241,182,65,90,96,171,91,225,63,79,237,147,188,53,103,49,254,33,63,54,118,165,165,222,123,239,183,210],[243,142,31,39,77,13,150,3,233,133,3,152,105,20,177,187,47,14,172,65,131,170,139,165,187,147,162,51,98,252,196,97],[235,25,225,15,7,13,148,91,162,174,191,82,71,234,112,207,105,149,65,178,105,215,175,142,22,111,165,217,123,91,5,81],[186,3,189,30,227,127,170,233,73,175,234,34,124,237,210,61,241,82,247,22,217,120,72,212,175,198,173,37,193,143,220,221],[31,17,116,69,198,89,155,25,138,172,245,114,201,0,38,232,143,202,95,98,149,58,31,39,113,224,192,73,112,215,194,6],[48,68,72,230,235,10,34,125,178,182,161,57,181,85,173,106,160,228,214,56,11,66,62,45,84,160,67,212,186,237,133,40],[200,109,111,255,150,60,169,46,60,34,31,208,68,151,185,151,203,121,5,219,183,130,15,6,119,189,0,133,56,33,61,159],[37,88,150,162,184,191,57,149,1,135,25,235,25,152,72,67,31,149,72,157,200,52,47,46,132,233,128,69,80,154,1,94],[120,162,95,5,21,10,254,109,253,5,200,228,218,140,85,158,47,67,204,59,6,149,205,3,140,45,45,135,199,195,23,134],[105,232,142,5,68,54,78,63,91,55,2,37,19,29,162,115,222,252,207,151,241,204,235,161,94,219,21,148,241,103,201,202],[241,213,214,175,174,83,87,3,25,45,230,73,3,25,45,168,14,229,229,96,246,224,93,7,197,101,110,156,7,236,84,166],[29,15,244,185,178,232,85,247,110,113,102,58,172,115,149,137,250,68,114,235,255,200,95,128,222,88,149,4,234,166,219,166],[197,251,173,7,91,41,41,243,20,15,120,141,88,189,145,98,145,241,238,178,172,146,243,187,245,236,136,94,207,24,203,174],[48,69,195,96,45,106,108,248,213,74,144,204,102,31,74,238,234,22,27,60,5,222,3,44,71,229,170,243,57,16,172,2],[133,133,82,172,16,249,104,96,118,152,177,26,140,177,122,69,104,4,182,58,20,152,235,117,138,56,15,130,43,166,120,245],[29,97,147,120,62,3,100,143,179,241,126,154,242,170,251,181,115,63,77,40,51,209,225,58,11,215,127,179,20,255,150,26],[228,173,237,238,22,205,116,19,141,2,173,69,211,67,66,114,80,5,124,62,206,125,48,110,39,122,39,135,92,13,62,232],[29,243,210,83,70,33,223,83,108,219,82,32,35,168,50,238,11,188,125,40,196,110,147,62,67,151,217,143,179,121,177,215],[27,82,98,135,131,23,21,191,52,156,134,148,158,92,90,190,232,88,213,155,78,181,57,74,36,188,184,215,233,226,14,83],[114,206,105,67,37,73,9,57,88,79,117,189,4,12,80,225,171,48,4,163,100,175,67,11,153,150,41,174,46,13,68,52],[36,6,241,239,53,227,181,3,148,124,88,145,82,65,18,201,180,182,81,249,249,114,103,7,80,247,160,21,251,164,117,186],[173,62,90,53,150,17,1,98,29,189,174,219,254,205,195,76,129,192,135,86,108,251,21,137,136,61,3,118,135,126,183,108],[186,235,192,131,213,114,235,1,1,123,243,166,26,244,144,4,170,226,10,56,122,46,103,62,126,177,155,223,40,45,247,52],[57,183,183,142,188,197,9,216,239,111,113,34,99,44,199,111,201,140,4,148,7,110,58,143,36,49,182,43,202,159,74,122],[37,72,128,114,99,165,22,41,6,84,61,192,150,114,8,194,209,225,128,109,119,118,231,134,66,147,91,56,245,212,171,20],[46,253,243,253,237,161,166,40,164,63,81,210,238,201,188,166,97,142,6,202,28,145,239,20,176,78,244,194,39,240,42,59],[124,228,5,26,40,35,59,109,18,151,40,243,196,158,110,5,232,129,223,39,62,109,144,247,171,226,227,56,157,129,99,35],[254,84,94,187,216,226,46,239,246,124,154,55,94,177,224,135,226,188,173,63,223,113,196,152,147,144,226,136,145,200,57,201],[255,9,138,175,108,111,158,31,70,186,131,187,192,186,230,82,226,204,194,59,126,89,204,79,128,97,115,231,56,228,194,200],[251,2,63,165,101,121,160,230,107,27,197,46,103,120,32,209,168,42,40,134,210,0,83,84,34,199,213,64,70,146,145,158],[8,218,106,138,161,101,141,239,99,40,83,112,234,210,45,239,209,112,145,253,9,239,56,28,241,62,247,2,147,17,23,162],[25,32,239,143,235,15,23,241,40,131,56,179,90,119,90,102,173,81,71,20,160,18,221,140,46,67,38,80,92,92,245,226],[202,196,244,59,198,149,200,91,193,65,141,229,56,143,187,119,232,86,95,116,159,117,89,124,226,173,143,2,34,121,99,97],[47,226,59,176,67,217,180,149,147,14,224,109,41,29,172,156,27,33,3,99,150,73,61,183,109,131,204,88,244,215,192,9],[31,224,241,101,35,239,93,175,205,31,4,201,117,98,189,88,237,83,226,185,22,43,92,185,132,143,130,167,250,108,80,52],[153,140,171,78,90,162,215,137,252,100,132,126,237,109,26,195,82,134,239,126,29,79,109,35,13,123,60,239,89,21,108,36],[129,36,185,249,1,96,143,115,19,125,63,128,94,22,53,116,48,200,189,206,223,0,157,225,187,16,48,138,241,16,1,159],[140,191,33,146,242,128,4,148,116,129,60,59,57,74,239,206,132,115,111,110,141,2,171,0,76,176,135,20,166,207,144,234]], [[226,125,146,40,7,142,198,194,250,69,138,197,178,48,200,175,64,162,128,209,160,40,103,140,105,41,142,144,175,107,137,245],[173,127,67,167,142,208,188,110,171,83,85,128,48,183,58,234,44,101,100,88,202,18,205,8,241,102,132,182,52,126,127,84],[255,48,47,193,141,236,51,225,182,34,110,126,61,159,38,188,161,48,74,76,84,35,173,187,32,138,102,67,255,1,141,156],[133,5,132,228,30,125,148,148,88,177,93,153,8,18,108,223,200,77,8,247,57,2,86,30,231,21,65,9,207,16,119,27],[72,187,89,97,245,12,102,88,131,14,107,190,72,209,90,57,1,99,34,123,99,164,140,165,201,202,28,60,13,243,94,171],[203,125,24,180,28,86,222,1,194,57,211,86,41,27,10,213,148,247,43,220,74,205,34,39,197,161,17,209,170,114,177,187],[245,157,16,55,75,23,53,240,188,240,114,224,236,96,13,8,112,67,204,22,243,37,15,240,191,216,191,250,213,28,220,196],[34,18,134,0,145,92,90,18,204,208,242,43,0,134,52,46,83,189,5,111,4,20,21,28,3,117,221,92,36,88,204,232],[216,0,250,162,238,237,71,250,20,48,35,179,34,66,163,44,254,124,247,218,199,16,17,156,135,89,82,128,251,220,249,105],[161,49,198,94,101,33,87,79,15,155,39,189,21,66,203,116,25,61,103,218,50,45,184,56,211,65,49,231,74,30,222,99],[255,114,246,96,144,227,106,251,90,128,28,171,206,132,180,162,242,213,84,181,35,156,196,88,239,151,140,3,142,117,131,115],[168,26,189,24,143,146,71,221,154,100,150,15,9,5,168,30,211,136,191,161,57,208,124,251,33,143,64,11,105,248,185,90],[150,201,182,138,43,31,170,162,16,203,103,116,164,240,181,47,168,37,98,144,45,169,167,66,51,203,138,113,184,131,37,47],[234,34,56,107,167,34,108,247,76,106,132,136,26,189,128,208,202,32,46,221,240,49,94,167,36,21,85,12,148,231,96,168],[84,144,18,190,108,85,85,237,37,218,183,58,176,218,5,210,75,115,32,154,171,28,191,50,19,237,118,124,68,159,122,168],[6,119,36,218,6,40,130,129,54,19,71,166,186,25,93,182,217,233,33,79,248,94,167,129,213,42,213,67,201,19,157,238],[245,32,121,122,43,2,208,232,76,227,41,215,43,96,182,75,30,207,165,49,15,129,127,164,221,216,86,154,225,173,54,187],[114,16,4,122,79,107,37,73,153,175,143,112,80,187,26,205,229,209,121,201,200,12,172,226,226,93,141,124,205,186,35,116],[244,104,112,247,229,74,130,230,213,197,94,253,25,240,38,50,81,137,178,146,153,139,136,86,160,170,38,198,40,44,187,28],[48,158,95,82,221,183,111,79,63,81,119,212,158,233,224,237,132,116,88,236,138,121,160,90,42,120,214,60,211,94,27,247],[52,95,236,183,1,11,214,2,123,192,13,221,185,151,65,73,8,238,120,22,195,85,146,218,169,0,183,141,39,47,219,50],[51,92,46,86,65,30,105,26,80,248,23,246,176,141,30,199,1,73,14,97,173,254,38,182,135,2,2,102,162,55,242,53],[120,76,68,99,176,74,240,154,85,169,94,135,109,207,171,159,204,134,177,236,215,38,158,160,247,63,55,180,167,192,113,206],[222,248,81,225,30,198,12,48,118,164,163,44,132,159,95,76,237,215,119,170,146,92,73,218,166,54,175,104,241,78,204,142],[121,193,171,7,76,50,193,129,202,204,89,188,146,44,45,225,59,105,227,19,0,70,155,247,83,240,180,244,242,138,216,96],[253,34,137,136,125,87,215,45,138,99,187,66,5,181,173,176,2,34,218,85,247,101,123,173,167,135,89,255,27,133,68,64],[221,212,12,214,30,52,30,153,29,246,33,169,197,214,29,90,25,112,126,197,19,217,176,207,93,150,132,75,60,82,86,79],[113,89,101,210,119,130,2,10,177,9,233,146,62,66,155,171,162,95,97,34,234,25,43,233,254,59,84,8,229,140,190,77],[121,92,144,29,229,5,171,219,197,235,195,207,78,235,218,13,3,241,248,13,144,46,58,255,127,45,88,214,82,41,110,6],[56,61,66,103,166,127,136,252,159,209,40,37,200,235,170,193,205,79,8,143,169,150,105,19,117,122,67,196,120,81,177,139],[145,148,36,197,91,61,234,35,143,228,53,248,96,242,102,145,88,93,41,244,148,203,233,48,106,163,219,225,101,48,81,110],[16,23,131,190,158,135,128,164,140,161,36,47,239,224,116,188,167,174,250,179,128,116,15,54,124,76,102,53,224,46,167,58],[91,146,245,178,108,135,212,140,239,166,250,169,31,113,220,27,86,77,177,100,88,91,82,94,58,148,60,207,185,133,189,85],[34,52,82,37,22,177,161,176,54,157,123,186,130,81,128,72,192,231,252,129,219,61,121,168,57,100,167,255,94,13,145,21],[97,114,46,14,38,178,223,170,63,17,14,182,83,132,202,155,143,108,138,212,41,15,191,196,140,181,245,39,70,246,220,71],[210,95,118,68,175,220,245,154,6,160,36,194,115,74,153,160,220,88,243,195,154,10,3,77,58,230,28,138,248,66,57,212],[113,152,118,247,168,112,201,96,19,74,143,9,250,188,236,33,221,250,167,16,118,52,199,95,20,131,152,151,174,235,137,80],[58,2,45,161,199,145,132,31,104,98,197,40,129,196,17,216,157,178,251,103,152,49,126,102,24,92,151,130,173,140,121,147],[142,25,252,231,238,5,214,236,6,116,149,80,63,214,52,192,244,184,214,66,250,53,155,107,72,82,71,98,19,71,45,77],[230,130,185,149,222,186,166,250,121,96,127,227,108,107,243,74,145,252,59,76,210,139,75,111,134,91,146,75,137,43,206,68],[232,194,26,44,115,162,229,106,60,252,216,148,204,206,244,230,175,121,58,169,47,139,95,149,199,128,31,38,29,34,165,208],[44,22,206,185,141,0,171,175,18,200,248,174,43,38,56,98,119,34,76,112,14,9,158,242,144,86,119,232,187,202,40,196],[159,66,122,134,121,253,38,119,56,25,127,72,241,226,121,3,207,112,122,104,80,125,23,188,80,145,86,7,253,5,139,227],[117,135,65,82,202,254,19,247,76,109,108,141,128,184,103,9,15,87,2,215,38,0,1,159,188,217,126,6,212,81,66,238],[175,212,249,150,42,48,189,81,237,41,71,182,255,87,103,76,32,142,219,153,182,210,189,177,73,189,124,42,159,18,91,50],[228,53,147,99,253,105,110,9,75,53,131,249,19,86,157,214,228,119,103,154,129,74,95,174,167,246,127,88,55,227,64,38],[219,180,235,61,213,80,134,14,4,55,127,217,97,135,129,115,111,55,184,251,195,144,134,43,206,171,213,222,34,234,246,217],[151,130,48,67,228,232,33,74,89,47,64,200,189,70,180,13,200,123,102,206,158,153,58,64,222,174,217,66,30,11,106,225],[70,200,8,190,198,21,13,57,0,155,170,14,242,227,237,25,116,33,192,153,71,11,0,66,224,160,249,87,186,40,57,185],[102,127,100,54,164,28,95,78,107,216,9,200,129,185,84,224,70,98,252,81,157,212,130,181,158,192,211,59,158,25,136,65],[253,55,157,67,30,231,195,176,169,6,77,130,213,19,30,52,130,190,80,187,109,185,204,146,145,67,96,151,115,19,71,52],[244,229,149,119,223,229,34,178,77,7,56,29,23,71,80,101,100,128,83,127,164,214,165,112,63,254,231,31,234,126,203,85],[66,144,170,52,42,124,213,75,194,93,172,97,118,225,17,169,143,122,67,26,115,50,249,169,146,207,136,220,187,191,163,147],[162,145,91,193,4,110,162,166,221,110,120,106,97,131,85,89,105,33,183,28,162,43,80,243,48,190,119,126,99,59,5,16],[231,238,212,247,66,34,206,35,9,127,244,26,9,199,210,212,61,222,32,135,175,56,194,209,192,71,66,105,35,132,24,71],[208,130,99,156,208,67,54,198,137,39,171,246,239,175,220,31,37,38,202,183,150,179,32,199,98,105,105,161,103,167,60,253],[52,185,108,144,229,35,167,59,27,151,8,137,85,12,101,95,70,179,33,14,138,50,158,33,132,202,244,168,27,57,176,88],[240,254,73,18,228,247,214,23,162,78,162,22,230,196,60,218,43,243,228,66,202,8,135,175,59,157,91,169,250,218,70,46],[99,245,163,45,138,210,75,68,186,200,42,96,112,21,117,112,143,34,77,161,104,235,205,75,124,67,219,85,99,127,45,11],[102,12,223,160,196,30,50,159,124,207,154,85,87,23,193,133,185,224,55,203,197,117,71,237,143,10,116,200,154,18,243,24],[127,20,50,81,73,59,226,142,160,160,152,58,8,216,218,254,231,249,139,105,86,229,97,40,25,67,96,127,32,100,236,231],[32,230,90,213,62,170,114,1,54,78,21,85,46,248,66,56,199,195,53,22,98,63,15,116,197,190,165,252,99,89,73,216],[46,224,42,96,198,234,12,245,108,64,118,19,89,246,37,77,148,136,54,244,240,233,21,83,144,216,158,135,60,147,77,223],[156,236,5,52,232,175,119,137,9,166,238,37,114,185,244,204,125,219,188,102,92,201,72,161,230,95,191,51,9,252,239,109],[253,100,54,228,236,156,71,189,203,238,33,206,249,114,147,104,45,104,19,244,209,116,187,203,245,158,57,232,78,218,33,0]],{from: accounts[9]}),'revert');
  });
  it('Should fail submitUserVotes(bytes32[],bytes32[]) when NOT comply with: _usersSaltHash.length == _usersVote.length', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractRedeemableTokenMock.address,accounts[6],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+481,{from:accounts[0]});
    let result = await truffleAssert.fails(localOnChainVoting.submitUserVotes([[44,10,160,239,158,85,17,100,214,118,22,195,76,83,26,116,15,62,153,214,1,235,62,66,245,73,14,212,169,54,239,212],[157,54,85,75,81,191,192,203,234,160,48,180,149,206,3,165,160,9,169,104,212,79,68,89,30,169,32,110,153,75,68,26],[33,49,157,26,17,191,36,137,38,160,65,26,214,245,48,153,180,175,33,213,149,88,161,190,206,9,111,219,93,148,179,177],[119,148,104,96,123,57,105,147,122,254,238,10,213,32,128,94,36,248,112,166,66,35,184,83,133,59,241,33,158,73,59,177],[129,25,191,124,75,231,195,146,198,129,78,74,56,178,105,87,133,164,163,195,225,97,50,100,203,118,191,214,160,205,114,147],[150,141,121,24,156,51,132,76,211,147,151,127,191,197,4,48,98,251,122,25,164,72,138,3,64,78,10,92,31,184,96,224],[2,155,45,191,1,26,246,165,188,65,99,191,10,240,135,192,143,2,195,6,194,196,160,254,88,220,238,156,121,105,88,48],[194,141,100,223,8,29,132,115,214,27,51,32,166,23,251,31,168,91,86,114,90,3,160,130,17,177,185,118,82,179,131,6],[100,82,145,214,95,71,144,168,63,251,210,52,52,164,56,219,25,63,119,189,95,134,127,6,84,100,229,50,80,13,84,79],[215,76,109,230,20,101,156,17,208,42,243,188,209,250,108,222,229,204,9,114,28,129,147,198,38,190,229,168,104,96,204,224],[60,115,43,60,242,154,248,56,231,15,163,156,31,233,112,116,126,122,100,33,118,39,204,126,180,153,196,91,167,60,123,30],[188,63,119,198,74,119,209,203,248,242,226,249,71,9,240,109,181,249,46,153,188,175,69,241,33,174,173,64,74,213,117,251],[226,72,80,199,146,12,245,56,249,188,90,174,179,161,16,43,89,116,103,7,154,86,9,135,244,180,253,218,238,235,59,103],[122,218,97,43,225,193,212,227,138,7,56,122,54,254,65,22,208,164,82,97,124,131,57,13,165,240,58,91,2,252,67,212],[144,129,91,21,124,230,90,67,121,63,243,98,6,143,193,176,72,209,228,218,155,166,131,103,241,70,94,11,113,55,65,237],[161,46,228,248,88,96,165,135,12,8,137,19,108,112,116,250,193,240,156,222,247,219,90,28,104,16,164,145,122,143,27,137],[242,177,17,215,245,130,83,210,45,148,207,223,2,87,34,43,7,49,134,236,97,240,124,83,196,38,88,236,10,197,219,13],[228,227,66,112,159,26,138,177,25,221,111,75,122,62,134,234,17,167,201,30,128,175,161,251,234,13,158,83,82,76,56,158],[239,214,113,147,95,40,62,196,84,6,85,90,54,85,122,60,10,110,15,87,246,69,56,152,26,198,213,157,146,132,107,49],[205,158,204,86,148,183,36,47,211,96,27,170,63,200,242,94,101,143,195,3,213,99,253,47,235,144,76,99,137,136,248,183],[102,73,250,171,155,108,196,117,242,136,232,21,153,46,38,86,184,23,108,53,1,116,54,215,89,215,166,145,219,58,203,23],[177,46,170,112,117,122,175,148,219,92,14,161,83,198,15,155,232,114,3,57,169,16,159,70,67,14,33,191,100,75,115,42],[238,242,29,156,181,139,199,122,214,121,54,38,135,115,55,214,222,198,13,42,90,206,24,210,202,214,114,113,53,116,254,222],[254,161,142,235,108,0,10,192,116,168,134,181,174,235,220,143,122,142,161,26,223,226,245,121,231,62,242,225,188,143,114,241],[51,126,30,7,75,0,158,4,247,252,71,26,21,177,251,75,235,35,155,203,110,131,149,115,235,114,39,193,15,153,231,173],[14,147,70,246,110,248,94,39,103,125,64,29,141,93,229,126,18,228,13,233,72,253,193,48,238,55,99,121,85,85,196,3],[190,229,122,187,42,125,75,208,61,250,96,84,129,115,0,90,66,36,88,62,164,145,113,206,61,68,145,119,86,186,179,176],[156,239,174,129,63,134,154,112,105,125,131,148,169,101,55,3,14,168,36,133,239,251,49,236,83,184,198,223,40,84,178,92],[68,245,31,14,185,86,143,14,134,87,167,7,230,231,50,200,114,123,217,35,158,56,147,243,152,77,230,145,106,66,213,169],[211,206,134,91,8,95,83,205,203,135,152,160,6,229,217,146,198,40,245,81,6,141,148,75,197,62,121,190,106,0,103,97],[246,146,233,16,88,153,203,93,27,159,100,228,194,246,218,23,155,107,221,143,188,76,251,116,33,56,26,107,42,163,240,167],[207,27,41,236,196,54,73,70,160,165,116,254,32,122,154,105,216,143,116,202,220,52,0,236,11,30,220,89,214,51,24,162],[196,221,15,76,227,14,162,39,87,142,197,113,255,90,118,161,197,88,156,129,25,134,80,105,178,72,30,178,143,172,255,114],[88,229,139,51,2,74,212,161,21,92,228,222,109,23,114,144,86,141,196,87,97,137,218,185,181,241,152,54,24,219,158,62],[186,159,244,172,5,244,239,226,89,205,245,41,103,97,190,7,85,106,230,158,76,187,46,88,155,82,132,32,150,65,38,78],[34,144,223,0,119,25,16,46,246,200,153,223,46,33,159,110,16,11,76,32,78,142,116,16,78,117,211,75,142,62,203,63],[220,72,154,105,2,16,194,3,157,104,95,127,99,108,184,206,110,210,212,163,103,181,65,86,146,159,233,138,215,113,117,231],[131,234,0,100,185,151,200,249,33,39,177,112,24,21,5,163,179,171,128,112,132,126,196,52,201,213,65,109,237,39,58,110],[194,11,140,19,123,7,64,52,166,122,96,175,164,169,195,151,222,43,71,210,194,125,80,60,189,10,45,26,6,24,51,164],[122,14,169,87,75,230,136,64,241,31,181,54,198,104,203,25,98,175,54,60,152,100,144,54,203,248,200,10,212,151,64,75],[192,45,142,101,108,1,89,211,4,194,196,245,198,212,97,26,51,5,95,166,122,36,117,126,91,96,58,124,112,212,210,36],[140,68,232,59,129,103,42,9,83,194,127,231,53,143,125,116,161,134,217,221,23,181,61,208,68,145,204,10,70,44,25,27],[50,110,20,50,205,11,228,136,111,66,59,136,161,85,202,130,6,19,248,41,80,47,1,73,67,175,126,221,255,117,184,254],[55,172,185,206,240,155,76,45,135,45,119,163,200,162,163,66,233,162,155,184,223,185,81,65,120,9,183,158,31,128,1,102],[162,14,206,88,91,144,141,215,244,94,66,184,205,185,73,72,117,148,224,238,218,47,8,102,192,67,116,122,46,40,188,60],[247,89,25,45,140,166,105,245,93,66,219,9,87,148,140,175,105,145,23,134,125,182,252,150,238,154,230,188,189,169,47,116],[122,164,173,73,219,244,158,227,223,177,177,175,190,35,155,237,69,130,83,178,80,118,162,2,19,100,222,32,32,117,115,102],[196,22,8,154,229,37,44,202,95,107,48,185,149,123,172,144,13,52,1,109,103,173,187,81,193,123,109,67,131,95,153,163],[13,29,212,194,39,205,78,191,110,170,33,117,96,99,100,240,189,40,64,177,184,60,30,201,232,76,213,127,201,176,74,252],[100,79,247,119,108,124,169,16,6,202,60,132,227,126,248,31,185,248,101,108,248,186,125,160,71,168,138,162,231,26,182,190],[229,138,117,117,46,58,108,124,156,110,178,234,107,117,13,29,45,217,183,125,207,179,104,177,172,235,8,55,132,158,69,94],[230,80,125,242,150,131,102,244,83,166,33,16,168,181,92,211,182,115,210,11,18,184,36,102,152,92,114,254,137,244,245,136],[33,60,99,165,137,166,102,248,18,4,240,162,116,177,148,138,200,88,202,42,91,146,193,239,56,30,180,115,52,136,100,76],[130,144,234,253,71,75,42,13,107,61,67,6,112,2,163,219,117,142,158,224,125,247,223,128,156,41,17,9,10,72,51,59],[16,219,238,152,142,220,230,102,194,39,30,194,88,49,164,235,159,245,55,91,117,176,232,187,189,235,167,99,86,178,71,98],[120,81,156,209,193,217,63,242,101,113,6,185,86,157,34,229,24,254,170,157,40,155,21,240,146,237,22,115,4,16,49,161],[2,180,137,102,67,87,107,85,95,249,166,233,136,71,117,109,157,5,239,224,227,118,218,138,149,128,119,69,50,66,218,252],[212,104,66,34,152,27,254,218,215,174,126,75,194,163,93,49,34,200,194,53,96,12,73,46,47,105,127,176,174,212,216,55],[150,255,151,36,154,125,5,133,1,148,75,119,74,225,121,236,93,34,23,110,79,187,67,178,146,106,224,48,7,134,43,250],[169,54,226,175,101,92,148,79,7,153,132,220,88,164,148,244,37,120,153,165,194,191,127,168,86,176,11,204,16,63,187,190],[93,71,147,3,14,18,52,85,124,58,7,12,21,96,30,206,193,54,81,169,82,5,73,89,56,122,161,107,198,208,133,160],[94,212,191,110,89,213,15,37,57,108,43,132,27,112,140,167,178,166,46,167,179,185,62,40,131,16,146,252,94,189,38,10],[251,211,156,12,239,196,196,164,106,80,227,167,51,194,97,87,240,43,247,188,55,150,155,144,203,93,211,75,140,27,122,233],[223,75,3,71,252,146,103,177,249,195,37,42,243,19,159,193,124,4,87,137,242,153,48,60,72,193,3,35,166,72,60,142],[49,65,101,18,107,5,27,223,175,143,47,213,192,73,106,118,36,188,8,234,43,245,196,122,209,94,15,22,72,38,86,212],[239,18,36,154,57,127,239,165,124,217,242,220,109,4,183,71,60,249,192,61,2,135,95,156,212,50,78,46,211,32,45,217]], [[226,125,146,40,7,142,198,194,250,69,138,197,178,48,200,175,64,162,128,209,160,40,103,140,105,41,142,144,175,107,137,245],[173,127,67,167,142,208,188,110,171,83,85,128,48,183,58,234,44,101,100,88,202,18,205,8,241,102,132,182,52,126,127,84],[255,48,47,193,141,236,51,225,182,34,110,126,61,159,38,188,161,48,74,76,84,35,173,187,32,138,102,67,255,1,141,156],[133,5,132,228,30,125,148,148,88,177,93,153,8,18,108,223,200,77,8,247,57,2,86,30,231,21,65,9,207,16,119,27],[72,187,89,97,245,12,102,88,131,14,107,190,72,209,90,57,1,99,34,123,99,164,140,165,201,202,28,60,13,243,94,171],[203,125,24,180,28,86,222,1,194,57,211,86,41,27,10,213,148,247,43,220,74,205,34,39,197,161,17,209,170,114,177,187],[245,157,16,55,75,23,53,240,188,240,114,224,236,96,13,8,112,67,204,22,243,37,15,240,191,216,191,250,213,28,220,196],[34,18,134,0,145,92,90,18,204,208,242,43,0,134,52,46,83,189,5,111,4,20,21,28,3,117,221,92,36,88,204,232],[216,0,250,162,238,237,71,250,20,48,35,179,34,66,163,44,254,124,247,218,199,16,17,156,135,89,82,128,251,220,249,105],[161,49,198,94,101,33,87,79,15,155,39,189,21,66,203,116,25,61,103,218,50,45,184,56,211,65,49,231,74,30,222,99],[255,114,246,96,144,227,106,251,90,128,28,171,206,132,180,162,242,213,84,181,35,156,196,88,239,151,140,3,142,117,131,115],[168,26,189,24,143,146,71,221,154,100,150,15,9,5,168,30,211,136,191,161,57,208,124,251,33,143,64,11,105,248,185,90],[150,201,182,138,43,31,170,162,16,203,103,116,164,240,181,47,168,37,98,144,45,169,167,66,51,203,138,113,184,131,37,47],[234,34,56,107,167,34,108,247,76,106,132,136,26,189,128,208,202,32,46,221,240,49,94,167,36,21,85,12,148,231,96,168],[84,144,18,190,108,85,85,237,37,218,183,58,176,218,5,210,75,115,32,154,171,28,191,50,19,237,118,124,68,159,122,168],[6,119,36,218,6,40,130,129,54,19,71,166,186,25,93,182,217,233,33,79,248,94,167,129,213,42,213,67,201,19,157,238],[245,32,121,122,43,2,208,232,76,227,41,215,43,96,182,75,30,207,165,49,15,129,127,164,221,216,86,154,225,173,54,187],[114,16,4,122,79,107,37,73,153,175,143,112,80,187,26,205,229,209,121,201,200,12,172,226,226,93,141,124,205,186,35,116],[244,104,112,247,229,74,130,230,213,197,94,253,25,240,38,50,81,137,178,146,153,139,136,86,160,170,38,198,40,44,187,28],[48,158,95,82,221,183,111,79,63,81,119,212,158,233,224,237,132,116,88,236,138,121,160,90,42,120,214,60,211,94,27,247],[52,95,236,183,1,11,214,2,123,192,13,221,185,151,65,73,8,238,120,22,195,85,146,218,169,0,183,141,39,47,219,50],[51,92,46,86,65,30,105,26,80,248,23,246,176,141,30,199,1,73,14,97,173,254,38,182,135,2,2,102,162,55,242,53],[120,76,68,99,176,74,240,154,85,169,94,135,109,207,171,159,204,134,177,236,215,38,158,160,247,63,55,180,167,192,113,206],[222,248,81,225,30,198,12,48,118,164,163,44,132,159,95,76,237,215,119,170,146,92,73,218,166,54,175,104,241,78,204,142],[121,193,171,7,76,50,193,129,202,204,89,188,146,44,45,225,59,105,227,19,0,70,155,247,83,240,180,244,242,138,216,96],[253,34,137,136,125,87,215,45,138,99,187,66,5,181,173,176,2,34,218,85,247,101,123,173,167,135,89,255,27,133,68,64],[221,212,12,214,30,52,30,153,29,246,33,169,197,214,29,90,25,112,126,197,19,217,176,207,93,150,132,75,60,82,86,79],[113,89,101,210,119,130,2,10,177,9,233,146,62,66,155,171,162,95,97,34,234,25,43,233,254,59,84,8,229,140,190,77],[121,92,144,29,229,5,171,219,197,235,195,207,78,235,218,13,3,241,248,13,144,46,58,255,127,45,88,214,82,41,110,6],[56,61,66,103,166,127,136,252,159,209,40,37,200,235,170,193,205,79,8,143,169,150,105,19,117,122,67,196,120,81,177,139],[145,148,36,197,91,61,234,35,143,228,53,248,96,242,102,145,88,93,41,244,148,203,233,48,106,163,219,225,101,48,81,110],[16,23,131,190,158,135,128,164,140,161,36,47,239,224,116,188,167,174,250,179,128,116,15,54,124,76,102,53,224,46,167,58],[91,146,245,178,108,135,212,140,239,166,250,169,31,113,220,27,86,77,177,100,88,91,82,94,58,148,60,207,185,133,189,85],[34,52,82,37,22,177,161,176,54,157,123,186,130,81,128,72,192,231,252,129,219,61,121,168,57,100,167,255,94,13,145,21],[97,114,46,14,38,178,223,170,63,17,14,182,83,132,202,155,143,108,138,212,41,15,191,196,140,181,245,39,70,246,220,71],[210,95,118,68,175,220,245,154,6,160,36,194,115,74,153,160,220,88,243,195,154,10,3,77,58,230,28,138,248,66,57,212],[113,152,118,247,168,112,201,96,19,74,143,9,250,188,236,33,221,250,167,16,118,52,199,95,20,131,152,151,174,235,137,80],[58,2,45,161,199,145,132,31,104,98,197,40,129,196,17,216,157,178,251,103,152,49,126,102,24,92,151,130,173,140,121,147],[142,25,252,231,238,5,214,236,6,116,149,80,63,214,52,192,244,184,214,66,250,53,155,107,72,82,71,98,19,71,45,77],[230,130,185,149,222,186,166,250,121,96,127,227,108,107,243,74,145,252,59,76,210,139,75,111,134,91,146,75,137,43,206,68],[232,194,26,44,115,162,229,106,60,252,216,148,204,206,244,230,175,121,58,169,47,139,95,149,199,128,31,38,29,34,165,208],[44,22,206,185,141,0,171,175,18,200,248,174,43,38,56,98,119,34,76,112,14,9,158,242,144,86,119,232,187,202,40,196],[159,66,122,134,121,253,38,119,56,25,127,72,241,226,121,3,207,112,122,104,80,125,23,188,80,145,86,7,253,5,139,227],[117,135,65,82,202,254,19,247,76,109,108,141,128,184,103,9,15,87,2,215,38,0,1,159,188,217,126,6,212,81,66,238],[175,212,249,150,42,48,189,81,237,41,71,182,255,87,103,76,32,142,219,153,182,210,189,177,73,189,124,42,159,18,91,50],[228,53,147,99,253,105,110,9,75,53,131,249,19,86,157,214,228,119,103,154,129,74,95,174,167,246,127,88,55,227,64,38],[219,180,235,61,213,80,134,14,4,55,127,217,97,135,129,115,111,55,184,251,195,144,134,43,206,171,213,222,34,234,246,217],[151,130,48,67,228,232,33,74,89,47,64,200,189,70,180,13,200,123,102,206,158,153,58,64,222,174,217,66,30,11,106,225],[70,200,8,190,198,21,13,57,0,155,170,14,242,227,237,25,116,33,192,153,71,11,0,66,224,160,249,87,186,40,57,185],[102,127,100,54,164,28,95,78,107,216,9,200,129,185,84,224,70,98,252,81,157,212,130,181,158,192,211,59,158,25,136,65],[253,55,157,67,30,231,195,176,169,6,77,130,213,19,30,52,130,190,80,187,109,185,204,146,145,67,96,151,115,19,71,52],[244,229,149,119,223,229,34,178,77,7,56,29,23,71,80,101,100,128,83,127,164,214,165,112,63,254,231,31,234,126,203,85],[66,144,170,52,42,124,213,75,194,93,172,97,118,225,17,169,143,122,67,26,115,50,249,169,146,207,136,220,187,191,163,147],[162,145,91,193,4,110,162,166,221,110,120,106,97,131,85,89,105,33,183,28,162,43,80,243,48,190,119,126,99,59,5,16],[231,238,212,247,66,34,206,35,9,127,244,26,9,199,210,212,61,222,32,135,175,56,194,209,192,71,66,105,35,132,24,71],[208,130,99,156,208,67,54,198,137,39,171,246,239,175,220,31,37,38,202,183,150,179,32,199,98,105,105,161,103,167,60,253],[52,185,108,144,229,35,167,59,27,151,8,137,85,12,101,95,70,179,33,14,138,50,158,33,132,202,244,168,27,57,176,88],[240,254,73,18,228,247,214,23,162,78,162,22,230,196,60,218,43,243,228,66,202,8,135,175,59,157,91,169,250,218,70,46],[99,245,163,45,138,210,75,68,186,200,42,96,112,21,117,112,143,34,77,161,104,235,205,75,124,67,219,85,99,127,45,11],[102,12,223,160,196,30,50,159,124,207,154,85,87,23,193,133,185,224,55,203,197,117,71,237,143,10,116,200,154,18,243,24],[127,20,50,81,73,59,226,142,160,160,152,58,8,216,218,254,231,249,139,105,86,229,97,40,25,67,96,127,32,100,236,231],[32,230,90,213,62,170,114,1,54,78,21,85,46,248,66,56,199,195,53,22,98,63,15,116,197,190,165,252,99,89,73,216],[46,224,42,96,198,234,12,245,108,64,118,19,89,246,37,77,148,136,54,244,240,233,21,83,144,216,158,135,60,147,77,223],[156,236,5,52,232,175,119,137,9,166,238,37,114,185,244,204,125,219,188,102,92,201,72,161,230,95,191,51,9,252,239,109],[253,100,54,228,236,156,71,189,203,238,33,206,249,114,147,104,45,104,19,244,209,116,187,203,245,158,57,232,78,218,33,0]],{from: accounts[0]}),'revert');
  });
  it('Should fail submitUserVotes(bytes32[],bytes32[]) when NOT comply with: _usersSaltHash.length != 0', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractRedeemableTokenMock.address,accounts[6],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+481,{from:accounts[0]});
    let result = await truffleAssert.fails(localOnChainVoting.submitUserVotes([], [[226,125,146,40,7,142,198,194,250,69,138,197,178,48,200,175,64,162,128,209,160,40,103,140,105,41,142,144,175,107,137,245],[173,127,67,167,142,208,188,110,171,83,85,128,48,183,58,234,44,101,100,88,202,18,205,8,241,102,132,182,52,126,127,84],[255,48,47,193,141,236,51,225,182,34,110,126,61,159,38,188,161,48,74,76,84,35,173,187,32,138,102,67,255,1,141,156],[133,5,132,228,30,125,148,148,88,177,93,153,8,18,108,223,200,77,8,247,57,2,86,30,231,21,65,9,207,16,119,27],[72,187,89,97,245,12,102,88,131,14,107,190,72,209,90,57,1,99,34,123,99,164,140,165,201,202,28,60,13,243,94,171],[203,125,24,180,28,86,222,1,194,57,211,86,41,27,10,213,148,247,43,220,74,205,34,39,197,161,17,209,170,114,177,187],[245,157,16,55,75,23,53,240,188,240,114,224,236,96,13,8,112,67,204,22,243,37,15,240,191,216,191,250,213,28,220,196],[34,18,134,0,145,92,90,18,204,208,242,43,0,134,52,46,83,189,5,111,4,20,21,28,3,117,221,92,36,88,204,232],[216,0,250,162,238,237,71,250,20,48,35,179,34,66,163,44,254,124,247,218,199,16,17,156,135,89,82,128,251,220,249,105],[161,49,198,94,101,33,87,79,15,155,39,189,21,66,203,116,25,61,103,218,50,45,184,56,211,65,49,231,74,30,222,99],[255,114,246,96,144,227,106,251,90,128,28,171,206,132,180,162,242,213,84,181,35,156,196,88,239,151,140,3,142,117,131,115],[168,26,189,24,143,146,71,221,154,100,150,15,9,5,168,30,211,136,191,161,57,208,124,251,33,143,64,11,105,248,185,90],[150,201,182,138,43,31,170,162,16,203,103,116,164,240,181,47,168,37,98,144,45,169,167,66,51,203,138,113,184,131,37,47],[234,34,56,107,167,34,108,247,76,106,132,136,26,189,128,208,202,32,46,221,240,49,94,167,36,21,85,12,148,231,96,168],[84,144,18,190,108,85,85,237,37,218,183,58,176,218,5,210,75,115,32,154,171,28,191,50,19,237,118,124,68,159,122,168],[6,119,36,218,6,40,130,129,54,19,71,166,186,25,93,182,217,233,33,79,248,94,167,129,213,42,213,67,201,19,157,238],[245,32,121,122,43,2,208,232,76,227,41,215,43,96,182,75,30,207,165,49,15,129,127,164,221,216,86,154,225,173,54,187],[114,16,4,122,79,107,37,73,153,175,143,112,80,187,26,205,229,209,121,201,200,12,172,226,226,93,141,124,205,186,35,116],[244,104,112,247,229,74,130,230,213,197,94,253,25,240,38,50,81,137,178,146,153,139,136,86,160,170,38,198,40,44,187,28],[48,158,95,82,221,183,111,79,63,81,119,212,158,233,224,237,132,116,88,236,138,121,160,90,42,120,214,60,211,94,27,247],[52,95,236,183,1,11,214,2,123,192,13,221,185,151,65,73,8,238,120,22,195,85,146,218,169,0,183,141,39,47,219,50],[51,92,46,86,65,30,105,26,80,248,23,246,176,141,30,199,1,73,14,97,173,254,38,182,135,2,2,102,162,55,242,53],[120,76,68,99,176,74,240,154,85,169,94,135,109,207,171,159,204,134,177,236,215,38,158,160,247,63,55,180,167,192,113,206],[222,248,81,225,30,198,12,48,118,164,163,44,132,159,95,76,237,215,119,170,146,92,73,218,166,54,175,104,241,78,204,142],[121,193,171,7,76,50,193,129,202,204,89,188,146,44,45,225,59,105,227,19,0,70,155,247,83,240,180,244,242,138,216,96],[253,34,137,136,125,87,215,45,138,99,187,66,5,181,173,176,2,34,218,85,247,101,123,173,167,135,89,255,27,133,68,64],[221,212,12,214,30,52,30,153,29,246,33,169,197,214,29,90,25,112,126,197,19,217,176,207,93,150,132,75,60,82,86,79],[113,89,101,210,119,130,2,10,177,9,233,146,62,66,155,171,162,95,97,34,234,25,43,233,254,59,84,8,229,140,190,77],[121,92,144,29,229,5,171,219,197,235,195,207,78,235,218,13,3,241,248,13,144,46,58,255,127,45,88,214,82,41,110,6],[56,61,66,103,166,127,136,252,159,209,40,37,200,235,170,193,205,79,8,143,169,150,105,19,117,122,67,196,120,81,177,139],[145,148,36,197,91,61,234,35,143,228,53,248,96,242,102,145,88,93,41,244,148,203,233,48,106,163,219,225,101,48,81,110],[16,23,131,190,158,135,128,164,140,161,36,47,239,224,116,188,167,174,250,179,128,116,15,54,124,76,102,53,224,46,167,58],[91,146,245,178,108,135,212,140,239,166,250,169,31,113,220,27,86,77,177,100,88,91,82,94,58,148,60,207,185,133,189,85],[34,52,82,37,22,177,161,176,54,157,123,186,130,81,128,72,192,231,252,129,219,61,121,168,57,100,167,255,94,13,145,21],[97,114,46,14,38,178,223,170,63,17,14,182,83,132,202,155,143,108,138,212,41,15,191,196,140,181,245,39,70,246,220,71],[210,95,118,68,175,220,245,154,6,160,36,194,115,74,153,160,220,88,243,195,154,10,3,77,58,230,28,138,248,66,57,212],[113,152,118,247,168,112,201,96,19,74,143,9,250,188,236,33,221,250,167,16,118,52,199,95,20,131,152,151,174,235,137,80],[58,2,45,161,199,145,132,31,104,98,197,40,129,196,17,216,157,178,251,103,152,49,126,102,24,92,151,130,173,140,121,147],[142,25,252,231,238,5,214,236,6,116,149,80,63,214,52,192,244,184,214,66,250,53,155,107,72,82,71,98,19,71,45,77],[230,130,185,149,222,186,166,250,121,96,127,227,108,107,243,74,145,252,59,76,210,139,75,111,134,91,146,75,137,43,206,68],[232,194,26,44,115,162,229,106,60,252,216,148,204,206,244,230,175,121,58,169,47,139,95,149,199,128,31,38,29,34,165,208],[44,22,206,185,141,0,171,175,18,200,248,174,43,38,56,98,119,34,76,112,14,9,158,242,144,86,119,232,187,202,40,196],[159,66,122,134,121,253,38,119,56,25,127,72,241,226,121,3,207,112,122,104,80,125,23,188,80,145,86,7,253,5,139,227],[117,135,65,82,202,254,19,247,76,109,108,141,128,184,103,9,15,87,2,215,38,0,1,159,188,217,126,6,212,81,66,238],[175,212,249,150,42,48,189,81,237,41,71,182,255,87,103,76,32,142,219,153,182,210,189,177,73,189,124,42,159,18,91,50],[228,53,147,99,253,105,110,9,75,53,131,249,19,86,157,214,228,119,103,154,129,74,95,174,167,246,127,88,55,227,64,38],[219,180,235,61,213,80,134,14,4,55,127,217,97,135,129,115,111,55,184,251,195,144,134,43,206,171,213,222,34,234,246,217],[151,130,48,67,228,232,33,74,89,47,64,200,189,70,180,13,200,123,102,206,158,153,58,64,222,174,217,66,30,11,106,225],[70,200,8,190,198,21,13,57,0,155,170,14,242,227,237,25,116,33,192,153,71,11,0,66,224,160,249,87,186,40,57,185],[102,127,100,54,164,28,95,78,107,216,9,200,129,185,84,224,70,98,252,81,157,212,130,181,158,192,211,59,158,25,136,65],[253,55,157,67,30,231,195,176,169,6,77,130,213,19,30,52,130,190,80,187,109,185,204,146,145,67,96,151,115,19,71,52],[244,229,149,119,223,229,34,178,77,7,56,29,23,71,80,101,100,128,83,127,164,214,165,112,63,254,231,31,234,126,203,85],[66,144,170,52,42,124,213,75,194,93,172,97,118,225,17,169,143,122,67,26,115,50,249,169,146,207,136,220,187,191,163,147],[162,145,91,193,4,110,162,166,221,110,120,106,97,131,85,89,105,33,183,28,162,43,80,243,48,190,119,126,99,59,5,16],[231,238,212,247,66,34,206,35,9,127,244,26,9,199,210,212,61,222,32,135,175,56,194,209,192,71,66,105,35,132,24,71],[208,130,99,156,208,67,54,198,137,39,171,246,239,175,220,31,37,38,202,183,150,179,32,199,98,105,105,161,103,167,60,253],[52,185,108,144,229,35,167,59,27,151,8,137,85,12,101,95,70,179,33,14,138,50,158,33,132,202,244,168,27,57,176,88],[240,254,73,18,228,247,214,23,162,78,162,22,230,196,60,218,43,243,228,66,202,8,135,175,59,157,91,169,250,218,70,46],[99,245,163,45,138,210,75,68,186,200,42,96,112,21,117,112,143,34,77,161,104,235,205,75,124,67,219,85,99,127,45,11],[102,12,223,160,196,30,50,159,124,207,154,85,87,23,193,133,185,224,55,203,197,117,71,237,143,10,116,200,154,18,243,24],[127,20,50,81,73,59,226,142,160,160,152,58,8,216,218,254,231,249,139,105,86,229,97,40,25,67,96,127,32,100,236,231],[32,230,90,213,62,170,114,1,54,78,21,85,46,248,66,56,199,195,53,22,98,63,15,116,197,190,165,252,99,89,73,216],[46,224,42,96,198,234,12,245,108,64,118,19,89,246,37,77,148,136,54,244,240,233,21,83,144,216,158,135,60,147,77,223],[156,236,5,52,232,175,119,137,9,166,238,37,114,185,244,204,125,219,188,102,92,201,72,161,230,95,191,51,9,252,239,109],[253,100,54,228,236,156,71,189,203,238,33,206,249,114,147,104,45,104,19,244,209,116,187,203,245,158,57,232,78,218,33,0]],{from: accounts[0]}),'revert');
  });
  it('Should execute finalizeVote(string) WHEN msg.sender==_owner,(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp>=endTime,submissionsCount==votesCount', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractRedeemableTokenMock.address,accounts[7],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+305,{from:accounts[0]});
    let result = await localOnChainVoting.finalizeVote("UsesExample",{from: accounts[0]});
  });
  it('Should fail finalizeVote(string) when NOT comply with: msg.sender == _owner', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractRedeemableTokenMock.address,accounts[7],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+305,{from:accounts[0]});
    let result = await truffleAssert.fails(localOnChainVoting.finalizeVote("UsesExample",{from: accounts[9]}),'revert');
  });
});
