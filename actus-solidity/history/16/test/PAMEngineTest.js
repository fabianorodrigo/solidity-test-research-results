const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 10,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [156,118,81,1,241,209,22,179,41,109,2,84,17,171,91,148,23,59,54,51,43,42,221,254,197,126,28,11,232,130,209,249],"legalEntityIdCounterparty": [224,69,194,57,158,165,242,119,207,54,161,55,120,230,254,204,150,138,220,234,245,204,37,130,111,239,90,159,58,50,23,197],"dayCountConvention": 4,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 254,"statusDate": 91,"initialExchangeDate": 2014223715,"maturityDate": 901,"terminationDate": 39,"purchaseDate": 900,"capitalizationEndDate": 359,"cycleAnchorDateOfInterestPayment": 80,"cycleAnchorDateOfRateReset": 951,"cycleAnchorDateOfScalingIndex": 1971,"cycleAnchorDateOfFee": 66,"notionalPrincipal": 30,"nominalInterestRate": 100,"feeAccrued": 5,"accruedInterest": 95,"rateMultiplier": 150,"rateSpread": 900,"feeRate": 150,"nextResetRate": 19,"penaltyRate": 1460,"premiumDiscountAtIED": 29,"priceAtPurchaseDate": 4,"cycleOfInterestPayment": {"i": 69,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 51,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 23,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 401,"p": 0,"s": 0,"isSet": true},"lifeCap": 17,"lifeFloor": 81,"periodCap": 901,"periodFloor": 2440587},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 4,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [36,244,218,25,227,99,27,37,115,19,158,78,188,21,230,87,137,214,72,117,45,86,224,101,1,5,126,200,119,72,100,163],"legalEntityIdCounterparty": [130,237,163,149,151,139,137,101,251,4,137,131,144,160,36,190,91,86,150,129,120,206,21,8,70,40,164,229,210,5,31,225],"dayCountConvention": 0,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 29,"statusDate": 59,"initialExchangeDate": 89,"maturityDate": 71,"terminationDate": 9,"purchaseDate": 130,"capitalizationEndDate": 10,"cycleAnchorDateOfInterestPayment": 1336,"cycleAnchorDateOfRateReset": 4001,"cycleAnchorDateOfScalingIndex": 81,"cycleAnchorDateOfFee": 141,"notionalPrincipal": 26,"nominalInterestRate": 68570,"feeAccrued": 8,"accruedInterest": 32,"rateMultiplier": 64,"rateSpread": 70,"feeRate": 9,"nextResetRate": 4000,"penaltyRate": 3,"premiumDiscountAtIED": 146097,"priceAtPurchaseDate": 4899,"cycleOfInterestPayment": {"i": 66,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 109,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 32075,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 68569,"p": 0,"s": 0,"isSet": false},"lifeCap": 367,"lifeFloor": 86401,"periodCap": 121,"periodFloor": 150}, {"lastEventTime": 1532892062,"contractStatus": 3,"timeFromLastEvent": 1460,"nominalValue": 2,"nominalAccrued": 81,"feeAccrued": 899,"nominalRate": 901,"interestScalingMultiplier": 1461,"nominalScalingMultiplier": 4001,"contractRoleSign": 4}, 3999,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 14,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [60,191,138,5,9,254,87,166,34,19,245,87,206,207,217,88,128,206,185,244,105,116,173,150,188,241,127,143,145,164,2,125],"legalEntityIdCounterparty": [90,83,79,238,162,212,136,120,4,90,25,36,29,231,147,133,102,46,97,176,52,153,233,12,244,53,6,7,52,231,164,70],"dayCountConvention": 3,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 121,"statusDate": 27,"initialExchangeDate": 360,"maturityDate": 120,"terminationDate": 91,"purchaseDate": 110,"capitalizationEndDate": 68570,"cycleAnchorDateOfInterestPayment": 364,"cycleAnchorDateOfRateReset": 146096,"cycleAnchorDateOfScalingIndex": 70,"cycleAnchorDateOfFee": 4899,"notionalPrincipal": 365,"nominalInterestRate": 15,"feeAccrued": 2440587,"accruedInterest": 48,"rateMultiplier": 7,"rateSpread": 3,"feeRate": 86401,"nextResetRate": 68570,"penaltyRate": 49,"premiumDiscountAtIED": 64,"priceAtPurchaseDate": 95,"cycleOfInterestPayment": {"i": 2440588,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 130,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1461001,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 119,"p": 0,"s": 1,"isSet": true},"lifeCap": 2440589,"lifeFloor": 109,"periodCap": 160,"periodFloor": 140}, {"lastEventTime": 48,"contractStatus": 0,"timeFromLastEvent": 20,"nominalValue": 69,"nominalAccrued": 24,"feeAccrued": 48,"nominalRate": 21,"interestScalingMultiplier": 257,"nominalScalingMultiplier": 15,"contractRoleSign": 0}, {"eventTime": 1461001,"eventTimeWithEpochOffset": 51,"scheduleTime": 159,"eventType": 1,"currency": accounts[8],"pofType": 18,"stfType": 5}, 4801,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [205,153,183,99,48,175,133,224,26,219,162,158,76,116,45,172,109,157,20,20,11,41,229,35,78,22,127,86,55,202,236,251],"legalEntityIdCounterparty": [132,210,14,18,105,223,12,217,5,5,68,160,46,99,1,233,44,247,145,167,211,207,8,44,61,134,112,109,55,210,185,212],"dayCountConvention": 1,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 4001,"statusDate": 401,"initialExchangeDate": 1532892064,"maturityDate": 140,"terminationDate": 100,"purchaseDate": 20,"capitalizationEndDate": 12,"cycleAnchorDateOfInterestPayment": 86401,"cycleAnchorDateOfRateReset": 11,"cycleAnchorDateOfScalingIndex": 9999,"cycleAnchorDateOfFee": 50,"notionalPrincipal": 96,"nominalInterestRate": 1336,"feeAccrued": 86401,"accruedInterest": 99,"rateMultiplier": 41,"rateSpread": 90,"feeRate": 40,"nextResetRate": 131,"penaltyRate": 1532892064,"premiumDiscountAtIED": 1337,"priceAtPurchaseDate": 159,"cycleOfInterestPayment": {"i": 80,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 8,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 359,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 15,"p": 3,"s": 0,"isSet": false},"lifeCap": 97,"lifeFloor": 1461000,"periodCap": 32076,"periodFloor": 60}, 901, 121,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [92,180,248,150,33,93,37,226,202,10,139,176,127,18,120,187,86,138,80,199,152,38,78,112,167,61,228,207,133,85,10,87],"legalEntityIdCounterparty": [242,48,181,88,223,92,38,239,236,209,105,240,208,62,173,189,104,185,38,173,230,201,133,207,188,231,164,28,186,225,86,108],"dayCountConvention": 4,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 951,"statusDate": 129,"initialExchangeDate": 1461002,"maturityDate": 121,"terminationDate": 8,"purchaseDate": 64,"capitalizationEndDate": 25,"cycleAnchorDateOfInterestPayment": 32075,"cycleAnchorDateOfRateReset": 20,"cycleAnchorDateOfScalingIndex": 146097,"cycleAnchorDateOfFee": 7,"notionalPrincipal": 161,"nominalInterestRate": 146098,"feeAccrued": 96,"accruedInterest": 4000,"rateMultiplier": 359,"rateSpread": 950,"feeRate": 1337,"nextResetRate": 2446,"penaltyRate": 0,"premiumDiscountAtIED": 10000,"priceAtPurchaseDate": 3,"cycleOfInterestPayment": {"i": 25,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 11,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 80,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 91,"p": 5,"s": 0,"isSet": false},"lifeCap": 1970,"lifeFloor": 901,"periodCap": 1461000,"periodFloor": 2448}, 1461, 401,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [165,169,134,234,139,234,70,255,132,40,145,190,32,20,61,67,90,177,236,152,128,120,118,53,219,135,33,110,86,153,112,166],"legalEntityIdCounterparty": [59,75,85,243,90,191,71,178,118,147,210,187,25,65,21,104,136,104,152,54,61,79,116,101,76,204,149,103,84,85,98,246],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 4800,"statusDate": 1460,"initialExchangeDate": 4899,"maturityDate": 6,"terminationDate": 2446,"purchaseDate": 159,"capitalizationEndDate": 30,"cycleAnchorDateOfInterestPayment": 50,"cycleAnchorDateOfRateReset": 2448,"cycleAnchorDateOfScalingIndex": 141,"cycleAnchorDateOfFee": 86400,"notionalPrincipal": 15,"nominalInterestRate": 2440588,"feeAccrued": 11,"accruedInterest": 71,"rateMultiplier": 19,"rateSpread": 61,"feeRate": 4899,"nextResetRate": 119,"penaltyRate": 4799,"premiumDiscountAtIED": 159,"priceAtPurchaseDate": 254,"cycleOfInterestPayment": {"i": 361,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 4799,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 951,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 111,"p": 0,"s": 0,"isSet": true},"lifeCap": 4001,"lifeFloor": 60,"periodCap": 3999,"periodFloor": 129}, 10, 32076,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [50,186,105,185,2,64,192,47,16,243,239,94,72,51,3,50,95,62,117,184,206,51,1,71,14,43,105,147,242,36,176,47],"legalEntityIdCounterparty": [185,255,58,48,136,209,202,59,166,94,226,28,199,166,245,251,52,185,234,160,170,93,71,90,15,115,115,148,2,15,25,101],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 120,"statusDate": 21,"initialExchangeDate": 13,"maturityDate": 160,"terminationDate": 99,"purchaseDate": 32076,"capitalizationEndDate": 4899,"cycleAnchorDateOfInterestPayment": 50,"cycleAnchorDateOfRateReset": 1,"cycleAnchorDateOfScalingIndex": 4801,"cycleAnchorDateOfFee": 119,"notionalPrincipal": 9999,"nominalInterestRate": 1,"feeAccrued": 141,"accruedInterest": 900,"rateMultiplier": 101,"rateSpread": 89,"feeRate": 1461002,"nextResetRate": 65,"penaltyRate": 5,"premiumDiscountAtIED": 18,"priceAtPurchaseDate": 146096,"cycleOfInterestPayment": {"i": 40,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 9,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 26,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 360,"p": 0,"s": 0,"isSet": true},"lifeCap": 86401,"lifeFloor": 32076,"periodCap": 20,"periodFloor": 400}, 4799, 141,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [152,87,177,79,247,17,228,247,84,26,68,231,15,142,39,180,152,20,90,9,22,122,169,230,49,135,83,91,231,52,35,138],"legalEntityIdCounterparty": [217,160,149,22,125,12,196,213,231,164,138,239,132,103,130,149,135,182,51,230,233,140,218,98,139,129,243,80,185,46,92,32],"dayCountConvention": 0,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 5,"statusDate": 16,"initialExchangeDate": 146096,"maturityDate": 95,"terminationDate": 399,"purchaseDate": 0,"capitalizationEndDate": 32076,"cycleAnchorDateOfInterestPayment": 90,"cycleAnchorDateOfRateReset": 359,"cycleAnchorDateOfScalingIndex": 1337,"cycleAnchorDateOfFee": 31,"notionalPrincipal": 949,"nominalInterestRate": 9999,"feeAccrued": 91,"accruedInterest": 4899,"rateMultiplier": 3,"rateSpread": 59,"feeRate": 900,"nextResetRate": 140,"penaltyRate": 4799,"premiumDiscountAtIED": 159,"priceAtPurchaseDate": 4799,"cycleOfInterestPayment": {"i": 4799,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 49,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 4801,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 110,"p": 0,"s": 0,"isSet": false},"lifeCap": 4,"lifeFloor": 5,"periodCap": 1461001,"periodFloor": 1532892064}, 99, 899,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [16,254,188,228,118,17,58,40,142,85,96,24,203,244,68,177,136,180,97,50,187,255,94,64,233,173,68,194,81,58,152,243],"legalEntityIdCounterparty": [246,33,115,31,86,154,62,137,253,62,169,163,181,33,14,190,24,67,64,237,19,167,252,23,137,115,99,206,95,140,154,188],"dayCountConvention": 1,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 7,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 129,"statusDate": 900,"initialExchangeDate": 900,"maturityDate": 360,"terminationDate": 80,"purchaseDate": 2440588,"capitalizationEndDate": 40,"cycleAnchorDateOfInterestPayment": 131,"cycleAnchorDateOfRateReset": 17,"cycleAnchorDateOfScalingIndex": 4899,"cycleAnchorDateOfFee": 49,"notionalPrincipal": 3999,"nominalInterestRate": 367,"feeAccrued": 9999,"accruedInterest": 31,"rateMultiplier": 18,"rateSpread": 121,"feeRate": 146096,"nextResetRate": 41,"penaltyRate": 5,"premiumDiscountAtIED": 1,"priceAtPurchaseDate": 6,"cycleOfInterestPayment": {"i": 11,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 367,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 119,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 359,"p": 1,"s": 0,"isSet": false},"lifeCap": 41,"lifeFloor": 15,"periodCap": 161,"periodFloor": 24}, 27, 9999,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [158,227,12,68,233,57,194,246,111,197,117,195,121,229,144,89,37,20,173,108,233,240,157,139,16,57,139,246,36,52,102,20],"legalEntityIdCounterparty": [196,125,60,116,4,17,180,221,21,11,213,159,150,250,56,114,66,144,158,191,33,2,54,223,133,183,120,166,166,69,3,111],"dayCountConvention": 1,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 0,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 130,"statusDate": 86401,"initialExchangeDate": 1460,"maturityDate": 25,"terminationDate": 150,"purchaseDate": 2440587,"capitalizationEndDate": 16,"cycleAnchorDateOfInterestPayment": 15,"cycleAnchorDateOfRateReset": 80,"cycleAnchorDateOfScalingIndex": 3,"cycleAnchorDateOfFee": 140,"notionalPrincipal": 86401,"nominalInterestRate": 59,"feeAccrued": 361,"accruedInterest": 401,"rateMultiplier": 149,"rateSpread": 146098,"feeRate": 40,"nextResetRate": 160,"penaltyRate": 1336,"premiumDiscountAtIED": 4,"priceAtPurchaseDate": 7,"cycleOfInterestPayment": {"i": 139,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 51,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 32076,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 17,"p": 3,"s": 0,"isSet": true},"lifeCap": 51,"lifeFloor": 39,"periodCap": 401,"periodFloor": 368}, 121, 68570,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [230,139,19,184,218,26,194,215,15,66,7,47,221,38,163,114,144,30,109,141,192,210,152,140,161,188,45,217,170,234,60,67],"legalEntityIdCounterparty": [167,31,10,28,207,34,247,13,29,198,244,158,122,75,83,254,194,206,175,28,228,23,116,51,223,211,123,211,24,3,211,163],"dayCountConvention": 1,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 3,"statusDate": 97,"initialExchangeDate": 951,"maturityDate": 60,"terminationDate": 4800,"purchaseDate": 399,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 18,"cycleAnchorDateOfRateReset": 3999,"cycleAnchorDateOfScalingIndex": 151,"cycleAnchorDateOfFee": 110,"notionalPrincipal": 1532892063,"nominalInterestRate": 366,"feeAccrued": 4001,"accruedInterest": 2014223714,"rateMultiplier": 951,"rateSpread": 361,"feeRate": 2440588,"nextResetRate": 9999,"penaltyRate": 40,"premiumDiscountAtIED": 1970,"priceAtPurchaseDate": 111,"cycleOfInterestPayment": {"i": 139,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 51,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 120,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 2446,"p": 5,"s": 0,"isSet": false},"lifeCap": 8,"lifeFloor": 20,"periodCap": 68568,"periodFloor": 86399}, 1532892064, 13,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [101,145,250,24,62,201,50,35,227,125,136,59,135,178,121,13,143,12,86,68,213,1,72,192,153,151,137,209,175,0,238,107],"legalEntityIdCounterparty": [110,243,211,95,154,206,33,105,116,150,115,243,238,60,141,21,84,170,207,25,80,195,77,204,120,1,213,14,62,166,7,93],"dayCountConvention": 3,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 7,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 119,"statusDate": 1461001,"initialExchangeDate": 0,"maturityDate": 25,"terminationDate": 10000,"purchaseDate": 63,"capitalizationEndDate": 64,"cycleAnchorDateOfInterestPayment": 17,"cycleAnchorDateOfRateReset": 146096,"cycleAnchorDateOfScalingIndex": 17,"cycleAnchorDateOfFee": 151,"notionalPrincipal": 901,"nominalInterestRate": 401,"feeAccrued": 10,"accruedInterest": 4800,"rateMultiplier": 32,"rateSpread": 1,"feeRate": 100,"nextResetRate": 32,"penaltyRate": 29,"premiumDiscountAtIED": 2440589,"priceAtPurchaseDate": 129,"cycleOfInterestPayment": {"i": 3,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 146098,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 401,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 2448,"p": 4,"s": 0,"isSet": true},"lifeCap": 159,"lifeFloor": 0,"periodCap": 949,"periodFloor": 146096}, 17, 119,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [158,32,49,207,196,213,86,213,195,94,125,168,51,44,209,227,137,133,33,204,198,148,123,240,5,1,150,184,78,55,213,16],"legalEntityIdCounterparty": [229,102,44,22,110,199,49,9,183,183,203,34,169,34,177,89,111,74,110,118,243,150,99,141,141,48,214,149,60,100,30,104],"dayCountConvention": 4,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 161,"statusDate": 4,"initialExchangeDate": 146096,"maturityDate": 8,"terminationDate": 0,"purchaseDate": 68568,"capitalizationEndDate": 95,"cycleAnchorDateOfInterestPayment": 17,"cycleAnchorDateOfRateReset": 28,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 131,"notionalPrincipal": 110,"nominalInterestRate": 364,"feeAccrued": 2448,"accruedInterest": 1532892063,"rateMultiplier": 365,"rateSpread": 1461001,"feeRate": 1336,"nextResetRate": 359,"penaltyRate": 4001,"premiumDiscountAtIED": 32,"priceAtPurchaseDate": 66,"cycleOfInterestPayment": {"i": 90,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 7,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 20,"p": 4,"s": 0,"isSet": true},"lifeCap": 2014223715,"lifeFloor": 3,"periodCap": 1970,"periodFloor": 3}, 91, 129,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [180,108,1,1,157,254,166,222,59,75,141,141,203,245,89,21,254,76,230,60,124,234,109,240,19,240,54,18,100,20,142,228],"legalEntityIdCounterparty": [190,6,203,110,254,52,62,98,97,68,47,185,55,235,84,126,56,131,179,11,110,253,42,142,34,96,206,151,220,95,22,232],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 6,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 81,"statusDate": 20,"initialExchangeDate": 50,"maturityDate": 89,"terminationDate": 86399,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 368,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 49,"cycleAnchorDateOfFee": 1969,"notionalPrincipal": 110,"nominalInterestRate": 0,"feeAccrued": 69,"accruedInterest": 2447,"rateMultiplier": 32,"rateSpread": 68569,"feeRate": 7,"nextResetRate": 4799,"penaltyRate": 6,"premiumDiscountAtIED": 49,"priceAtPurchaseDate": 2446,"cycleOfInterestPayment": {"i": 2440587,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 365,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 27,"p": 5,"s": 0,"isSet": true},"cycleOfFee": {"i": 901,"p": 4,"s": 1,"isSet": true},"lifeCap": 1,"lifeFloor": 401,"periodCap": 17,"periodFloor": 900}, 9999, 9,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [61,172,158,106,233,144,69,11,98,151,80,200,119,226,178,22,218,71,189,59,129,74,78,82,91,101,23,145,193,148,243,231],"legalEntityIdCounterparty": [76,137,64,65,52,74,87,250,172,67,171,169,236,90,97,142,255,86,54,195,80,103,67,106,211,54,107,171,23,127,247,78],"dayCountConvention": 3,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 100,"statusDate": 65,"initialExchangeDate": 27,"maturityDate": 367,"terminationDate": 2440587,"purchaseDate": 2440589,"capitalizationEndDate": 4001,"cycleAnchorDateOfInterestPayment": 50,"cycleAnchorDateOfRateReset": 5,"cycleAnchorDateOfScalingIndex": 254,"cycleAnchorDateOfFee": 360,"notionalPrincipal": 1461002,"nominalInterestRate": 3,"feeAccrued": 1969,"accruedInterest": 160,"rateMultiplier": 16,"rateSpread": 28,"feeRate": 1532892062,"nextResetRate": 1,"penaltyRate": 29,"premiumDiscountAtIED": 50,"priceAtPurchaseDate": 146098,"cycleOfInterestPayment": {"i": 81,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 359,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 150,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 951,"p": 3,"s": 1,"isSet": false},"lifeCap": 256,"lifeFloor": 99,"periodCap": 10000,"periodFloor": 32075}, 901, 401,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [169,120,255,171,107,15,28,70,249,188,188,188,153,181,25,126,209,254,187,243,121,52,225,58,208,221,152,109,116,162,95,172],"legalEntityIdCounterparty": [255,189,50,210,142,137,39,126,92,181,249,34,24,145,15,117,100,240,35,214,174,121,72,175,133,204,208,114,123,11,215,137],"dayCountConvention": 6,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 39,"statusDate": 1532892063,"initialExchangeDate": 149,"maturityDate": 3999,"terminationDate": 1461002,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 3,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 10001,"cycleAnchorDateOfFee": 1970,"notionalPrincipal": 26,"nominalInterestRate": 0,"feeAccrued": 6,"accruedInterest": 400,"rateMultiplier": 86400,"rateSpread": 4800,"feeRate": 2440589,"nextResetRate": 6,"penaltyRate": 1460,"premiumDiscountAtIED": 9,"priceAtPurchaseDate": 60,"cycleOfInterestPayment": {"i": 4899,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 24,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 110,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 11,"p": 2,"s": 0,"isSet": true},"lifeCap": 69,"lifeFloor": 2,"periodCap": 32074,"periodFloor": 4899}, 368, 2446,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [173,177,183,20,15,95,56,206,219,156,45,215,39,236,66,80,97,178,130,156,240,200,188,136,4,189,184,172,145,173,91,140],"legalEntityIdCounterparty": [6,193,146,106,4,189,194,68,165,35,140,174,231,190,9,119,159,122,63,202,148,93,112,50,75,112,83,86,97,136,244,91],"dayCountConvention": 2,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 5,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 120,"statusDate": 24,"initialExchangeDate": 4900,"maturityDate": 96,"terminationDate": 59,"purchaseDate": 159,"capitalizationEndDate": 257,"cycleAnchorDateOfInterestPayment": 1532892063,"cycleAnchorDateOfRateReset": 159,"cycleAnchorDateOfScalingIndex": 361,"cycleAnchorDateOfFee": 900,"notionalPrincipal": 368,"nominalInterestRate": 2,"feeAccrued": 1338,"accruedInterest": 16,"rateMultiplier": 15,"rateSpread": 66,"feeRate": 4799,"nextResetRate": 3999,"penaltyRate": 40,"premiumDiscountAtIED": 99,"priceAtPurchaseDate": 949,"cycleOfInterestPayment": {"i": 31,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 68570,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 367,"p": 4,"s": 0,"isSet": false},"cycleOfFee": {"i": 81,"p": 1,"s": 1,"isSet": true},"lifeCap": 13,"lifeFloor": 4799,"periodCap": 79,"periodFloor": 1461000}, 146096, 4001,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [195,87,146,65,199,167,72,50,180,13,242,77,203,209,172,39,223,63,187,14,251,218,160,246,193,81,213,90,79,188,230,232],"legalEntityIdCounterparty": [196,28,86,67,216,194,231,93,40,53,70,171,103,121,206,148,248,238,34,92,101,85,51,4,236,111,149,133,236,155,134,96],"dayCountConvention": 1,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 2440587,"statusDate": 1532892062,"initialExchangeDate": 2446,"maturityDate": 400,"terminationDate": 400,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 18,"cycleAnchorDateOfRateReset": 139,"cycleAnchorDateOfScalingIndex": 141,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 10000,"nominalInterestRate": 0,"feeAccrued": 3,"accruedInterest": 63,"rateMultiplier": 2440589,"rateSpread": 64,"feeRate": 950,"nextResetRate": 30,"penaltyRate": 1460,"premiumDiscountAtIED": 1461000,"priceAtPurchaseDate": 3,"cycleOfInterestPayment": {"i": 19,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 4901,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 366,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 20,"p": 2,"s": 0,"isSet": true},"lifeCap": 1532892062,"lifeFloor": 31,"periodCap": 951,"periodFloor": 4800}, 900, 2014223715,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [52,59,236,21,248,168,31,250,117,208,54,21,48,163,7,243,105,133,30,131,132,167,13,212,190,144,202,100,152,37,186,167],"legalEntityIdCounterparty": [174,112,150,142,236,73,85,100,205,171,164,90,85,25,185,154,211,146,119,142,211,204,208,6,9,108,141,116,145,202,41,53],"dayCountConvention": 3,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 5,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 4899,"statusDate": 1338,"initialExchangeDate": 97,"maturityDate": 7,"terminationDate": 95,"purchaseDate": 1462,"capitalizationEndDate": 256,"cycleAnchorDateOfInterestPayment": 63,"cycleAnchorDateOfRateReset": 26,"cycleAnchorDateOfScalingIndex": 129,"cycleAnchorDateOfFee": 119,"notionalPrincipal": 121,"nominalInterestRate": 2440587,"feeAccrued": 101,"accruedInterest": 4900,"rateMultiplier": 4000,"rateSpread": 110,"feeRate": 400,"nextResetRate": 255,"penaltyRate": 71,"premiumDiscountAtIED": 9999,"priceAtPurchaseDate": 10,"cycleOfInterestPayment": {"i": 4901,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 7,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 21,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 1,"p": 4,"s": 1,"isSet": true},"lifeCap": 30,"lifeFloor": 365,"periodCap": 2014223714,"periodFloor": 61}, 257, 25,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [97,37,116,171,148,11,193,204,24,55,136,69,160,191,80,86,129,234,154,132,219,239,27,45,138,103,149,70,96,132,93,93],"legalEntityIdCounterparty": [241,16,49,58,42,3,105,57,144,145,38,59,223,105,42,178,100,93,150,216,94,100,39,18,86,192,254,158,51,169,197,204],"dayCountConvention": 1,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 900,"statusDate": 151,"initialExchangeDate": 361,"maturityDate": 1338,"terminationDate": 26,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 950,"cycleAnchorDateOfRateReset": 17,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 2,"notionalPrincipal": 16,"nominalInterestRate": 0,"feeAccrued": 9,"accruedInterest": 1,"rateMultiplier": 1,"rateSpread": 63,"feeRate": 6,"nextResetRate": 11,"penaltyRate": 160,"premiumDiscountAtIED": 97,"priceAtPurchaseDate": 140,"cycleOfInterestPayment": {"i": 2,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 4801,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1532892062,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 255,"p": 0,"s": 1,"isSet": true},"lifeCap": 950,"lifeFloor": 68568,"periodCap": 68570,"periodFloor": 50}, 32075, 79,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [42,177,61,90,99,133,199,221,209,60,220,129,57,0,114,136,110,54,177,191,193,98,147,162,94,162,175,224,215,200,160,210],"legalEntityIdCounterparty": [38,96,143,103,126,12,243,131,193,247,185,78,104,123,187,2,9,33,157,141,140,9,149,28,204,255,4,241,157,228,70,207],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 0,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 111,"statusDate": 16,"initialExchangeDate": 1461001,"maturityDate": 131,"terminationDate": 61,"purchaseDate": 32074,"capitalizationEndDate": 254,"cycleAnchorDateOfInterestPayment": 23,"cycleAnchorDateOfRateReset": 2014223715,"cycleAnchorDateOfScalingIndex": 14,"cycleAnchorDateOfFee": 949,"notionalPrincipal": 69,"nominalInterestRate": 399,"feeAccrued": 1461001,"accruedInterest": 4000,"rateMultiplier": 14,"rateSpread": 361,"feeRate": 91,"nextResetRate": 7,"penaltyRate": 161,"premiumDiscountAtIED": 4900,"priceAtPurchaseDate": 91,"cycleOfInterestPayment": {"i": 2447,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 366,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 21,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 25,"p": 0,"s": 0,"isSet": true},"lifeCap": 367,"lifeFloor": 26,"periodCap": 2,"periodFloor": 29}, 25, 110,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [212,167,34,167,180,70,198,230,241,232,221,110,75,164,100,189,179,244,56,110,52,141,175,169,247,19,73,245,80,96,129,142],"legalEntityIdCounterparty": [74,60,32,103,78,28,49,211,141,72,4,37,90,139,36,39,58,253,212,118,57,124,143,101,56,76,179,52,88,128,155,160],"dayCountConvention": 4,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 2447,"statusDate": 365,"initialExchangeDate": 68570,"maturityDate": 71,"terminationDate": 1532892062,"purchaseDate": 1970,"capitalizationEndDate": 86401,"cycleAnchorDateOfInterestPayment": 40,"cycleAnchorDateOfRateReset": 14,"cycleAnchorDateOfScalingIndex": 4800,"cycleAnchorDateOfFee": 80,"notionalPrincipal": 30,"nominalInterestRate": 10001,"feeAccrued": 2014223716,"accruedInterest": 29,"rateMultiplier": 1461000,"rateSpread": 101,"feeRate": 1461000,"nextResetRate": 91,"penaltyRate": 899,"premiumDiscountAtIED": 39,"priceAtPurchaseDate": 30,"cycleOfInterestPayment": {"i": 139,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 140,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 140,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 131,"p": 5,"s": 1,"isSet": true},"lifeCap": 14,"lifeFloor": 367,"periodCap": 21,"periodFloor": 32}, 86401, 130,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [185,12,57,183,87,188,131,67,30,133,124,213,81,135,32,164,73,44,1,214,113,49,161,252,68,85,88,204,23,117,190,8],"legalEntityIdCounterparty": [100,225,102,94,44,40,115,221,117,25,125,35,195,104,95,153,34,181,212,81,115,116,157,39,22,81,27,245,34,216,212,112],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 40,"statusDate": 901,"initialExchangeDate": 1337,"maturityDate": 150,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 10000,"cycleAnchorDateOfRateReset": 2014223715,"cycleAnchorDateOfScalingIndex": 110,"cycleAnchorDateOfFee": 30,"notionalPrincipal": 2014223716,"nominalInterestRate": 0,"feeAccrued": 900,"accruedInterest": 365,"rateMultiplier": 12,"rateSpread": 4899,"feeRate": 1462,"nextResetRate": 26,"penaltyRate": 48,"premiumDiscountAtIED": 21,"priceAtPurchaseDate": 129,"cycleOfInterestPayment": {"i": 1532892064,"p": 0,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 119,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 2440588,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 1971,"p": 2,"s": 0,"isSet": true},"lifeCap": 4900,"lifeFloor": 130,"periodCap": 14,"periodFloor": 64}, 18, 161,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [213,242,100,201,27,71,239,141,137,40,120,143,201,210,236,121,149,133,145,127,122,67,169,215,117,183,32,149,80,73,180,210],"legalEntityIdCounterparty": [211,239,79,107,139,138,168,109,155,87,247,9,173,80,46,172,220,104,196,198,39,150,179,51,46,27,229,81,65,194,165,172],"dayCountConvention": 0,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 70,"statusDate": 6,"initialExchangeDate": 5,"maturityDate": 14,"terminationDate": 361,"purchaseDate": 14,"capitalizationEndDate": 29,"cycleAnchorDateOfInterestPayment": 131,"cycleAnchorDateOfRateReset": 9999,"cycleAnchorDateOfScalingIndex": 150,"cycleAnchorDateOfFee": 3999,"notionalPrincipal": 81,"nominalInterestRate": 359,"feeAccrued": 29,"accruedInterest": 13,"rateMultiplier": 20,"rateSpread": 32076,"feeRate": 39,"nextResetRate": 68569,"penaltyRate": 361,"premiumDiscountAtIED": 109,"priceAtPurchaseDate": 368,"cycleOfInterestPayment": {"i": 365,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 70,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 7,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 2440588,"p": 3,"s": 1,"isSet": false},"lifeCap": 8,"lifeFloor": 2446,"periodCap": 361,"periodFloor": 60}, 4000, 51,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [65,152,199,69,231,117,231,199,57,42,171,62,176,234,156,20,255,171,142,185,8,134,240,223,62,88,70,84,110,154,18,22],"legalEntityIdCounterparty": [71,211,112,177,43,187,21,179,127,207,221,173,132,24,11,232,252,11,44,98,143,229,163,139,78,221,22,213,113,58,249,6],"dayCountConvention": 6,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 9999,"statusDate": 4001,"initialExchangeDate": 1971,"maturityDate": 71,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 4899,"cycleAnchorDateOfRateReset": 39,"cycleAnchorDateOfScalingIndex": 81,"cycleAnchorDateOfFee": 120,"notionalPrincipal": 3999,"nominalInterestRate": 0,"feeAccrued": 60,"accruedInterest": 66,"rateMultiplier": 151,"rateSpread": 68568,"feeRate": 2440587,"nextResetRate": 1969,"penaltyRate": 4900,"premiumDiscountAtIED": 2014223715,"priceAtPurchaseDate": 96,"cycleOfInterestPayment": {"i": 13,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 1,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1461,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 4001,"p": 2,"s": 1,"isSet": false},"lifeCap": 5,"lifeFloor": 1532892062,"periodCap": 1461002,"periodFloor": 159}, 140, 146097,{from: accounts[0]});
  });
});
