const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 15,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [179,101,60,177,105,129,145,170,183,30,155,255,197,91,10,215,245,193,96,236,82,169,223,0,250,120,207,69,67,12,199,249],"legalEntityIdCounterparty": [28,21,236,110,122,193,72,140,74,238,212,150,248,142,13,22,100,98,75,225,55,92,34,218,71,251,62,157,29,201,41,184],"dayCountConvention": 6,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 1,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 40,"statusDate": 950,"initialExchangeDate": 10,"maturityDate": 950,"terminationDate": 27,"purchaseDate": 901,"capitalizationEndDate": 61,"cycleAnchorDateOfInterestPayment": 4000,"cycleAnchorDateOfRateReset": 2447,"cycleAnchorDateOfScalingIndex": 4901,"cycleAnchorDateOfFee": 17,"notionalPrincipal": 32076,"nominalInterestRate": 1970,"feeAccrued": 32,"accruedInterest": 1461002,"rateMultiplier": 17,"rateSpread": 69,"feeRate": 4799,"nextResetRate": 66,"penaltyRate": 28,"premiumDiscountAtIED": 899,"priceAtPurchaseDate": 950,"cycleOfInterestPayment": {"i": 131,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 9999,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 4001,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 70,"p": 4,"s": 0,"isSet": false},"lifeCap": 25,"lifeFloor": 32074,"periodCap": 146097,"periodFloor": 1461000},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 9,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [4,5,221,51,210,156,42,3,85,61,219,78,163,86,166,217,150,196,32,132,193,157,6,94,108,69,109,188,6,117,17,149],"legalEntityIdCounterparty": [2,17,225,157,92,98,27,49,17,197,14,129,189,187,137,251,9,89,134,240,116,198,177,65,197,245,130,139,81,60,227,95],"dayCountConvention": 1,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 2,"statusDate": 11,"initialExchangeDate": 3,"maturityDate": 23,"terminationDate": 950,"purchaseDate": 32074,"capitalizationEndDate": 257,"cycleAnchorDateOfInterestPayment": 130,"cycleAnchorDateOfRateReset": 10000,"cycleAnchorDateOfScalingIndex": 367,"cycleAnchorDateOfFee": 120,"notionalPrincipal": 59,"nominalInterestRate": 4899,"feeAccrued": 121,"accruedInterest": 4799,"rateMultiplier": 70,"rateSpread": 81,"feeRate": 3,"nextResetRate": 359,"penaltyRate": 68570,"premiumDiscountAtIED": 367,"priceAtPurchaseDate": 10001,"cycleOfInterestPayment": {"i": 401,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 95,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 68568,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 367,"p": 2,"s": 1,"isSet": true},"lifeCap": 10,"lifeFloor": 366,"periodCap": 31,"periodFloor": 1461000}, {"lastEventTime": 12,"contractStatus": 2,"timeFromLastEvent": 4800,"nominalValue": 10,"nominalAccrued": 15,"feeAccrued": 9,"nominalRate": 1461002,"interestScalingMultiplier": 48,"nominalScalingMultiplier": 16,"contractRoleSign": 5}, 400,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 1,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [35,198,170,220,127,170,213,234,210,113,240,38,28,167,104,2,113,251,40,42,35,146,77,108,7,74,216,132,108,23,206,160],"legalEntityIdCounterparty": [69,63,55,80,178,63,103,249,168,70,5,54,254,35,123,25,175,216,214,4,221,217,167,68,7,214,162,106,119,47,180,45],"dayCountConvention": 2,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 364,"statusDate": 15,"initialExchangeDate": 39,"maturityDate": 79,"terminationDate": 21,"purchaseDate": 256,"capitalizationEndDate": 140,"cycleAnchorDateOfInterestPayment": 1969,"cycleAnchorDateOfRateReset": 4800,"cycleAnchorDateOfScalingIndex": 2014223715,"cycleAnchorDateOfFee": 901,"notionalPrincipal": 2446,"nominalInterestRate": 8,"feeAccrued": 4899,"accruedInterest": 32076,"rateMultiplier": 32075,"rateSpread": 86400,"feeRate": 146097,"nextResetRate": 2,"penaltyRate": 2446,"premiumDiscountAtIED": 8,"priceAtPurchaseDate": 68568,"cycleOfInterestPayment": {"i": 2,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 368,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 146098,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 4901,"p": 0,"s": 1,"isSet": true},"lifeCap": 86400,"lifeFloor": 1969,"periodCap": 146098,"periodFloor": 1971}, {"lastEventTime": 1969,"contractStatus": 0,"timeFromLastEvent": 146097,"nominalValue": 70,"nominalAccrued": 39,"feeAccrued": 18,"nominalRate": 5,"interestScalingMultiplier": 8,"nominalScalingMultiplier": 10000,"contractRoleSign": 8}, {"eventTime": 18,"eventTimeWithEpochOffset": 10001,"scheduleTime": 7,"eventType": 2,"currency": accounts[7],"pofType": 20,"stfType": 4}, 1461002,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [157,173,252,96,135,17,171,202,9,224,186,49,143,195,196,222,38,152,181,113,43,72,87,65,148,32,47,29,8,135,218,115],"legalEntityIdCounterparty": [193,212,152,59,106,197,85,127,248,236,238,66,28,253,127,242,150,209,145,64,246,195,28,105,203,75,135,137,235,154,92,116],"dayCountConvention": 6,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 111,"statusDate": 64,"initialExchangeDate": 365,"maturityDate": 161,"terminationDate": 140,"purchaseDate": 2448,"capitalizationEndDate": 5,"cycleAnchorDateOfInterestPayment": 13,"cycleAnchorDateOfRateReset": 2014223715,"cycleAnchorDateOfScalingIndex": 139,"cycleAnchorDateOfFee": 14,"notionalPrincipal": 66,"nominalInterestRate": 361,"feeAccrued": 256,"accruedInterest": 99,"rateMultiplier": 69,"rateSpread": 256,"feeRate": 2447,"nextResetRate": 18,"penaltyRate": 20,"premiumDiscountAtIED": 951,"priceAtPurchaseDate": 0,"cycleOfInterestPayment": {"i": 2440588,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 50,"p": 2,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 100,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 366,"p": 3,"s": 1,"isSet": false},"lifeCap": 4899,"lifeFloor": 256,"periodCap": 149,"periodFloor": 1338}, 81, 39,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [107,89,76,241,160,242,177,29,33,3,110,92,140,98,226,135,68,95,109,13,66,4,253,201,41,42,172,254,244,246,74,221],"legalEntityIdCounterparty": [50,160,17,112,35,78,89,88,246,55,183,250,1,147,243,11,207,87,14,158,135,103,148,129,186,61,25,139,155,25,213,19],"dayCountConvention": 1,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 15,"statusDate": 20,"initialExchangeDate": 1460,"maturityDate": 4799,"terminationDate": 1,"purchaseDate": 49,"capitalizationEndDate": 2448,"cycleAnchorDateOfInterestPayment": 1969,"cycleAnchorDateOfRateReset": 120,"cycleAnchorDateOfScalingIndex": 48,"cycleAnchorDateOfFee": 25,"notionalPrincipal": 899,"nominalInterestRate": 2014223714,"feeAccrued": 4901,"accruedInterest": 17,"rateMultiplier": 17,"rateSpread": 2447,"feeRate": 80,"nextResetRate": 25,"penaltyRate": 1460,"premiumDiscountAtIED": 1970,"priceAtPurchaseDate": 110,"cycleOfInterestPayment": {"i": 1461001,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 4001,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 111,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 31,"p": 4,"s": 0,"isSet": true},"lifeCap": 61,"lifeFloor": 1461,"periodCap": 68568,"periodFloor": 10000}, 365, 901,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [57,227,249,169,229,92,184,213,55,29,17,208,197,112,196,154,184,112,217,212,112,122,141,85,31,13,207,70,39,203,132,174],"legalEntityIdCounterparty": [199,173,227,89,247,115,77,114,42,188,11,210,61,46,253,196,49,179,36,30,79,131,99,67,175,55,216,35,103,138,153,102],"dayCountConvention": 1,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 254,"statusDate": 40,"initialExchangeDate": 256,"maturityDate": 69,"terminationDate": 1532892063,"purchaseDate": 899,"capitalizationEndDate": 2,"cycleAnchorDateOfInterestPayment": 90,"cycleAnchorDateOfRateReset": 141,"cycleAnchorDateOfScalingIndex": 41,"cycleAnchorDateOfFee": 18,"notionalPrincipal": 951,"nominalInterestRate": 21,"feeAccrued": 59,"accruedInterest": 20,"rateMultiplier": 120,"rateSpread": 0,"feeRate": 1969,"nextResetRate": 159,"penaltyRate": 50,"premiumDiscountAtIED": 0,"priceAtPurchaseDate": 8,"cycleOfInterestPayment": {"i": 361,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 63,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 10,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 39,"p": 0,"s": 0,"isSet": false},"lifeCap": 25,"lifeFloor": 79,"periodCap": 86400,"periodFloor": 19}, 11, 90,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [146,81,202,23,120,228,65,246,112,171,16,36,102,173,108,49,230,49,151,91,100,228,253,33,72,109,66,151,127,142,98,23],"legalEntityIdCounterparty": [218,71,242,172,221,100,252,41,32,203,192,187,153,64,60,7,163,24,128,128,58,232,2,244,51,162,144,171,127,148,78,213],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 2014223714,"statusDate": 26,"initialExchangeDate": 41,"maturityDate": 950,"terminationDate": 4801,"purchaseDate": 1532892062,"capitalizationEndDate": 71,"cycleAnchorDateOfInterestPayment": 1338,"cycleAnchorDateOfRateReset": 81,"cycleAnchorDateOfScalingIndex": 26,"cycleAnchorDateOfFee": 31,"notionalPrincipal": 256,"nominalInterestRate": 365,"feeAccrued": 10000,"accruedInterest": 10001,"rateMultiplier": 10,"rateSpread": 2440588,"feeRate": 1461001,"nextResetRate": 17,"penaltyRate": 14,"premiumDiscountAtIED": 159,"priceAtPurchaseDate": 79,"cycleOfInterestPayment": {"i": 367,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 18,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 3,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 2440587,"p": 3,"s": 0,"isSet": true},"lifeCap": 400,"lifeFloor": 119,"periodCap": 18,"periodFloor": 60}, 51, 129,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [186,143,216,139,32,188,101,2,237,112,167,105,236,14,180,116,156,136,0,154,56,248,111,125,135,212,140,129,30,95,116,130],"legalEntityIdCounterparty": [19,86,44,5,26,113,61,153,73,219,176,79,25,0,188,5,103,213,29,67,168,17,74,52,106,102,242,250,154,91,174,130],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 3,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 17,"statusDate": 65,"initialExchangeDate": 32,"maturityDate": 71,"terminationDate": 14,"purchaseDate": 0,"capitalizationEndDate": 1969,"cycleAnchorDateOfInterestPayment": 2,"cycleAnchorDateOfRateReset": 2440587,"cycleAnchorDateOfScalingIndex": 63,"cycleAnchorDateOfFee": 1461002,"notionalPrincipal": 64,"nominalInterestRate": 364,"feeAccrued": 139,"accruedInterest": 4,"rateMultiplier": 32075,"rateSpread": 161,"feeRate": 39,"nextResetRate": 256,"penaltyRate": 367,"premiumDiscountAtIED": 257,"priceAtPurchaseDate": 68569,"cycleOfInterestPayment": {"i": 10,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 950,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 119,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 1461000,"p": 1,"s": 1,"isSet": true},"lifeCap": 360,"lifeFloor": 27,"periodCap": 21,"periodFloor": 1461001}, 361, 24,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [53,203,78,219,135,200,218,108,213,6,97,163,255,196,39,180,55,210,107,212,22,178,171,146,111,128,190,108,193,168,91,236],"legalEntityIdCounterparty": [219,253,92,232,52,79,90,22,185,228,166,122,196,219,131,238,44,130,58,153,210,35,92,239,213,63,235,176,134,231,71,70],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 65,"statusDate": 91,"initialExchangeDate": 951,"maturityDate": 0,"terminationDate": 150,"purchaseDate": 2448,"capitalizationEndDate": 17,"cycleAnchorDateOfInterestPayment": 6,"cycleAnchorDateOfRateReset": 6,"cycleAnchorDateOfScalingIndex": 950,"cycleAnchorDateOfFee": 367,"notionalPrincipal": 6,"nominalInterestRate": 1338,"feeAccrued": 1971,"accruedInterest": 59,"rateMultiplier": 64,"rateSpread": 151,"feeRate": 20,"nextResetRate": 254,"penaltyRate": 1532892062,"premiumDiscountAtIED": 51,"priceAtPurchaseDate": 899,"cycleOfInterestPayment": {"i": 16,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1532892062,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 10001,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 86401,"p": 0,"s": 0,"isSet": false},"lifeCap": 95,"lifeFloor": 2014223714,"periodCap": 109,"periodFloor": 101}, 4800, 69,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [143,30,218,248,112,82,79,13,72,149,127,58,149,95,180,246,163,232,79,250,27,102,49,96,196,72,207,254,197,42,149,80],"legalEntityIdCounterparty": [178,66,94,24,29,201,171,64,184,165,217,160,129,122,189,253,112,215,239,215,196,193,72,46,22,154,89,116,135,21,165,226],"dayCountConvention": 2,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 4,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 1969,"statusDate": 80,"initialExchangeDate": 1532892064,"maturityDate": 4900,"terminationDate": 10000,"purchaseDate": 7,"capitalizationEndDate": 1,"cycleAnchorDateOfInterestPayment": 10001,"cycleAnchorDateOfRateReset": 4,"cycleAnchorDateOfScalingIndex": 28,"cycleAnchorDateOfFee": 28,"notionalPrincipal": 1532892064,"nominalInterestRate": 12,"feeAccrued": 150,"accruedInterest": 150,"rateMultiplier": 1971,"rateSpread": 23,"feeRate": 24,"nextResetRate": 1970,"penaltyRate": 25,"premiumDiscountAtIED": 28,"priceAtPurchaseDate": 899,"cycleOfInterestPayment": {"i": 31,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 68569,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1970,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 399,"p": 4,"s": 0,"isSet": true},"lifeCap": 4001,"lifeFloor": 81,"periodCap": 4001,"periodFloor": 51}, 19, 27,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [93,73,128,1,168,192,225,86,104,25,220,206,14,182,147,63,126,206,54,245,198,250,123,1,78,28,82,159,50,174,137,163],"legalEntityIdCounterparty": [237,254,146,99,213,114,66,208,75,149,94,4,33,192,236,87,16,114,226,33,149,25,248,150,150,242,14,135,74,93,70,12],"dayCountConvention": 6,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 361,"statusDate": 99,"initialExchangeDate": 10000,"maturityDate": 49,"terminationDate": 66,"purchaseDate": 101,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 81,"cycleAnchorDateOfRateReset": 91,"cycleAnchorDateOfScalingIndex": 8,"cycleAnchorDateOfFee": 139,"notionalPrincipal": 109,"nominalInterestRate": 90,"feeAccrued": 151,"accruedInterest": 1461000,"rateMultiplier": 63,"rateSpread": 10,"feeRate": 99,"nextResetRate": 10000,"penaltyRate": 161,"premiumDiscountAtIED": 86400,"priceAtPurchaseDate": 2,"cycleOfInterestPayment": {"i": 17,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 1338,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 129,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 3999,"p": 5,"s": 1,"isSet": false},"lifeCap": 19,"lifeFloor": 1336,"periodCap": 146097,"periodFloor": 23}, 6, 11,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [73,74,97,182,175,62,210,137,179,185,82,63,232,196,61,138,161,66,244,97,64,117,161,141,200,29,82,199,188,155,223,135],"legalEntityIdCounterparty": [134,3,69,181,115,215,21,141,67,50,32,85,42,51,230,205,13,87,128,102,31,243,70,244,177,79,0,63,35,150,12,118],"dayCountConvention": 4,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 131,"statusDate": 367,"initialExchangeDate": 361,"maturityDate": 1971,"terminationDate": 1461000,"purchaseDate": 66,"capitalizationEndDate": 31,"cycleAnchorDateOfInterestPayment": 6,"cycleAnchorDateOfRateReset": 1461,"cycleAnchorDateOfScalingIndex": 81,"cycleAnchorDateOfFee": 1461,"notionalPrincipal": 24,"nominalInterestRate": 10000,"feeAccrued": 61,"accruedInterest": 1532892063,"rateMultiplier": 1970,"rateSpread": 949,"feeRate": 7,"nextResetRate": 28,"penaltyRate": 150,"premiumDiscountAtIED": 70,"priceAtPurchaseDate": 24,"cycleOfInterestPayment": {"i": 60,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 90,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 59,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 109,"p": 1,"s": 0,"isSet": true},"lifeCap": 401,"lifeFloor": 32074,"periodCap": 26,"periodFloor": 0}, 2447, 151,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [44,136,71,155,187,231,51,175,223,172,74,231,72,251,86,110,244,89,76,14,66,92,110,232,205,34,251,102,24,243,180,37],"legalEntityIdCounterparty": [83,67,90,163,220,20,135,65,241,76,181,79,118,1,25,228,143,119,32,150,27,129,249,175,74,32,84,207,162,74,48,109],"dayCountConvention": 6,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 1532892064,"statusDate": 14,"initialExchangeDate": 26,"maturityDate": 1461001,"terminationDate": 86401,"purchaseDate": 91,"capitalizationEndDate": 8,"cycleAnchorDateOfInterestPayment": 4001,"cycleAnchorDateOfRateReset": 26,"cycleAnchorDateOfScalingIndex": 1461001,"cycleAnchorDateOfFee": 4801,"notionalPrincipal": 63,"nominalInterestRate": 69,"feeAccrued": 255,"accruedInterest": 360,"rateMultiplier": 2446,"rateSpread": 13,"feeRate": 950,"nextResetRate": 65,"penaltyRate": -1,"premiumDiscountAtIED": 2014223714,"priceAtPurchaseDate": 61,"cycleOfInterestPayment": {"i": 81,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 39,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 2448,"p": 4,"s": 0,"isSet": false},"cycleOfFee": {"i": 151,"p": 1,"s": 1,"isSet": false},"lifeCap": 254,"lifeFloor": 5,"periodCap": 0,"periodFloor": 949}, 4, 366,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [84,108,57,168,141,63,89,85,176,100,142,8,240,66,24,100,87,158,167,228,197,13,199,168,240,155,28,182,21,35,128,233],"legalEntityIdCounterparty": [118,170,5,147,47,202,212,186,19,42,103,129,219,4,235,203,126,113,155,110,152,167,151,208,32,54,189,136,17,129,130,210],"dayCountConvention": 5,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 31,"statusDate": 97,"initialExchangeDate": 5,"maturityDate": 1461002,"terminationDate": 160,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 900,"cycleAnchorDateOfRateReset": 68570,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 1336,"notionalPrincipal": 4801,"nominalInterestRate": 0,"feeAccrued": 48,"accruedInterest": 48,"rateMultiplier": 1532892063,"rateSpread": 4801,"feeRate": 4000,"nextResetRate": 140,"penaltyRate": 1,"premiumDiscountAtIED": 86400,"priceAtPurchaseDate": 32074,"cycleOfInterestPayment": {"i": 81,"p": 3,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 9999,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1462,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 64,"p": 1,"s": 0,"isSet": false},"lifeCap": 4000,"lifeFloor": 399,"periodCap": 15,"periodFloor": 120}, 10001, 901,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [58,142,202,238,187,243,14,56,212,182,71,48,25,223,220,230,182,13,240,96,236,169,106,14,249,42,174,92,212,83,49,236],"legalEntityIdCounterparty": [80,114,50,17,210,185,232,83,223,170,128,251,143,66,48,191,80,71,195,78,168,102,1,37,135,193,251,80,74,94,242,117],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 86400,"statusDate": 901,"initialExchangeDate": 4001,"maturityDate": 32074,"terminationDate": 5,"purchaseDate": 89,"capitalizationEndDate": 99,"cycleAnchorDateOfInterestPayment": 2014223714,"cycleAnchorDateOfRateReset": 10,"cycleAnchorDateOfScalingIndex": 2440588,"cycleAnchorDateOfFee": 8,"notionalPrincipal": 0,"nominalInterestRate": 7,"feeAccrued": 2446,"accruedInterest": 41,"rateMultiplier": 1532892063,"rateSpread": 109,"feeRate": 9,"nextResetRate": 40,"penaltyRate": 71,"premiumDiscountAtIED": 119,"priceAtPurchaseDate": 366,"cycleOfInterestPayment": {"i": 109,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 1970,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 4801,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 8,"p": 5,"s": 1,"isSet": false},"lifeCap": 2440587,"lifeFloor": 146096,"periodCap": 4001,"periodFloor": 1532892064}, 1460, 49,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [130,172,192,200,86,237,122,250,106,122,220,35,68,59,102,231,52,8,201,166,86,185,186,151,145,122,182,180,69,78,111,43],"legalEntityIdCounterparty": [7,234,233,165,74,90,158,228,92,171,91,170,200,4,76,87,103,27,70,38,143,142,211,12,89,205,66,173,215,48,190,16],"dayCountConvention": 4,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 130,"statusDate": 1532892063,"initialExchangeDate": 10000,"maturityDate": 39,"terminationDate": 13,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 899,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 2014223714,"cycleAnchorDateOfFee": 2440588,"notionalPrincipal": 110,"nominalInterestRate": 0,"feeAccrued": 2447,"accruedInterest": 14,"rateMultiplier": 401,"rateSpread": 13,"feeRate": 254,"nextResetRate": 10000,"penaltyRate": 161,"premiumDiscountAtIED": 146098,"priceAtPurchaseDate": 400,"cycleOfInterestPayment": {"i": 24,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 365,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 68569,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 160,"p": 5,"s": 1,"isSet": true},"lifeCap": 4799,"lifeFloor": 15,"periodCap": 1532892063,"periodFloor": 256}, 21, 368,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [87,169,196,226,128,125,19,216,157,30,94,55,188,67,134,223,227,71,125,7,119,135,69,253,131,34,222,164,79,48,206,194],"legalEntityIdCounterparty": [91,242,224,96,202,101,169,244,143,21,178,134,163,47,110,116,220,219,61,24,152,245,49,188,88,87,230,9,109,160,133,60],"dayCountConvention": 2,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 79,"statusDate": 401,"initialExchangeDate": 1532892063,"maturityDate": 3,"terminationDate": 1532892062,"purchaseDate": 359,"capitalizationEndDate": 900,"cycleAnchorDateOfInterestPayment": 2448,"cycleAnchorDateOfRateReset": 6,"cycleAnchorDateOfScalingIndex": 2,"cycleAnchorDateOfFee": 70,"notionalPrincipal": 1461001,"nominalInterestRate": 119,"feeAccrued": 1462,"accruedInterest": 71,"rateMultiplier": 100,"rateSpread": 27,"feeRate": 9999,"nextResetRate": 140,"penaltyRate": 2440589,"premiumDiscountAtIED": 59,"priceAtPurchaseDate": 60,"cycleOfInterestPayment": {"i": 120,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 2014223716,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 139,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 2446,"p": 5,"s": 0,"isSet": false},"lifeCap": 21,"lifeFloor": 23,"periodCap": 14,"periodFloor": 9999}, 950, 15,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [90,131,68,201,247,175,23,50,0,157,71,59,209,128,239,201,37,102,159,213,12,132,128,89,102,174,12,216,25,33,247,200],"legalEntityIdCounterparty": [99,131,205,213,129,181,97,126,95,30,142,131,49,164,194,118,156,129,211,11,219,73,20,66,75,186,167,152,220,155,201,32],"dayCountConvention": 4,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 7,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 4001,"statusDate": 141,"initialExchangeDate": 110,"maturityDate": 25,"terminationDate": 51,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 17,"cycleAnchorDateOfRateReset": 49,"cycleAnchorDateOfScalingIndex": 119,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 32075,"nominalInterestRate": 0,"feeAccrued": 399,"accruedInterest": 360,"rateMultiplier": 4799,"rateSpread": 2440589,"feeRate": 13,"nextResetRate": 121,"penaltyRate": 360,"premiumDiscountAtIED": -1,"priceAtPurchaseDate": 160,"cycleOfInterestPayment": {"i": 1338,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 1461,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 14,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 0,"p": 4,"s": 0,"isSet": true},"lifeCap": 4800,"lifeFloor": 86399,"periodCap": 109,"periodFloor": 4801}, 89, 1970,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [18,146,199,53,39,203,127,156,147,79,3,137,30,5,3,180,45,47,109,239,53,234,0,125,190,119,142,83,227,70,56,86],"legalEntityIdCounterparty": [128,224,173,181,160,57,21,80,84,183,81,233,185,0,188,212,132,95,7,109,116,250,83,92,45,121,50,123,132,69,112,121],"dayCountConvention": 5,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 3,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 14,"statusDate": 69,"initialExchangeDate": 1461002,"maturityDate": 8,"terminationDate": 64,"purchaseDate": 4899,"capitalizationEndDate": 401,"cycleAnchorDateOfInterestPayment": 12,"cycleAnchorDateOfRateReset": 2014223714,"cycleAnchorDateOfScalingIndex": 80,"cycleAnchorDateOfFee": 111,"notionalPrincipal": 68569,"nominalInterestRate": 1532892062,"feeAccrued": 8,"accruedInterest": 159,"rateMultiplier": 359,"rateSpread": 18,"feeRate": 21,"nextResetRate": 32075,"penaltyRate": 99,"premiumDiscountAtIED": 101,"priceAtPurchaseDate": 2,"cycleOfInterestPayment": {"i": 109,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 9999,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 48,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 64,"p": 2,"s": 0,"isSet": true},"lifeCap": 14,"lifeFloor": 1338,"periodCap": 1970,"periodFloor": 2446}, 13, 146098,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [91,190,109,226,174,95,177,252,47,170,117,250,187,7,163,247,87,211,156,252,153,220,207,244,214,223,223,4,234,170,12,93],"legalEntityIdCounterparty": [117,236,70,30,82,164,98,7,78,203,67,250,109,235,97,99,114,39,245,7,80,253,105,120,103,135,166,193,236,189,123,203],"dayCountConvention": 2,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 63,"statusDate": 32075,"initialExchangeDate": 1338,"maturityDate": 256,"terminationDate": 16,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 29,"cycleAnchorDateOfRateReset": 149,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 1532892064,"notionalPrincipal": 61,"nominalInterestRate": 0,"feeAccrued": 39,"accruedInterest": 151,"rateMultiplier": 1461002,"rateSpread": 65,"feeRate": 1970,"nextResetRate": 400,"penaltyRate": 361,"premiumDiscountAtIED": 69,"priceAtPurchaseDate": 23,"cycleOfInterestPayment": {"i": 4000,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 21,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 64,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 1460,"p": 3,"s": 0,"isSet": false},"lifeCap": 949,"lifeFloor": 121,"periodCap": 1461001,"periodFloor": 28}, 79, 1970,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [58,190,103,9,64,209,79,169,23,124,232,155,76,104,95,30,118,242,63,171,137,50,126,88,56,243,221,126,111,192,132,145],"legalEntityIdCounterparty": [235,166,111,36,63,168,188,73,224,82,177,246,173,30,21,17,28,123,207,194,75,221,48,206,123,215,119,86,255,92,138,190],"dayCountConvention": 1,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 130,"statusDate": 32074,"initialExchangeDate": 63,"maturityDate": 401,"terminationDate": 2447,"purchaseDate": 7,"capitalizationEndDate": 368,"cycleAnchorDateOfInterestPayment": 13,"cycleAnchorDateOfRateReset": 949,"cycleAnchorDateOfScalingIndex": 1336,"cycleAnchorDateOfFee": 32,"notionalPrincipal": 6,"nominalInterestRate": 149,"feeAccrued": 159,"accruedInterest": 32,"rateMultiplier": 51,"rateSpread": 1461002,"feeRate": 8,"nextResetRate": 99,"penaltyRate": 1337,"premiumDiscountAtIED": 2014223715,"priceAtPurchaseDate": 4901,"cycleOfInterestPayment": {"i": 2448,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 401,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 26,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 50,"p": 0,"s": 1,"isSet": true},"lifeCap": 131,"lifeFloor": 1970,"periodCap": 89,"periodFloor": 51}, 4801, 3,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [37,32,180,164,234,160,202,15,56,172,218,146,127,68,216,199,165,35,219,60,212,65,89,162,27,214,146,75,27,15,214,100],"legalEntityIdCounterparty": [21,145,249,231,107,72,70,167,103,42,61,170,94,120,249,108,5,214,188,164,74,112,102,65,25,69,102,82,83,182,128,88],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 1971,"statusDate": 4000,"initialExchangeDate": 2448,"maturityDate": 146096,"terminationDate": 6,"purchaseDate": 254,"capitalizationEndDate": 20,"cycleAnchorDateOfInterestPayment": 1337,"cycleAnchorDateOfRateReset": 41,"cycleAnchorDateOfScalingIndex": 96,"cycleAnchorDateOfFee": 1461002,"notionalPrincipal": 96,"nominalInterestRate": 40,"feeAccrued": 361,"accruedInterest": 1532892064,"rateMultiplier": 16,"rateSpread": 2440588,"feeRate": 366,"nextResetRate": 8,"penaltyRate": 1532892064,"premiumDiscountAtIED": 68570,"priceAtPurchaseDate": 81,"cycleOfInterestPayment": {"i": 80,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 161,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 7,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 81,"p": 4,"s": 1,"isSet": false},"lifeCap": 4000,"lifeFloor": 81,"periodCap": 86400,"periodFloor": 951}, 361, 68568,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [154,236,199,51,97,127,25,142,41,190,37,246,149,44,171,165,19,6,109,127,15,103,5,136,196,8,184,184,47,104,221,187],"legalEntityIdCounterparty": [197,208,118,19,201,14,86,136,239,163,80,89,208,8,23,208,237,196,0,41,89,197,45,110,82,228,122,171,80,2,147,56],"dayCountConvention": 2,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 5,"statusDate": 1461000,"initialExchangeDate": 48,"maturityDate": 12,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 1336,"cycleAnchorDateOfRateReset": 2014223714,"cycleAnchorDateOfScalingIndex": 86400,"cycleAnchorDateOfFee": 140,"notionalPrincipal": 5,"nominalInterestRate": 0,"feeAccrued": 359,"accruedInterest": 17,"rateMultiplier": 7,"rateSpread": 1,"feeRate": 1971,"nextResetRate": 12,"penaltyRate": 401,"premiumDiscountAtIED": 100,"priceAtPurchaseDate": 2014223715,"cycleOfInterestPayment": {"i": 119,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 16,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 50,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 1461002,"p": 3,"s": 1,"isSet": false},"lifeCap": 254,"lifeFloor": 2014223714,"periodCap": 95,"periodFloor": 8}, 2014223714, 28,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [34,234,155,191,104,78,239,20,32,4,192,238,136,184,146,202,139,180,196,116,147,241,23,187,120,209,223,184,192,149,72,215],"legalEntityIdCounterparty": [34,142,200,247,148,19,102,3,121,210,20,184,125,146,109,156,82,59,4,84,141,228,11,181,87,158,6,68,35,216,13,114],"dayCountConvention": 5,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 401,"statusDate": 10000,"initialExchangeDate": 2014223715,"maturityDate": 21,"terminationDate": 900,"purchaseDate": 2,"capitalizationEndDate": 900,"cycleAnchorDateOfInterestPayment": 1969,"cycleAnchorDateOfRateReset": 48,"cycleAnchorDateOfScalingIndex": 24,"cycleAnchorDateOfFee": 901,"notionalPrincipal": 5,"nominalInterestRate": 365,"feeAccrued": 4,"accruedInterest": 97,"rateMultiplier": 1337,"rateSpread": 949,"feeRate": 80,"nextResetRate": 254,"penaltyRate": 160,"premiumDiscountAtIED": 48,"priceAtPurchaseDate": 146097,"cycleOfInterestPayment": {"i": 120,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1969,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 6,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 359,"p": 5,"s": 0,"isSet": true},"lifeCap": 68569,"lifeFloor": 9,"periodCap": 256,"periodFloor": 10001}, 6, 0,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [11,175,199,213,128,70,147,1,5,57,182,226,64,84,208,43,84,194,121,137,242,192,238,33,125,141,91,196,33,42,32,181],"legalEntityIdCounterparty": [131,17,47,231,230,53,14,85,175,243,10,67,231,2,87,24,47,75,71,222,226,153,208,246,129,234,235,93,148,102,61,136],"dayCountConvention": 5,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 4,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 86401,"statusDate": 256,"initialExchangeDate": 160,"maturityDate": 159,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 4900,"cycleAnchorDateOfRateReset": 1462,"cycleAnchorDateOfScalingIndex": 15,"cycleAnchorDateOfFee": 1338,"notionalPrincipal": 40,"nominalInterestRate": 0,"feeAccrued": 161,"accruedInterest": 255,"rateMultiplier": 1,"rateSpread": 21,"feeRate": 101,"nextResetRate": 28,"penaltyRate": 950,"premiumDiscountAtIED": 365,"priceAtPurchaseDate": 12,"cycleOfInterestPayment": {"i": 4901,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 256,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 900,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 32075,"p": 2,"s": 0,"isSet": true},"lifeCap": 69,"lifeFloor": 255,"periodCap": 99,"periodFloor": 89}, 149, 6,{from: accounts[0]});
  });
});
