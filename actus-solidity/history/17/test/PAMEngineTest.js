const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 13,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [104,177,246,189,61,114,135,115,12,180,18,113,77,88,127,163,195,115,253,56,167,218,104,157,73,50,93,241,218,214,3,5],"legalEntityIdCounterparty": [55,33,170,118,47,18,211,53,12,53,207,11,183,242,214,13,167,21,16,24,77,79,134,62,187,186,42,145,58,209,179,86],"dayCountConvention": 2,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 150,"statusDate": 10,"initialExchangeDate": 2440589,"maturityDate": 86400,"terminationDate": 100,"purchaseDate": 111,"capitalizationEndDate": 16,"cycleAnchorDateOfInterestPayment": 65,"cycleAnchorDateOfRateReset": 89,"cycleAnchorDateOfScalingIndex": 86401,"cycleAnchorDateOfFee": 254,"notionalPrincipal": 400,"nominalInterestRate": 1461001,"feeAccrued": 4899,"accruedInterest": 1460,"rateMultiplier": 2014223715,"rateSpread": 110,"feeRate": 32076,"nextResetRate": 254,"penaltyRate": 366,"premiumDiscountAtIED": 146097,"priceAtPurchaseDate": 1336,"cycleOfInterestPayment": {"i": 254,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 255,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 11,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 40,"p": 2,"s": 0,"isSet": true},"lifeCap": 4000,"lifeFloor": 110,"periodCap": 29,"periodFloor": 255},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 4,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [20,243,127,184,176,26,68,161,218,117,249,114,209,252,3,210,27,145,66,82,172,144,202,160,150,124,197,100,35,141,150,105],"legalEntityIdCounterparty": [186,40,39,195,43,52,33,28,86,4,38,192,119,142,31,5,51,236,226,156,237,36,123,193,66,164,211,55,58,117,12,100],"dayCountConvention": 1,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 4801,"statusDate": 30,"initialExchangeDate": 1969,"maturityDate": 16,"terminationDate": 70,"purchaseDate": 9,"capitalizationEndDate": 60,"cycleAnchorDateOfInterestPayment": 100,"cycleAnchorDateOfRateReset": 39,"cycleAnchorDateOfScalingIndex": 91,"cycleAnchorDateOfFee": 3,"notionalPrincipal": 9,"nominalInterestRate": 4899,"feeAccrued": 2447,"accruedInterest": 899,"rateMultiplier": 14,"rateSpread": 1462,"feeRate": 12,"nextResetRate": 1969,"penaltyRate": 6,"premiumDiscountAtIED": 1969,"priceAtPurchaseDate": 48,"cycleOfInterestPayment": {"i": 111,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 899,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 99,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 97,"p": 2,"s": 1,"isSet": false},"lifeCap": 4801,"lifeFloor": 49,"periodCap": 1338,"periodFloor": 68570}, {"lastEventTime": 8,"contractStatus": 0,"timeFromLastEvent": 399,"nominalValue": 368,"nominalAccrued": 51,"feeAccrued": 99,"nominalRate": 3999,"interestScalingMultiplier": 2447,"nominalScalingMultiplier": 4799,"contractRoleSign": 0}, 3999,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 15,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [28,195,108,236,73,226,241,68,86,118,47,151,129,9,74,25,64,34,184,153,127,36,183,104,16,235,140,121,130,19,102,212],"legalEntityIdCounterparty": [138,234,204,19,61,80,81,180,26,75,25,236,131,24,253,88,232,76,121,78,103,158,176,71,175,81,188,60,142,191,17,64],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 20,"statusDate": 367,"initialExchangeDate": 60,"maturityDate": 90,"terminationDate": 1969,"purchaseDate": 109,"capitalizationEndDate": 121,"cycleAnchorDateOfInterestPayment": 14,"cycleAnchorDateOfRateReset": 129,"cycleAnchorDateOfScalingIndex": 161,"cycleAnchorDateOfFee": 4901,"notionalPrincipal": 950,"nominalInterestRate": 21,"feeAccrued": 10001,"accruedInterest": 131,"rateMultiplier": 130,"rateSpread": 50,"feeRate": 146097,"nextResetRate": 5,"penaltyRate": 12,"premiumDiscountAtIED": 368,"priceAtPurchaseDate": 68568,"cycleOfInterestPayment": {"i": 90,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 100,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 2,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 13,"p": 5,"s": 0,"isSet": false},"lifeCap": 1338,"lifeFloor": 41,"periodCap": 9999,"periodFloor": 68569}, {"lastEventTime": 360,"contractStatus": 1,"timeFromLastEvent": 2440587,"nominalValue": 2,"nominalAccrued": 1,"feeAccrued": 68570,"nominalRate": 1,"interestScalingMultiplier": 256,"nominalScalingMultiplier": 150,"contractRoleSign": 4}, {"eventTime": 32076,"eventTimeWithEpochOffset": 71,"scheduleTime": 69,"eventType": 6,"currency": accounts[0],"pofType": 8,"stfType": 10}, 254,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [127,144,160,232,225,3,45,251,127,72,216,177,188,223,225,59,32,59,89,249,162,238,201,46,119,77,70,4,149,124,81,180],"legalEntityIdCounterparty": [125,95,35,89,124,159,233,56,75,189,101,30,106,231,68,145,200,77,103,13,125,216,141,105,160,151,139,73,192,175,242,174],"dayCountConvention": 1,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 4900,"statusDate": 99,"initialExchangeDate": 367,"maturityDate": 1337,"terminationDate": 950,"purchaseDate": 71,"capitalizationEndDate": 3,"cycleAnchorDateOfInterestPayment": 364,"cycleAnchorDateOfRateReset": 368,"cycleAnchorDateOfScalingIndex": 3999,"cycleAnchorDateOfFee": 2440587,"notionalPrincipal": 131,"nominalInterestRate": 51,"feeAccrued": 149,"accruedInterest": -1,"rateMultiplier": 25,"rateSpread": 27,"feeRate": 146097,"nextResetRate": 65,"penaltyRate": 150,"premiumDiscountAtIED": 9999,"priceAtPurchaseDate": 146097,"cycleOfInterestPayment": {"i": 79,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 368,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 21,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 96,"p": 3,"s": 0,"isSet": true},"lifeCap": 10,"lifeFloor": 146098,"periodCap": 950,"periodFloor": 70}, 1970, 21,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [59,255,129,146,181,108,243,141,147,222,126,92,38,203,148,50,191,47,185,121,78,150,156,64,65,197,232,162,156,48,35,248],"legalEntityIdCounterparty": [58,180,19,249,116,147,251,87,65,172,234,155,207,60,95,188,69,16,76,123,74,21,112,164,22,231,166,187,201,56,243,78],"dayCountConvention": 0,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 359,"statusDate": 360,"initialExchangeDate": 91,"maturityDate": 100,"terminationDate": 10000,"purchaseDate": 131,"capitalizationEndDate": 160,"cycleAnchorDateOfInterestPayment": 13,"cycleAnchorDateOfRateReset": 97,"cycleAnchorDateOfScalingIndex": 99,"cycleAnchorDateOfFee": 149,"notionalPrincipal": 86399,"nominalInterestRate": 111,"feeAccrued": 160,"accruedInterest": 89,"rateMultiplier": 69,"rateSpread": 100,"feeRate": 100,"nextResetRate": 4001,"penaltyRate": 139,"premiumDiscountAtIED": 86400,"priceAtPurchaseDate": 2446,"cycleOfInterestPayment": {"i": 32,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 159,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 366,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 4899,"p": 1,"s": 1,"isSet": false},"lifeCap": 4899,"lifeFloor": 59,"periodCap": 120,"periodFloor": 160}, 950, 950,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [171,185,212,45,158,231,163,45,164,81,90,235,137,170,220,61,137,24,142,160,177,126,57,150,152,153,23,83,121,131,11,129],"legalEntityIdCounterparty": [160,7,199,122,45,27,49,249,138,125,133,191,208,216,226,57,12,152,243,217,244,163,178,209,200,171,94,171,106,242,195,191],"dayCountConvention": 0,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 1,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 32,"statusDate": 95,"initialExchangeDate": 1461002,"maturityDate": 68570,"terminationDate": 159,"purchaseDate": 1969,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 25,"cycleAnchorDateOfRateReset": 60,"cycleAnchorDateOfScalingIndex": 1532892063,"cycleAnchorDateOfFee": 31,"notionalPrincipal": 1,"nominalInterestRate": 11,"feeAccrued": 146098,"accruedInterest": 89,"rateMultiplier": 950,"rateSpread": 950,"feeRate": 899,"nextResetRate": 950,"penaltyRate": 9,"premiumDiscountAtIED": 254,"priceAtPurchaseDate": 23,"cycleOfInterestPayment": {"i": 120,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 146098,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1461,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 65,"p": 4,"s": 0,"isSet": true},"lifeCap": 97,"lifeFloor": 1338,"periodCap": 100,"periodFloor": 40}, 4901, 99,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [250,70,160,186,158,192,105,19,105,62,168,50,95,214,39,2,19,123,75,244,136,249,128,168,138,49,72,117,250,211,148,248],"legalEntityIdCounterparty": [100,165,222,208,104,208,167,252,96,188,247,113,28,181,46,16,119,221,75,93,157,186,200,178,102,175,45,208,213,140,16,128],"dayCountConvention": 1,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 1461,"statusDate": 60,"initialExchangeDate": 2440588,"maturityDate": 68569,"terminationDate": 97,"purchaseDate": 140,"capitalizationEndDate": 111,"cycleAnchorDateOfInterestPayment": 89,"cycleAnchorDateOfRateReset": 30,"cycleAnchorDateOfScalingIndex": 2014223716,"cycleAnchorDateOfFee": 26,"notionalPrincipal": 4001,"nominalInterestRate": 4800,"feeAccrued": 401,"accruedInterest": 1338,"rateMultiplier": 51,"rateSpread": 80,"feeRate": 4899,"nextResetRate": 26,"penaltyRate": 901,"premiumDiscountAtIED": 27,"priceAtPurchaseDate": 4801,"cycleOfInterestPayment": {"i": 255,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 4801,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 13,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 10001,"p": 2,"s": 0,"isSet": false},"lifeCap": 32075,"lifeFloor": 68568,"periodCap": 28,"periodFloor": 28}, 29, 119,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [234,182,12,80,32,243,244,119,89,171,160,239,191,100,240,20,245,225,148,189,216,147,96,86,255,19,232,248,240,148,59,231],"legalEntityIdCounterparty": [55,86,234,64,212,74,251,228,215,197,210,96,153,119,37,49,94,11,15,45,144,180,192,195,77,193,67,180,190,248,175,120],"dayCountConvention": 6,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 80,"statusDate": 12,"initialExchangeDate": 11,"maturityDate": 2447,"terminationDate": 4800,"purchaseDate": 0,"capitalizationEndDate": 12,"cycleAnchorDateOfInterestPayment": 68570,"cycleAnchorDateOfRateReset": 4000,"cycleAnchorDateOfScalingIndex": 8,"cycleAnchorDateOfFee": 61,"notionalPrincipal": 32074,"nominalInterestRate": 23,"feeAccrued": 256,"accruedInterest": 63,"rateMultiplier": 146098,"rateSpread": 80,"feeRate": 899,"nextResetRate": 149,"penaltyRate": 150,"premiumDiscountAtIED": 65,"priceAtPurchaseDate": 951,"cycleOfInterestPayment": {"i": 366,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 1969,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 10,"p": 5,"s": 0,"isSet": true},"cycleOfFee": {"i": 63,"p": 4,"s": 0,"isSet": false},"lifeCap": 160,"lifeFloor": 1337,"periodCap": 40,"periodFloor": 96}, 1337, 4901,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [212,217,209,13,224,210,12,243,96,244,139,62,200,252,72,167,6,142,187,176,42,164,169,190,25,129,241,113,82,34,1,254],"legalEntityIdCounterparty": [165,188,170,219,129,92,203,204,82,249,55,144,104,19,126,100,74,123,205,255,158,87,145,65,189,46,123,159,150,18,230,59],"dayCountConvention": 4,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 39,"statusDate": 10001,"initialExchangeDate": 367,"maturityDate": 10000,"terminationDate": 49,"purchaseDate": 31,"capitalizationEndDate": 61,"cycleAnchorDateOfInterestPayment": 70,"cycleAnchorDateOfRateReset": 96,"cycleAnchorDateOfScalingIndex": 2440587,"cycleAnchorDateOfFee": 28,"notionalPrincipal": 1971,"nominalInterestRate": -1,"feeAccrued": 400,"accruedInterest": 5,"rateMultiplier": 110,"rateSpread": 2446,"feeRate": 129,"nextResetRate": 161,"penaltyRate": 90,"premiumDiscountAtIED": 257,"priceAtPurchaseDate": 2,"cycleOfInterestPayment": {"i": 139,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 61,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 401,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 399,"p": 4,"s": 1,"isSet": true},"lifeCap": 9,"lifeFloor": 2446,"periodCap": 1462,"periodFloor": 1337}, 1461, 12,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [52,49,149,36,236,93,94,204,225,83,14,186,145,8,244,26,176,73,44,218,110,231,2,3,95,197,37,64,187,73,189,102],"legalEntityIdCounterparty": [233,147,58,236,143,219,215,214,194,170,222,236,231,87,34,38,131,13,8,187,232,0,214,138,87,187,158,223,124,53,133,223],"dayCountConvention": 1,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 7,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 4801,"statusDate": 950,"initialExchangeDate": 68570,"maturityDate": 68568,"terminationDate": 90,"purchaseDate": 8,"capitalizationEndDate": 41,"cycleAnchorDateOfInterestPayment": 50,"cycleAnchorDateOfRateReset": 4,"cycleAnchorDateOfScalingIndex": 256,"cycleAnchorDateOfFee": 254,"notionalPrincipal": 151,"nominalInterestRate": 28,"feeAccrued": 68568,"accruedInterest": 4,"rateMultiplier": 18,"rateSpread": 69,"feeRate": 146097,"nextResetRate": 367,"penaltyRate": 11,"premiumDiscountAtIED": 86399,"priceAtPurchaseDate": 4001,"cycleOfInterestPayment": {"i": 950,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 4000,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 109,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 2014223716,"p": 3,"s": 1,"isSet": true},"lifeCap": 86401,"lifeFloor": 2448,"periodCap": 2440587,"periodFloor": 146096}, 1971, 4000,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [32,245,32,66,77,242,143,63,239,223,119,4,75,120,248,240,85,70,198,81,17,37,150,139,99,127,135,198,0,107,63,211],"legalEntityIdCounterparty": [207,134,36,197,190,150,153,42,20,247,136,242,28,249,233,243,250,78,3,237,74,52,232,42,38,238,241,8,178,237,96,108],"dayCountConvention": 0,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 1,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 96,"statusDate": 97,"initialExchangeDate": 1337,"maturityDate": 2014223716,"terminationDate": 256,"purchaseDate": 4800,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 160,"cycleAnchorDateOfRateReset": 3,"cycleAnchorDateOfScalingIndex": 6,"cycleAnchorDateOfFee": 400,"notionalPrincipal": 4801,"nominalInterestRate": 28,"feeAccrued": 1337,"accruedInterest": 70,"rateMultiplier": 64,"rateSpread": 2448,"feeRate": 9,"nextResetRate": 32076,"penaltyRate": 96,"premiumDiscountAtIED": 1532892062,"priceAtPurchaseDate": 3,"cycleOfInterestPayment": {"i": 69,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 99,"p": 2,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 51,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 97,"p": 2,"s": 1,"isSet": false},"lifeCap": 71,"lifeFloor": 368,"periodCap": 64,"periodFloor": 4899}, 65, 91,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [195,110,24,37,223,156,254,21,60,83,66,134,35,170,79,43,9,161,232,161,160,101,212,188,2,224,165,3,239,20,86,20],"legalEntityIdCounterparty": [123,158,37,24,204,45,144,78,126,159,194,61,126,53,29,188,61,56,254,52,1,139,87,65,246,11,42,131,26,194,17,22],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 1,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 3999,"statusDate": 15,"initialExchangeDate": 68570,"maturityDate": 1532892062,"terminationDate": 29,"purchaseDate": 99,"capitalizationEndDate": 2014223714,"cycleAnchorDateOfInterestPayment": 150,"cycleAnchorDateOfRateReset": 119,"cycleAnchorDateOfScalingIndex": 146096,"cycleAnchorDateOfFee": 4901,"notionalPrincipal": 68570,"nominalInterestRate": 68569,"feeAccrued": 26,"accruedInterest": 360,"rateMultiplier": 119,"rateSpread": 1,"feeRate": 86399,"nextResetRate": 4899,"penaltyRate": 97,"premiumDiscountAtIED": 4,"priceAtPurchaseDate": 63,"cycleOfInterestPayment": {"i": 1969,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 146098,"p": 5,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 950,"p": 4,"s": 0,"isSet": false},"cycleOfFee": {"i": 32075,"p": 3,"s": 0,"isSet": true},"lifeCap": 51,"lifeFloor": 1969,"periodCap": 39,"periodFloor": 4001}, 1461, 4899,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [4,243,113,223,113,3,166,223,200,236,14,243,215,168,200,169,134,131,235,6,24,147,17,24,226,231,90,72,159,32,58,60],"legalEntityIdCounterparty": [204,221,85,41,243,206,217,224,211,174,16,38,103,185,60,125,102,234,208,167,34,144,49,184,22,87,13,224,149,224,4,46],"dayCountConvention": 5,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 151,"statusDate": 1460,"initialExchangeDate": 80,"maturityDate": 30,"terminationDate": 97,"purchaseDate": 3,"capitalizationEndDate": 364,"cycleAnchorDateOfInterestPayment": 951,"cycleAnchorDateOfRateReset": 4900,"cycleAnchorDateOfScalingIndex": 1532892062,"cycleAnchorDateOfFee": 17,"notionalPrincipal": -1,"nominalInterestRate": 141,"feeAccrued": 3,"accruedInterest": 101,"rateMultiplier": 16,"rateSpread": 24,"feeRate": 364,"nextResetRate": 49,"penaltyRate": 2440587,"premiumDiscountAtIED": 9,"priceAtPurchaseDate": 899,"cycleOfInterestPayment": {"i": 65,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 149,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 50,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 30,"p": 5,"s": 0,"isSet": true},"lifeCap": 901,"lifeFloor": 1,"periodCap": 146096,"periodFloor": 24}, 1970, 4800,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [174,175,35,224,252,91,184,110,224,9,0,56,209,47,36,55,81,215,63,161,124,158,232,113,233,87,141,49,61,196,153,76],"legalEntityIdCounterparty": [50,27,147,29,250,228,149,179,52,222,237,172,136,214,219,175,146,250,117,91,136,127,33,255,77,86,26,203,53,241,222,39],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 1,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 160,"statusDate": 110,"initialExchangeDate": 121,"maturityDate": 68569,"terminationDate": 101,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 951,"cycleAnchorDateOfRateReset": 4799,"cycleAnchorDateOfScalingIndex": 361,"cycleAnchorDateOfFee": 24,"notionalPrincipal": 69,"nominalInterestRate": 0,"feeAccrued": 66,"accruedInterest": 17,"rateMultiplier": 48,"rateSpread": 60,"feeRate": -1,"nextResetRate": 12,"penaltyRate": 11,"premiumDiscountAtIED": 899,"priceAtPurchaseDate": 28,"cycleOfInterestPayment": {"i": 61,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 255,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 32074,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 19,"p": 3,"s": 0,"isSet": true},"lifeCap": 12,"lifeFloor": 66,"periodCap": 21,"periodFloor": 109}, 950, 9,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [168,113,186,18,66,251,56,248,162,54,179,134,166,123,82,124,169,218,32,51,21,138,192,188,44,24,208,50,91,161,56,160],"legalEntityIdCounterparty": [26,44,100,39,18,156,134,146,55,60,242,115,81,144,204,187,69,51,61,126,129,27,175,133,173,29,142,135,165,176,26,200],"dayCountConvention": 5,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 32076,"statusDate": 1971,"initialExchangeDate": 1460,"maturityDate": 159,"terminationDate": 39,"purchaseDate": 951,"capitalizationEndDate": 1337,"cycleAnchorDateOfInterestPayment": 2014223714,"cycleAnchorDateOfRateReset": 27,"cycleAnchorDateOfScalingIndex": 2440589,"cycleAnchorDateOfFee": 366,"notionalPrincipal": 1461000,"nominalInterestRate": 27,"feeAccrued": 120,"accruedInterest": 21,"rateMultiplier": 1461001,"rateSpread": 121,"feeRate": 8,"nextResetRate": 4899,"penaltyRate": 364,"premiumDiscountAtIED": 3999,"priceAtPurchaseDate": 139,"cycleOfInterestPayment": {"i": 4901,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 151,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 91,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 21,"p": 2,"s": 1,"isSet": false},"lifeCap": 3,"lifeFloor": 2440589,"periodCap": 2014223714,"periodFloor": 364}, 65, 899,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [248,140,17,68,189,218,27,15,186,163,137,3,223,111,238,164,167,254,145,74,131,46,251,80,146,226,101,132,87,163,140,247],"legalEntityIdCounterparty": [182,42,224,13,125,19,115,6,153,169,6,129,63,47,61,130,130,200,250,186,201,250,111,126,247,90,248,103,61,204,26,214],"dayCountConvention": 3,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 79,"statusDate": 364,"initialExchangeDate": 1,"maturityDate": 4800,"terminationDate": 120,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 9999,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 111,"cycleAnchorDateOfFee": 1,"notionalPrincipal": 39,"nominalInterestRate": 0,"feeAccrued": 69,"accruedInterest": 21,"rateMultiplier": 1532892063,"rateSpread": 1970,"feeRate": 2446,"nextResetRate": 86400,"penaltyRate": 254,"premiumDiscountAtIED": 4800,"priceAtPurchaseDate": 160,"cycleOfInterestPayment": {"i": 100,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 1532892062,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 255,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 100,"p": 4,"s": 0,"isSet": false},"lifeCap": 4901,"lifeFloor": 401,"periodCap": 18,"periodFloor": 399}, 14, 3,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [102,158,82,228,18,224,143,231,190,18,238,234,60,103,238,236,200,127,91,74,98,164,176,228,168,153,151,140,105,2,67,135],"legalEntityIdCounterparty": [5,19,174,46,152,146,58,151,88,114,122,169,48,159,67,1,228,253,169,164,119,192,61,106,197,217,5,101,220,210,100,94],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 10001,"statusDate": 26,"initialExchangeDate": 1461002,"maturityDate": 1460,"terminationDate": 1461001,"purchaseDate": 4901,"capitalizationEndDate": 50,"cycleAnchorDateOfInterestPayment": 100,"cycleAnchorDateOfRateReset": 79,"cycleAnchorDateOfScalingIndex": 97,"cycleAnchorDateOfFee": 121,"notionalPrincipal": 146097,"nominalInterestRate": 32075,"feeAccrued": 1462,"accruedInterest": 68570,"rateMultiplier": -1,"rateSpread": 1337,"feeRate": 2446,"nextResetRate": 4800,"penaltyRate": 1461000,"premiumDiscountAtIED": 68568,"priceAtPurchaseDate": 1970,"cycleOfInterestPayment": {"i": 141,"p": 3,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 95,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 41,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 95,"p": 2,"s": 0,"isSet": false},"lifeCap": 21,"lifeFloor": 4801,"periodCap": 9,"periodFloor": 949}, 159, 91,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [25,77,105,142,82,203,139,215,60,39,183,235,58,120,142,146,165,172,67,63,80,68,70,209,139,216,113,148,198,206,5,146],"legalEntityIdCounterparty": [127,143,192,207,6,22,196,49,13,73,233,131,49,55,70,253,5,17,211,83,180,163,9,240,20,43,85,198,66,66,99,0],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 2448,"statusDate": 91,"initialExchangeDate": 364,"maturityDate": 360,"terminationDate": 86400,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 90,"cycleAnchorDateOfRateReset": 48,"cycleAnchorDateOfScalingIndex": 1,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 141,"nominalInterestRate": 0,"feeAccrued": 79,"accruedInterest": 361,"rateMultiplier": 30,"rateSpread": 1461002,"feeRate": 68568,"nextResetRate": 96,"penaltyRate": 90,"premiumDiscountAtIED": 257,"priceAtPurchaseDate": 31,"cycleOfInterestPayment": {"i": 364,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 64,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 13,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 149,"p": 4,"s": 1,"isSet": false},"lifeCap": 27,"lifeFloor": 2014223715,"periodCap": 27,"periodFloor": 1969}, 48, 40,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [0,221,39,249,105,169,184,200,204,252,181,74,167,178,83,228,42,53,173,196,130,230,1,111,154,146,203,92,67,54,115,27],"legalEntityIdCounterparty": [238,87,78,91,128,64,64,18,106,243,133,98,135,65,157,10,157,44,211,44,20,68,180,201,240,198,167,23,104,206,43,198],"dayCountConvention": 2,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 90,"statusDate": 61,"initialExchangeDate": 86401,"maturityDate": 10,"terminationDate": 366,"purchaseDate": 2447,"capitalizationEndDate": 70,"cycleAnchorDateOfInterestPayment": 4001,"cycleAnchorDateOfRateReset": 146096,"cycleAnchorDateOfScalingIndex": 6,"cycleAnchorDateOfFee": 3999,"notionalPrincipal": 17,"nominalInterestRate": 2440588,"feeAccrued": 19,"accruedInterest": 79,"rateMultiplier": 15,"rateSpread": 23,"feeRate": 364,"nextResetRate": 368,"penaltyRate": 71,"premiumDiscountAtIED": 99,"priceAtPurchaseDate": 1336,"cycleOfInterestPayment": {"i": 51,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 101,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 11,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 9,"p": 1,"s": 1,"isSet": true},"lifeCap": 950,"lifeFloor": 159,"periodCap": 48,"periodFloor": 399}, 86400, 120,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [227,190,235,113,44,132,122,245,177,95,86,12,224,61,63,169,163,141,244,168,245,5,183,137,59,147,142,250,177,137,240,26],"legalEntityIdCounterparty": [164,141,183,168,144,101,56,18,137,0,166,87,175,28,245,12,67,224,229,124,148,61,36,18,136,132,3,14,167,101,146,47],"dayCountConvention": 6,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 120,"statusDate": 99,"initialExchangeDate": 31,"maturityDate": 1,"terminationDate": 4899,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 368,"cycleAnchorDateOfRateReset": 951,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 1969,"notionalPrincipal": 367,"nominalInterestRate": 0,"feeAccrued": 68570,"accruedInterest": 1460,"rateMultiplier": 59,"rateSpread": 2446,"feeRate": 2014223714,"nextResetRate": 141,"penaltyRate": 160,"premiumDiscountAtIED": 359,"priceAtPurchaseDate": 89,"cycleOfInterestPayment": {"i": 130,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 21,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 364,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 66,"p": 3,"s": 0,"isSet": false},"lifeCap": 2440587,"lifeFloor": 360,"periodCap": 20,"periodFloor": 0}, 2447, 86399,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [106,30,183,249,185,72,23,56,123,200,252,78,185,197,28,196,194,112,38,23,123,65,121,120,219,80,190,128,93,60,210,102],"legalEntityIdCounterparty": [17,59,83,221,106,206,248,114,128,198,111,52,2,137,222,28,113,31,60,217,162,254,198,147,91,204,151,104,96,119,185,249],"dayCountConvention": 6,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 1461,"statusDate": 364,"initialExchangeDate": 51,"maturityDate": 109,"terminationDate": 3,"purchaseDate": 32074,"capitalizationEndDate": 59,"cycleAnchorDateOfInterestPayment": 2440587,"cycleAnchorDateOfRateReset": 28,"cycleAnchorDateOfScalingIndex": 130,"cycleAnchorDateOfFee": 119,"notionalPrincipal": 100,"nominalInterestRate": 21,"feeAccrued": 8,"accruedInterest": 59,"rateMultiplier": 159,"rateSpread": 131,"feeRate": 4000,"nextResetRate": 1461000,"penaltyRate": 2446,"premiumDiscountAtIED": 5,"priceAtPurchaseDate": 21,"cycleOfInterestPayment": {"i": 7,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 97,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 360,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 1460,"p": 4,"s": 0,"isSet": false},"lifeCap": 1338,"lifeFloor": 361,"periodCap": 12,"periodFloor": 1532892063}, 21, 2440589,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [44,246,15,148,73,159,134,122,189,114,4,151,9,222,9,78,203,57,107,153,240,239,15,26,188,142,95,46,243,219,5,126],"legalEntityIdCounterparty": [131,81,15,118,118,51,112,120,133,110,154,149,64,85,77,152,32,85,219,11,175,201,255,58,143,98,145,131,140,20,66,155],"dayCountConvention": 4,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 21,"statusDate": 27,"initialExchangeDate": 32076,"maturityDate": 4799,"terminationDate": 25,"purchaseDate": 1532892063,"capitalizationEndDate": 61,"cycleAnchorDateOfInterestPayment": 59,"cycleAnchorDateOfRateReset": 1461001,"cycleAnchorDateOfScalingIndex": 71,"cycleAnchorDateOfFee": 2446,"notionalPrincipal": 1461002,"nominalInterestRate": 364,"feeAccrued": 149,"accruedInterest": 23,"rateMultiplier": 63,"rateSpread": 2446,"feeRate": 61,"nextResetRate": 364,"penaltyRate": 2014223714,"premiumDiscountAtIED": 2440589,"priceAtPurchaseDate": 951,"cycleOfInterestPayment": {"i": 1461002,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 9,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1532892062,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 2448,"p": 3,"s": 0,"isSet": false},"lifeCap": 39,"lifeFloor": 13,"periodCap": 111,"periodFloor": 146096}, 401, 4799,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [93,177,36,149,28,88,65,94,34,102,169,188,108,236,24,190,95,32,77,33,96,95,194,160,59,210,217,160,86,32,154,35],"legalEntityIdCounterparty": [61,87,18,56,36,55,153,16,188,234,21,144,106,128,16,95,85,222,238,246,249,250,22,228,7,201,103,198,161,152,195,239],"dayCountConvention": 3,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 7,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 2014223715,"statusDate": 111,"initialExchangeDate": 20,"maturityDate": 9999,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 256,"cycleAnchorDateOfRateReset": 2440587,"cycleAnchorDateOfScalingIndex": 1460,"cycleAnchorDateOfFee": 32075,"notionalPrincipal": 140,"nominalInterestRate": 0,"feeAccrued": 1532892062,"accruedInterest": 364,"rateMultiplier": 2014223715,"rateSpread": 2014223714,"feeRate": 65,"nextResetRate": 48,"penaltyRate": 12,"premiumDiscountAtIED": 146096,"priceAtPurchaseDate": 1461,"cycleOfInterestPayment": {"i": 368,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1461,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 97,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 366,"p": 2,"s": 1,"isSet": false},"lifeCap": 12,"lifeFloor": 1,"periodCap": 120,"periodFloor": 80}, 66, 30,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [37,133,95,202,213,127,226,221,87,191,213,93,246,177,146,217,181,18,164,242,220,244,202,91,115,241,159,73,139,131,241,137],"legalEntityIdCounterparty": [147,77,54,94,52,66,16,34,61,250,102,151,41,91,169,68,134,224,227,224,9,130,209,70,209,235,34,87,162,86,140,92],"dayCountConvention": 2,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 6,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 68568,"statusDate": 899,"initialExchangeDate": 97,"maturityDate": 399,"terminationDate": 119,"purchaseDate": 3999,"capitalizationEndDate": 1970,"cycleAnchorDateOfInterestPayment": 1460,"cycleAnchorDateOfRateReset": 6,"cycleAnchorDateOfScalingIndex": 66,"cycleAnchorDateOfFee": 119,"notionalPrincipal": 399,"nominalInterestRate": 68570,"feeAccrued": 70,"accruedInterest": 25,"rateMultiplier": 86399,"rateSpread": 39,"feeRate": 139,"nextResetRate": 1,"penaltyRate": 1461000,"premiumDiscountAtIED": 7,"priceAtPurchaseDate": 21,"cycleOfInterestPayment": {"i": 130,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 1532892062,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 161,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 4,"p": 1,"s": 0,"isSet": false},"lifeCap": 61,"lifeFloor": 79,"periodCap": 14,"periodFloor": 119}, 10001, 4001,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [90,222,50,230,223,52,202,5,172,155,71,83,41,19,11,137,67,95,165,58,158,224,54,193,94,226,163,57,34,53,179,147],"legalEntityIdCounterparty": [8,31,47,31,15,126,250,141,0,171,152,91,7,31,17,152,38,98,237,118,68,201,17,69,118,199,32,194,169,184,101,125],"dayCountConvention": 3,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 21,"statusDate": 119,"initialExchangeDate": 26,"maturityDate": 2014223714,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 68569,"cycleAnchorDateOfRateReset": 51,"cycleAnchorDateOfScalingIndex": 9999,"cycleAnchorDateOfFee": 149,"notionalPrincipal": 48,"nominalInterestRate": 0,"feeAccrued": 0,"accruedInterest": 257,"rateMultiplier": 1462,"rateSpread": 96,"feeRate": 1970,"nextResetRate": 131,"penaltyRate": 21,"premiumDiscountAtIED": 951,"priceAtPurchaseDate": 2446,"cycleOfInterestPayment": {"i": 100,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 90,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 63,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 359,"p": 4,"s": 1,"isSet": false},"lifeCap": 121,"lifeFloor": 1336,"periodCap": 255,"periodFloor": 14}, 32076, 0,{from: accounts[0]});
  });
});
