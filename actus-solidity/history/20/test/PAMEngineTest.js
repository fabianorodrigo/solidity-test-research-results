const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 1,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [145,213,102,233,191,118,247,170,121,243,7,214,64,163,138,113,21,224,213,239,129,33,146,216,19,118,188,155,239,79,52,221],"legalEntityIdCounterparty": [57,246,110,66,101,108,121,16,229,200,57,60,194,159,228,224,2,0,64,15,234,21,3,223,43,203,247,226,216,1,227,142],"dayCountConvention": 1,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 1969,"statusDate": 1338,"initialExchangeDate": 4000,"maturityDate": 3,"terminationDate": 255,"purchaseDate": 360,"capitalizationEndDate": 255,"cycleAnchorDateOfInterestPayment": 59,"cycleAnchorDateOfRateReset": 366,"cycleAnchorDateOfScalingIndex": 20,"cycleAnchorDateOfFee": 14,"notionalPrincipal": 1,"nominalInterestRate": 4001,"feeAccrued": -1,"accruedInterest": 26,"rateMultiplier": 101,"rateSpread": 5,"feeRate": 64,"nextResetRate": 949,"penaltyRate": 32,"premiumDiscountAtIED": 32,"priceAtPurchaseDate": 40,"cycleOfInterestPayment": {"i": 18,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 2,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 2,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 400,"p": 3,"s": 1,"isSet": true},"lifeCap": 4,"lifeFloor": 64,"periodCap": 1461001,"periodFloor": 146097},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 2,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [203,37,226,174,140,233,40,65,17,199,168,34,155,74,5,210,130,43,190,7,174,140,1,112,230,49,241,125,33,219,146,115],"legalEntityIdCounterparty": [66,101,235,129,170,227,219,20,232,70,226,71,81,112,161,248,224,102,160,96,22,23,166,55,94,153,113,157,150,138,249,25],"dayCountConvention": 0,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 3,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 120,"statusDate": 2,"initialExchangeDate": 65,"maturityDate": 2448,"terminationDate": 41,"purchaseDate": 3999,"capitalizationEndDate": 96,"cycleAnchorDateOfInterestPayment": 68568,"cycleAnchorDateOfRateReset": 1338,"cycleAnchorDateOfScalingIndex": 159,"cycleAnchorDateOfFee": 27,"notionalPrincipal": 141,"nominalInterestRate": 1532892064,"feeAccrued": 4001,"accruedInterest": 950,"rateMultiplier": 68569,"rateSpread": 59,"feeRate": 2014223715,"nextResetRate": 1970,"penaltyRate": 64,"premiumDiscountAtIED": 68568,"priceAtPurchaseDate": 50,"cycleOfInterestPayment": {"i": 6,"p": 0,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 49,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 32074,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 6,"p": 5,"s": 0,"isSet": true},"lifeCap": 4799,"lifeFloor": 80,"periodCap": 146096,"periodFloor": 9}, {"lastEventTime": 131,"contractStatus": 3,"timeFromLastEvent": 110,"nominalValue": 2447,"nominalAccrued": 10,"feeAccrued": 95,"nominalRate": 91,"interestScalingMultiplier": 110,"nominalScalingMultiplier": 19,"contractRoleSign": 0}, 68569,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 7,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [99,186,186,244,152,100,86,170,93,72,252,205,125,18,250,211,94,7,162,80,193,55,105,55,171,217,124,138,100,25,85,146],"legalEntityIdCounterparty": [94,210,82,178,44,242,131,69,107,219,159,133,51,189,236,122,53,112,116,247,70,239,172,57,192,254,83,149,89,187,89,5],"dayCountConvention": 2,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 3,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 1532892063,"statusDate": 254,"initialExchangeDate": 129,"maturityDate": 29,"terminationDate": 360,"purchaseDate": 39,"capitalizationEndDate": 4900,"cycleAnchorDateOfInterestPayment": 2014223714,"cycleAnchorDateOfRateReset": 1337,"cycleAnchorDateOfScalingIndex": 30,"cycleAnchorDateOfFee": 366,"notionalPrincipal": 7,"nominalInterestRate": 0,"feeAccrued": 899,"accruedInterest": 1,"rateMultiplier": 26,"rateSpread": 149,"feeRate": 1460,"nextResetRate": 86401,"penaltyRate": 18,"premiumDiscountAtIED": 949,"priceAtPurchaseDate": 4901,"cycleOfInterestPayment": {"i": 254,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 20,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 59,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 31,"p": 4,"s": 1,"isSet": true},"lifeCap": 17,"lifeFloor": 86399,"periodCap": 401,"periodFloor": -1}, {"lastEventTime": 68570,"contractStatus": 2,"timeFromLastEvent": 141,"nominalValue": 951,"nominalAccrued": 95,"feeAccrued": 110,"nominalRate": 1461002,"interestScalingMultiplier": 40,"nominalScalingMultiplier": 10001,"contractRoleSign": 7}, {"eventTime": 0,"eventTimeWithEpochOffset": 10000,"scheduleTime": 68569,"eventType": 13,"currency": accounts[7],"pofType": 13,"stfType": 16}, 59,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [168,227,117,213,53,60,46,45,94,137,40,31,134,186,36,7,168,29,27,190,234,119,118,57,191,252,119,192,99,25,226,79],"legalEntityIdCounterparty": [47,5,14,196,3,181,243,234,182,221,95,164,232,184,98,123,137,2,51,70,136,86,59,126,71,177,99,87,252,140,215,238],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 5,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 101,"statusDate": 3999,"initialExchangeDate": 1462,"maturityDate": 2440588,"terminationDate": 11,"purchaseDate": 14,"capitalizationEndDate": 27,"cycleAnchorDateOfInterestPayment": 1336,"cycleAnchorDateOfRateReset": 30,"cycleAnchorDateOfScalingIndex": 39,"cycleAnchorDateOfFee": 1462,"notionalPrincipal": 109,"nominalInterestRate": 1462,"feeAccrued": 110,"accruedInterest": 1532892064,"rateMultiplier": -1,"rateSpread": 20,"feeRate": 359,"nextResetRate": 101,"penaltyRate": 13,"premiumDiscountAtIED": 1461000,"priceAtPurchaseDate": 40,"cycleOfInterestPayment": {"i": 4900,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 24,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 2440589,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 2447,"p": 1,"s": 1,"isSet": true},"lifeCap": 129,"lifeFloor": 89,"periodCap": 1969,"periodFloor": 12}, 86401, 4900,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [22,53,236,142,86,60,87,166,62,16,216,184,193,5,182,194,11,128,126,195,44,125,3,133,227,196,147,160,244,204,122,252],"legalEntityIdCounterparty": [197,63,174,243,121,228,234,60,242,152,237,50,209,73,117,35,169,181,98,157,216,131,142,112,217,65,117,215,27,31,174,169],"dayCountConvention": 4,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 89,"statusDate": 24,"initialExchangeDate": 1461,"maturityDate": 29,"terminationDate": 4901,"purchaseDate": 151,"capitalizationEndDate": 130,"cycleAnchorDateOfInterestPayment": 49,"cycleAnchorDateOfRateReset": 10000,"cycleAnchorDateOfScalingIndex": 150,"cycleAnchorDateOfFee": 31,"notionalPrincipal": 49,"nominalInterestRate": 141,"feeAccrued": 2014223716,"accruedInterest": 10,"rateMultiplier": 0,"rateSpread": 10,"feeRate": 2446,"nextResetRate": 146098,"penaltyRate": 2446,"premiumDiscountAtIED": 2446,"priceAtPurchaseDate": 10000,"cycleOfInterestPayment": {"i": 109,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 949,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 40,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 81,"p": 4,"s": 1,"isSet": true},"lifeCap": 364,"lifeFloor": 121,"periodCap": 949,"periodFloor": 0}, 32076, 254,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [121,241,237,11,45,29,173,228,177,239,22,65,174,205,108,194,211,27,241,251,29,140,117,197,1,168,138,13,186,44,15,112],"legalEntityIdCounterparty": [118,236,16,253,112,233,153,72,171,252,74,79,64,169,131,254,208,146,219,190,81,229,129,14,82,24,18,233,97,154,106,153],"dayCountConvention": 3,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 3,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 256,"statusDate": 68569,"initialExchangeDate": 1338,"maturityDate": 151,"terminationDate": 96,"purchaseDate": 50,"capitalizationEndDate": 65,"cycleAnchorDateOfInterestPayment": 2446,"cycleAnchorDateOfRateReset": 68570,"cycleAnchorDateOfScalingIndex": 1462,"cycleAnchorDateOfFee": 149,"notionalPrincipal": 49,"nominalInterestRate": 32074,"feeAccrued": 1462,"accruedInterest": 68568,"rateMultiplier": 951,"rateSpread": 32076,"feeRate": 90,"nextResetRate": 401,"penaltyRate": 0,"premiumDiscountAtIED": 40,"priceAtPurchaseDate": 41,"cycleOfInterestPayment": {"i": 21,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 4,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 32,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 81,"p": 2,"s": 0,"isSet": true},"lifeCap": 96,"lifeFloor": 79,"periodCap": 0,"periodFloor": 19}, 4900, 91,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [109,253,55,16,245,8,84,187,246,136,194,110,98,137,45,101,237,195,226,8,234,171,177,236,84,236,7,151,226,14,129,250],"legalEntityIdCounterparty": [216,120,134,97,149,79,66,159,27,137,134,90,203,121,225,15,233,222,110,114,130,131,212,2,17,83,197,167,103,149,75,254],"dayCountConvention": 4,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 139,"statusDate": 159,"initialExchangeDate": 68570,"maturityDate": 1337,"terminationDate": 2447,"purchaseDate": 149,"capitalizationEndDate": 26,"cycleAnchorDateOfInterestPayment": 899,"cycleAnchorDateOfRateReset": 97,"cycleAnchorDateOfScalingIndex": 3999,"cycleAnchorDateOfFee": 149,"notionalPrincipal": 161,"nominalInterestRate": 1,"feeAccrued": 26,"accruedInterest": 86400,"rateMultiplier": 29,"rateSpread": 139,"feeRate": 12,"nextResetRate": 32076,"penaltyRate": 71,"premiumDiscountAtIED": 110,"priceAtPurchaseDate": 1460,"cycleOfInterestPayment": {"i": 97,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 63,"p": 5,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 14,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 49,"p": 1,"s": 1,"isSet": true},"lifeCap": 1969,"lifeFloor": 24,"periodCap": 15,"periodFloor": 101}, 11, 27,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [94,151,238,49,208,196,179,226,76,136,213,134,92,191,161,132,176,38,196,252,236,99,223,208,75,246,107,218,41,110,194,158],"legalEntityIdCounterparty": [52,109,239,171,39,13,114,142,183,155,145,233,178,82,113,213,2,249,44,122,102,63,248,154,172,157,248,51,143,59,211,171],"dayCountConvention": 0,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 4799,"statusDate": 950,"initialExchangeDate": 131,"maturityDate": 161,"terminationDate": 4899,"purchaseDate": 0,"capitalizationEndDate": 4899,"cycleAnchorDateOfInterestPayment": 2014223716,"cycleAnchorDateOfRateReset": 96,"cycleAnchorDateOfScalingIndex": 360,"cycleAnchorDateOfFee": 95,"notionalPrincipal": 146097,"nominalInterestRate": 14,"feeAccrued": 49,"accruedInterest": 949,"rateMultiplier": 20,"rateSpread": 79,"feeRate": 899,"nextResetRate": 4001,"penaltyRate": 149,"premiumDiscountAtIED": 1532892062,"priceAtPurchaseDate": 2440589,"cycleOfInterestPayment": {"i": 2440589,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 365,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 149,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 66,"p": 4,"s": 1,"isSet": false},"lifeCap": 2440587,"lifeFloor": 257,"periodCap": 359,"periodFloor": 31}, 146096, 32075,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [94,202,92,87,238,231,222,123,190,102,182,34,74,163,143,84,7,35,18,41,59,128,0,156,72,158,4,29,20,216,72,28],"legalEntityIdCounterparty": [67,189,244,42,61,152,109,248,165,151,130,88,156,32,42,142,254,186,193,192,75,86,63,154,29,182,141,192,81,210,178,194],"dayCountConvention": 6,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 29,"statusDate": 86399,"initialExchangeDate": 90,"maturityDate": 2014223714,"terminationDate": 160,"purchaseDate": 901,"capitalizationEndDate": 119,"cycleAnchorDateOfInterestPayment": 149,"cycleAnchorDateOfRateReset": 48,"cycleAnchorDateOfScalingIndex": 7,"cycleAnchorDateOfFee": 146098,"notionalPrincipal": 4801,"nominalInterestRate": 1969,"feeAccrued": 2,"accruedInterest": 3,"rateMultiplier": 31,"rateSpread": 6,"feeRate": 255,"nextResetRate": 10,"penaltyRate": 86400,"premiumDiscountAtIED": 400,"priceAtPurchaseDate": 17,"cycleOfInterestPayment": {"i": 1,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 365,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 900,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 360,"p": 0,"s": 1,"isSet": false},"lifeCap": 64,"lifeFloor": 11,"periodCap": 255,"periodFloor": 900}, 1969, 25,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [186,2,245,66,65,135,78,114,193,197,53,53,26,210,135,155,91,205,20,123,220,35,0,46,62,150,56,13,226,63,85,147],"legalEntityIdCounterparty": [136,125,67,152,217,233,89,115,232,193,127,73,48,166,213,191,79,11,146,253,55,221,93,229,248,217,14,51,158,236,141,139],"dayCountConvention": 1,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 1461,"statusDate": 20,"initialExchangeDate": 27,"maturityDate": 49,"terminationDate": 48,"purchaseDate": 109,"capitalizationEndDate": 25,"cycleAnchorDateOfInterestPayment": 2014223714,"cycleAnchorDateOfRateReset": 2440587,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 51,"notionalPrincipal": 2440589,"nominalInterestRate": 1,"feeAccrued": 359,"accruedInterest": 159,"rateMultiplier": 71,"rateSpread": 25,"feeRate": 3999,"nextResetRate": 360,"penaltyRate": 254,"premiumDiscountAtIED": 10,"priceAtPurchaseDate": 11,"cycleOfInterestPayment": {"i": 19,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 899,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1969,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 7,"p": 2,"s": 0,"isSet": true},"lifeCap": 159,"lifeFloor": 359,"periodCap": 6,"periodFloor": 49}, 24, 149,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [236,246,2,52,195,30,147,210,212,152,4,167,208,75,10,183,121,244,174,246,67,252,212,254,16,35,143,9,211,148,104,59],"legalEntityIdCounterparty": [55,4,171,222,49,129,223,62,235,5,72,248,121,72,169,235,51,176,225,109,61,56,168,58,203,194,83,52,84,105,99,127],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 1,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 4,"statusDate": 79,"initialExchangeDate": 86400,"maturityDate": 68568,"terminationDate": 1532892062,"purchaseDate": 51,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 2440589,"cycleAnchorDateOfRateReset": 81,"cycleAnchorDateOfScalingIndex": 27,"cycleAnchorDateOfFee": 111,"notionalPrincipal": 4000,"nominalInterestRate": 10001,"feeAccrued": 4800,"accruedInterest": 4801,"rateMultiplier": 4001,"rateSpread": 24,"feeRate": 68568,"nextResetRate": 68570,"penaltyRate": 101,"premiumDiscountAtIED": 24,"priceAtPurchaseDate": 1,"cycleOfInterestPayment": {"i": 368,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 99,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 146096,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 359,"p": 3,"s": 1,"isSet": true},"lifeCap": 2014223715,"lifeFloor": 30,"periodCap": 70,"periodFloor": 900}, 17, 1336,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [176,161,222,58,158,96,199,149,70,87,46,227,211,142,165,146,51,103,151,31,167,181,181,195,25,197,27,224,155,202,60,186],"legalEntityIdCounterparty": [30,117,128,211,89,242,117,34,233,185,63,178,44,93,47,112,76,16,146,174,42,100,153,0,85,49,187,8,187,194,173,16],"dayCountConvention": 3,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 257,"statusDate": 1461,"initialExchangeDate": 27,"maturityDate": 1532892064,"terminationDate": 146098,"purchaseDate": 2446,"capitalizationEndDate": 1461002,"cycleAnchorDateOfInterestPayment": 4000,"cycleAnchorDateOfRateReset": 4900,"cycleAnchorDateOfScalingIndex": 4900,"cycleAnchorDateOfFee": 70,"notionalPrincipal": 139,"nominalInterestRate": 68569,"feeAccrued": 150,"accruedInterest": 71,"rateMultiplier": 50,"rateSpread": 949,"feeRate": 99,"nextResetRate": 401,"penaltyRate": 10000,"premiumDiscountAtIED": 12,"priceAtPurchaseDate": 31,"cycleOfInterestPayment": {"i": 61,"p": 3,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 91,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 120,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 2440589,"p": 1,"s": 1,"isSet": true},"lifeCap": 8,"lifeFloor": 68569,"periodCap": 1460,"periodFloor": 0}, 20, 95,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [55,45,182,38,185,208,234,135,15,156,121,209,38,114,194,125,224,18,212,199,144,192,165,186,152,158,199,232,126,156,191,142],"legalEntityIdCounterparty": [19,22,49,176,49,19,244,213,166,24,223,185,61,142,110,123,42,138,4,137,177,86,191,216,65,95,9,176,243,83,61,225],"dayCountConvention": 5,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 6,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 109,"statusDate": 1971,"initialExchangeDate": 2014223715,"maturityDate": 139,"terminationDate": 63,"purchaseDate": 1532892064,"capitalizationEndDate": 399,"cycleAnchorDateOfInterestPayment": 70,"cycleAnchorDateOfRateReset": 13,"cycleAnchorDateOfScalingIndex": 71,"cycleAnchorDateOfFee": 13,"notionalPrincipal": 68569,"nominalInterestRate": 1336,"feeAccrued": 1462,"accruedInterest": 2014223714,"rateMultiplier": 146096,"rateSpread": 69,"feeRate": 70,"nextResetRate": 15,"penaltyRate": 15,"premiumDiscountAtIED": 101,"priceAtPurchaseDate": 130,"cycleOfInterestPayment": {"i": 91,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 4901,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 95,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 24,"p": 2,"s": 1,"isSet": false},"lifeCap": 367,"lifeFloor": 2014223716,"periodCap": -1,"periodFloor": 4899}, 360, 131,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [247,49,136,133,1,36,152,113,188,40,1,149,174,8,123,246,34,241,56,231,205,33,155,200,24,87,31,249,10,11,191,105],"legalEntityIdCounterparty": [245,74,128,162,254,253,103,8,47,1,124,132,114,169,48,225,25,241,247,62,79,111,71,138,254,56,8,98,215,159,232,11],"dayCountConvention": 1,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 31,"statusDate": 2447,"initialExchangeDate": 3999,"maturityDate": 949,"terminationDate": 100,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 8,"cycleAnchorDateOfRateReset": 401,"cycleAnchorDateOfScalingIndex": 63,"cycleAnchorDateOfFee": 367,"notionalPrincipal": 26,"nominalInterestRate": 0,"feeAccrued": 9,"accruedInterest": 65,"rateMultiplier": 18,"rateSpread": 63,"feeRate": 81,"nextResetRate": 95,"penaltyRate": 8,"premiumDiscountAtIED": 361,"priceAtPurchaseDate": 86400,"cycleOfInterestPayment": {"i": 400,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 69,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 65,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 368,"p": 4,"s": 0,"isSet": true},"lifeCap": 60,"lifeFloor": 11,"periodCap": 120,"periodFloor": 4801}, 4900, 71,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [158,51,30,245,88,222,121,190,56,25,92,218,80,194,105,46,162,79,163,61,61,215,48,225,178,83,250,112,35,61,99,134],"legalEntityIdCounterparty": [211,234,213,41,114,105,234,146,79,234,68,40,42,39,145,239,156,96,252,204,215,116,132,123,13,5,154,9,164,66,208,52],"dayCountConvention": 3,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 10000,"statusDate": 257,"initialExchangeDate": 901,"maturityDate": 21,"terminationDate": 1462,"purchaseDate": 900,"capitalizationEndDate": 5,"cycleAnchorDateOfInterestPayment": 364,"cycleAnchorDateOfRateReset": 19,"cycleAnchorDateOfScalingIndex": 364,"cycleAnchorDateOfFee": 899,"notionalPrincipal": 141,"nominalInterestRate": 899,"feeAccrued": 61,"accruedInterest": 100,"rateMultiplier": 8,"rateSpread": 400,"feeRate": 61,"nextResetRate": 12,"penaltyRate": 99,"premiumDiscountAtIED": 32076,"priceAtPurchaseDate": 401,"cycleOfInterestPayment": {"i": 4800,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 1338,"p": 2,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 61,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 12,"p": 2,"s": 1,"isSet": false},"lifeCap": 48,"lifeFloor": 86399,"periodCap": 20,"periodFloor": 100}, 31, 32074,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [249,3,195,48,137,217,108,136,164,107,46,144,233,60,69,180,208,29,193,194,43,237,46,253,53,86,245,202,219,18,91,207],"legalEntityIdCounterparty": [241,121,31,119,131,77,204,42,226,19,9,20,158,180,183,68,40,150,255,156,105,122,61,249,1,250,137,139,115,128,73,2],"dayCountConvention": 2,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 367,"statusDate": 4801,"initialExchangeDate": 899,"maturityDate": 2446,"terminationDate": 16,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 119,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 4,"cycleAnchorDateOfFee": 4,"notionalPrincipal": 32076,"nominalInterestRate": 0,"feeAccrued": 4000,"accruedInterest": 11,"rateMultiplier": 130,"rateSpread": 366,"feeRate": 2447,"nextResetRate": 30,"penaltyRate": 130,"premiumDiscountAtIED": 2014223716,"priceAtPurchaseDate": 12,"cycleOfInterestPayment": {"i": 4799,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 31,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 111,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 2440587,"p": 5,"s": 1,"isSet": false},"lifeCap": -1,"lifeFloor": 1532892064,"periodCap": 1337,"periodFloor": 111}, 10001, 1338,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [25,189,15,227,181,129,193,75,226,180,58,171,193,217,79,199,118,185,66,23,198,95,208,208,87,172,78,202,189,155,13,229],"legalEntityIdCounterparty": [135,155,235,210,114,192,123,167,40,234,220,92,219,113,73,167,49,112,245,143,253,81,59,80,198,178,4,128,240,153,218,247],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 1,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 6,"statusDate": 3999,"initialExchangeDate": 10000,"maturityDate": 97,"terminationDate": 32076,"purchaseDate": 1532892063,"capitalizationEndDate": 4000,"cycleAnchorDateOfInterestPayment": 110,"cycleAnchorDateOfRateReset": 13,"cycleAnchorDateOfScalingIndex": 10001,"cycleAnchorDateOfFee": 146096,"notionalPrincipal": 2440589,"nominalInterestRate": 1336,"feeAccrued": 91,"accruedInterest": 0,"rateMultiplier": 95,"rateSpread": 1532892062,"feeRate": 1969,"nextResetRate": 68568,"penaltyRate": 1969,"premiumDiscountAtIED": 110,"priceAtPurchaseDate": 2014223716,"cycleOfInterestPayment": {"i": 367,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 139,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 151,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 99,"p": 4,"s": 0,"isSet": false},"lifeCap": 140,"lifeFloor": 71,"periodCap": 254,"periodFloor": 100}, 4001, 59,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [155,223,226,36,66,213,242,190,245,238,36,180,14,53,174,60,3,94,130,241,195,23,205,203,48,161,41,91,77,243,90,141],"legalEntityIdCounterparty": [10,209,216,223,90,4,127,55,102,197,85,73,75,211,244,84,96,71,47,11,9,98,13,195,63,254,47,106,145,133,243,151],"dayCountConvention": 5,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 80,"statusDate": 6,"initialExchangeDate": 61,"maturityDate": 59,"terminationDate": 1336,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 61,"cycleAnchorDateOfRateReset": 27,"cycleAnchorDateOfScalingIndex": 1,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 365,"nominalInterestRate": 0,"feeAccrued": 1336,"accruedInterest": 255,"rateMultiplier": 0,"rateSpread": 121,"feeRate": 1460,"nextResetRate": 949,"penaltyRate": 151,"premiumDiscountAtIED": 257,"priceAtPurchaseDate": 4,"cycleOfInterestPayment": {"i": 9999,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 4900,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 61,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 91,"p": 2,"s": 1,"isSet": false},"lifeCap": 2014223716,"lifeFloor": 10000,"periodCap": 4800,"periodFloor": 32075}, 68568, 141,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [162,14,172,191,82,103,153,244,108,144,94,233,121,202,98,159,166,139,58,99,177,61,111,240,154,199,152,35,179,63,171,41],"legalEntityIdCounterparty": [211,126,147,40,69,216,169,227,232,34,149,219,146,8,15,162,231,160,50,27,102,148,135,61,168,30,246,197,173,119,85,208],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 86400,"statusDate": 19,"initialExchangeDate": 1460,"maturityDate": 10000,"terminationDate": 0,"purchaseDate": 121,"capitalizationEndDate": 12,"cycleAnchorDateOfInterestPayment": 48,"cycleAnchorDateOfRateReset": 23,"cycleAnchorDateOfScalingIndex": 360,"cycleAnchorDateOfFee": 254,"notionalPrincipal": 901,"nominalInterestRate": 1460,"feeAccrued": 80,"accruedInterest": 79,"rateMultiplier": 14,"rateSpread": 48,"feeRate": 160,"nextResetRate": 31,"penaltyRate": 0,"premiumDiscountAtIED": 3999,"priceAtPurchaseDate": 4900,"cycleOfInterestPayment": {"i": 149,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 366,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 111,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 48,"p": 3,"s": 1,"isSet": false},"lifeCap": 151,"lifeFloor": 71,"periodCap": 70,"periodFloor": 4900}, 111, 49,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [19,127,97,36,21,206,61,121,219,15,163,68,88,205,47,22,99,138,133,85,107,188,161,161,205,154,203,151,250,122,113,170],"legalEntityIdCounterparty": [238,201,248,52,135,242,98,148,2,19,254,201,75,151,103,159,212,119,120,30,135,50,91,76,185,209,169,214,88,177,35,48],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 0,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 2440589,"statusDate": 160,"initialExchangeDate": 2440587,"maturityDate": 10001,"terminationDate": 900,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 4801,"cycleAnchorDateOfRateReset": 4,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 50,"notionalPrincipal": 1,"nominalInterestRate": 0,"feeAccrued": 4800,"accruedInterest": 97,"rateMultiplier": 3999,"rateSpread": 96,"feeRate": 8,"nextResetRate": 6,"penaltyRate": 951,"premiumDiscountAtIED": 101,"priceAtPurchaseDate": 129,"cycleOfInterestPayment": {"i": 64,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 8,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 89,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 120,"p": 2,"s": 0,"isSet": true},"lifeCap": 257,"lifeFloor": 1461,"periodCap": 28,"periodFloor": 27}, 4, 51,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [211,196,229,172,207,152,244,114,173,185,248,197,248,197,201,128,122,73,83,32,255,118,117,50,248,141,213,254,213,121,98,138],"legalEntityIdCounterparty": [52,175,118,28,2,231,85,194,32,136,199,149,59,157,83,251,23,111,234,239,138,69,51,250,181,180,167,74,147,201,207,116],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 86399,"statusDate": 64,"initialExchangeDate": 110,"maturityDate": 161,"terminationDate": 89,"purchaseDate": 2014223714,"capitalizationEndDate": 2014223716,"cycleAnchorDateOfInterestPayment": 146096,"cycleAnchorDateOfRateReset": 119,"cycleAnchorDateOfScalingIndex": 59,"cycleAnchorDateOfFee": 1461001,"notionalPrincipal": 1337,"nominalInterestRate": 119,"feeAccrued": 59,"accruedInterest": 1970,"rateMultiplier": 366,"rateSpread": 86399,"feeRate": 150,"nextResetRate": 66,"penaltyRate": 1532892062,"premiumDiscountAtIED": 130,"priceAtPurchaseDate": 49,"cycleOfInterestPayment": {"i": 4799,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 368,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 129,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 32074,"p": 1,"s": 1,"isSet": true},"lifeCap": 146098,"lifeFloor": 110,"periodCap": 28,"periodFloor": 65}, 48, 109,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [27,51,139,77,134,38,31,109,252,137,89,226,211,38,138,118,147,27,170,9,174,135,34,151,98,179,75,169,205,54,241,103],"legalEntityIdCounterparty": [182,153,33,207,159,253,68,252,15,203,159,158,98,222,20,96,211,184,35,157,34,148,158,64,7,163,230,153,114,100,237,252],"dayCountConvention": 1,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 4800,"statusDate": 4900,"initialExchangeDate": 400,"maturityDate": 4801,"terminationDate": 364,"purchaseDate": 68568,"capitalizationEndDate": 101,"cycleAnchorDateOfInterestPayment": 86401,"cycleAnchorDateOfRateReset": 1461002,"cycleAnchorDateOfScalingIndex": 90,"cycleAnchorDateOfFee": 109,"notionalPrincipal": 1336,"nominalInterestRate": 254,"feeAccrued": 2447,"accruedInterest": 140,"rateMultiplier": 49,"rateSpread": 7,"feeRate": 32,"nextResetRate": 900,"penaltyRate": 151,"premiumDiscountAtIED": 1971,"priceAtPurchaseDate": 949,"cycleOfInterestPayment": {"i": 110,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 68569,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 30,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 24,"p": 3,"s": 0,"isSet": true},"lifeCap": 2448,"lifeFloor": 149,"periodCap": 4801,"periodFloor": 11}, 12, 18,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [58,108,92,195,54,139,53,164,136,84,46,22,255,174,1,179,18,250,20,22,204,220,164,243,216,198,145,80,87,7,164,233],"legalEntityIdCounterparty": [156,129,18,175,47,85,138,41,220,123,16,221,198,242,124,211,33,132,237,201,217,184,84,21,172,23,157,2,117,237,11,81],"dayCountConvention": 4,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 4900,"statusDate": 1462,"initialExchangeDate": 99,"maturityDate": 151,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 13,"cycleAnchorDateOfRateReset": 48,"cycleAnchorDateOfScalingIndex": 4900,"cycleAnchorDateOfFee": 1970,"notionalPrincipal": 1460,"nominalInterestRate": 0,"feeAccrued": 28,"accruedInterest": 101,"rateMultiplier": 90,"rateSpread": 90,"feeRate": 2440588,"nextResetRate": 19,"penaltyRate": 367,"premiumDiscountAtIED": 12,"priceAtPurchaseDate": 81,"cycleOfInterestPayment": {"i": 951,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 64,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 4901,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 79,"p": 2,"s": 0,"isSet": false},"lifeCap": 26,"lifeFloor": 68570,"periodCap": 141,"periodFloor": 1532892064}, 66, 4,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [87,97,210,34,253,99,0,60,169,204,139,40,26,71,79,171,205,96,233,8,16,160,13,6,120,185,243,142,18,22,89,75],"legalEntityIdCounterparty": [255,102,80,250,207,46,96,61,101,124,38,63,53,97,187,99,202,156,136,101,167,234,67,205,17,55,167,8,203,194,120,235],"dayCountConvention": 0,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 4900,"statusDate": 24,"initialExchangeDate": 359,"maturityDate": 256,"terminationDate": 2014223716,"purchaseDate": 364,"capitalizationEndDate": 899,"cycleAnchorDateOfInterestPayment": 359,"cycleAnchorDateOfRateReset": 160,"cycleAnchorDateOfScalingIndex": 40,"cycleAnchorDateOfFee": 100,"notionalPrincipal": 146097,"nominalInterestRate": 8,"feeAccrued": 27,"accruedInterest": 2014223716,"rateMultiplier": 4900,"rateSpread": 256,"feeRate": 1338,"nextResetRate": 60,"penaltyRate": 366,"premiumDiscountAtIED": 1532892063,"priceAtPurchaseDate": 63,"cycleOfInterestPayment": {"i": 49,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 110,"p": 5,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 160,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 49,"p": 1,"s": 0,"isSet": false},"lifeCap": 91,"lifeFloor": 31,"periodCap": 90,"periodFloor": 399}, 4900, 109,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [25,61,11,58,46,203,198,228,84,21,204,142,137,242,161,116,231,60,33,154,127,50,175,92,119,65,46,8,8,92,186,159],"legalEntityIdCounterparty": [247,168,83,160,119,47,64,90,38,12,36,215,133,47,226,229,134,128,125,200,171,13,182,154,116,44,123,161,204,93,76,99],"dayCountConvention": 1,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 2440589,"statusDate": 257,"initialExchangeDate": 5,"maturityDate": 119,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 140,"cycleAnchorDateOfRateReset": 129,"cycleAnchorDateOfScalingIndex": 4899,"cycleAnchorDateOfFee": 39,"notionalPrincipal": 61,"nominalInterestRate": 0,"feeAccrued": 4900,"accruedInterest": 32074,"rateMultiplier": 159,"rateSpread": 68568,"feeRate": 146096,"nextResetRate": 28,"penaltyRate": 121,"premiumDiscountAtIED": 2440587,"priceAtPurchaseDate": 146097,"cycleOfInterestPayment": {"i": 7,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 2014223714,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 4801,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 4899,"p": 2,"s": 0,"isSet": false},"lifeCap": 21,"lifeFloor": 367,"periodCap": 89,"periodFloor": 95}, 111, 146097,{from: accounts[0]});
  });
});
