const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 2,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [28,242,224,2,134,61,88,1,143,127,166,5,148,23,86,244,239,163,135,39,241,207,132,2,134,33,123,251,117,23,230,140],"legalEntityIdCounterparty": [198,9,152,9,197,96,234,9,224,239,42,237,206,95,137,252,86,152,22,87,58,241,36,124,57,116,134,227,112,38,2,67],"dayCountConvention": 0,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 8,"statusDate": 68568,"initialExchangeDate": 6,"maturityDate": 4000,"terminationDate": 13,"purchaseDate": 361,"capitalizationEndDate": 4900,"cycleAnchorDateOfInterestPayment": 41,"cycleAnchorDateOfRateReset": 70,"cycleAnchorDateOfScalingIndex": 25,"cycleAnchorDateOfFee": 146097,"notionalPrincipal": 1337,"nominalInterestRate": 66,"feeAccrued": 401,"accruedInterest": 23,"rateMultiplier": 101,"rateSpread": 1461000,"feeRate": 1532892062,"nextResetRate": 2440588,"penaltyRate": 901,"premiumDiscountAtIED": 61,"priceAtPurchaseDate": 901,"cycleOfInterestPayment": {"i": 39,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 1461000,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 16,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 4799,"p": 2,"s": 1,"isSet": true},"lifeCap": 2014223714,"lifeFloor": 899,"periodCap": 368,"periodFloor": -1},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 4,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [183,254,1,131,163,249,214,148,166,12,160,71,106,36,28,32,206,188,3,237,208,46,46,207,203,99,35,78,146,152,173,158],"legalEntityIdCounterparty": [130,213,88,89,2,37,131,31,25,146,88,139,16,79,168,99,9,143,37,171,102,179,224,64,91,199,246,73,229,48,207,60],"dayCountConvention": 3,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 139,"statusDate": 2448,"initialExchangeDate": 97,"maturityDate": 24,"terminationDate": 400,"purchaseDate": 1969,"capitalizationEndDate": 1460,"cycleAnchorDateOfInterestPayment": 4900,"cycleAnchorDateOfRateReset": 2,"cycleAnchorDateOfScalingIndex": 400,"cycleAnchorDateOfFee": 2446,"notionalPrincipal": 111,"nominalInterestRate": 1532892063,"feeAccrued": 2448,"accruedInterest": 4900,"rateMultiplier": 41,"rateSpread": 359,"feeRate": 17,"nextResetRate": 11,"penaltyRate": 50,"premiumDiscountAtIED": 11,"priceAtPurchaseDate": 32,"cycleOfInterestPayment": {"i": 361,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 24,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 27,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 27,"p": 3,"s": 0,"isSet": true},"lifeCap": 4901,"lifeFloor": 159,"periodCap": 139,"periodFloor": 66}, {"lastEventTime": 139,"contractStatus": 1,"timeFromLastEvent": 4801,"nominalValue": 360,"nominalAccrued": 951,"feeAccrued": 3999,"nominalRate": 60,"interestScalingMultiplier": 120,"nominalScalingMultiplier": 68570,"contractRoleSign": 9}, 4,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 13,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [186,229,82,16,56,102,186,204,210,6,212,156,247,95,193,56,68,156,30,50,141,62,75,245,122,240,84,28,138,238,175,185],"legalEntityIdCounterparty": [18,83,132,203,43,55,151,143,129,134,4,77,227,156,239,41,182,161,64,251,195,106,133,230,234,58,185,61,105,128,212,236],"dayCountConvention": 1,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 7,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 361,"statusDate": 8,"initialExchangeDate": 4901,"maturityDate": 130,"terminationDate": 19,"purchaseDate": 70,"capitalizationEndDate": 2447,"cycleAnchorDateOfInterestPayment": 364,"cycleAnchorDateOfRateReset": 68570,"cycleAnchorDateOfScalingIndex": 4001,"cycleAnchorDateOfFee": 23,"notionalPrincipal": 146096,"nominalInterestRate": 31,"feeAccrued": 31,"accruedInterest": 29,"rateMultiplier": 21,"rateSpread": 27,"feeRate": 6,"nextResetRate": 15,"penaltyRate": 151,"premiumDiscountAtIED": 364,"priceAtPurchaseDate": 13,"cycleOfInterestPayment": {"i": 19,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 68568,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 15,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 146098,"p": 0,"s": 0,"isSet": true},"lifeCap": 7,"lifeFloor": 5,"periodCap": 9,"periodFloor": 1532892063}, {"lastEventTime": 161,"contractStatus": 0,"timeFromLastEvent": 7,"nominalValue": 160,"nominalAccrued": 120,"feeAccrued": 4900,"nominalRate": 400,"interestScalingMultiplier": 364,"nominalScalingMultiplier": 86400,"contractRoleSign": 5}, {"eventTime": 49,"eventTimeWithEpochOffset": 146096,"scheduleTime": 0,"eventType": 16,"currency": accounts[7],"pofType": 17,"stfType": 5}, 129,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [211,36,156,116,127,76,148,127,45,217,183,210,49,248,228,61,113,241,145,8,86,201,245,242,178,157,188,30,21,206,164,173],"legalEntityIdCounterparty": [89,179,45,171,131,76,59,241,203,47,99,115,226,192,226,15,131,125,56,11,68,98,173,0,247,10,206,93,108,147,199,69],"dayCountConvention": 4,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 26,"statusDate": 111,"initialExchangeDate": 4000,"maturityDate": 41,"terminationDate": 32,"purchaseDate": 1461,"capitalizationEndDate": 96,"cycleAnchorDateOfInterestPayment": 51,"cycleAnchorDateOfRateReset": 3999,"cycleAnchorDateOfScalingIndex": 32075,"cycleAnchorDateOfFee": 49,"notionalPrincipal": 19,"nominalInterestRate": 365,"feeAccrued": 89,"accruedInterest": 4800,"rateMultiplier": 40,"rateSpread": 4001,"feeRate": 86401,"nextResetRate": 361,"penaltyRate": 101,"premiumDiscountAtIED": 21,"priceAtPurchaseDate": 15,"cycleOfInterestPayment": {"i": 139,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 368,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 32076,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 6,"p": 3,"s": 1,"isSet": true},"lifeCap": 9999,"lifeFloor": 21,"periodCap": 1462,"periodFloor": 130}, 949, 48,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [130,56,49,26,183,135,36,202,19,146,196,218,19,48,57,41,94,60,55,40,1,99,172,255,10,90,107,204,231,132,175,157],"legalEntityIdCounterparty": [46,42,115,112,50,47,0,129,70,4,175,229,88,174,6,255,84,244,9,214,140,208,141,166,69,93,76,117,134,71,240,158],"dayCountConvention": 0,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 2440587,"statusDate": 89,"initialExchangeDate": 21,"maturityDate": 257,"terminationDate": 25,"purchaseDate": 139,"capitalizationEndDate": 900,"cycleAnchorDateOfInterestPayment": 25,"cycleAnchorDateOfRateReset": 254,"cycleAnchorDateOfScalingIndex": 2014223714,"cycleAnchorDateOfFee": 4799,"notionalPrincipal": 949,"nominalInterestRate": 68569,"feeAccrued": 68568,"accruedInterest": 27,"rateMultiplier": 86399,"rateSpread": 900,"feeRate": 4899,"nextResetRate": 6,"penaltyRate": 90,"premiumDiscountAtIED": 129,"priceAtPurchaseDate": 8,"cycleOfInterestPayment": {"i": 4799,"p": 3,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 1461,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 2,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 19,"p": 5,"s": 0,"isSet": true},"lifeCap": 8,"lifeFloor": 159,"periodCap": 96,"periodFloor": 1971}, 109, 60,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [27,96,96,29,132,1,82,16,182,179,53,157,62,131,159,52,186,57,74,146,206,101,183,108,199,44,5,229,68,159,222,220],"legalEntityIdCounterparty": [182,27,182,146,205,193,198,105,222,107,39,40,175,123,118,12,48,179,197,36,88,125,179,169,100,2,70,71,217,71,24,173],"dayCountConvention": 5,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 51,"statusDate": 365,"initialExchangeDate": 1970,"maturityDate": 40,"terminationDate": 60,"purchaseDate": 4899,"capitalizationEndDate": 68570,"cycleAnchorDateOfInterestPayment": 151,"cycleAnchorDateOfRateReset": 1461,"cycleAnchorDateOfScalingIndex": 24,"cycleAnchorDateOfFee": 2440588,"notionalPrincipal": 25,"nominalInterestRate": 4799,"feeAccrued": 68568,"accruedInterest": 50,"rateMultiplier": 255,"rateSpread": 15,"feeRate": 2440587,"nextResetRate": 23,"penaltyRate": 70,"premiumDiscountAtIED": 28,"priceAtPurchaseDate": 899,"cycleOfInterestPayment": {"i": 120,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 4,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 256,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 63,"p": 1,"s": 1,"isSet": true},"lifeCap": 14,"lifeFloor": 31,"periodCap": 368,"periodFloor": 81}, 1969, 63,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [98,18,182,24,209,0,164,25,7,208,44,137,13,160,57,204,235,159,233,189,181,140,20,243,31,206,168,15,81,74,34,199],"legalEntityIdCounterparty": [23,103,245,96,179,60,35,87,12,152,240,186,216,191,182,208,144,127,36,10,15,104,66,44,236,55,188,237,244,163,2,18],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 1,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 32,"statusDate": 99,"initialExchangeDate": 2014223716,"maturityDate": 950,"terminationDate": 16,"purchaseDate": 86400,"capitalizationEndDate": 101,"cycleAnchorDateOfInterestPayment": 65,"cycleAnchorDateOfRateReset": 49,"cycleAnchorDateOfScalingIndex": 1461002,"cycleAnchorDateOfFee": 9,"notionalPrincipal": 1461002,"nominalInterestRate": 32075,"feeAccrued": 91,"accruedInterest": 367,"rateMultiplier": 24,"rateSpread": 1461000,"feeRate": 79,"nextResetRate": 951,"penaltyRate": 4901,"premiumDiscountAtIED": 364,"priceAtPurchaseDate": 111,"cycleOfInterestPayment": {"i": 1461,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 16,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 68568,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 79,"p": 1,"s": 1,"isSet": true},"lifeCap": 80,"lifeFloor": 71,"periodCap": 1532892064,"periodFloor": 64}, 1, 141,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [41,142,8,131,35,253,247,171,130,51,187,238,8,42,144,225,116,168,218,59,90,59,70,1,24,87,246,196,58,194,19,249],"legalEntityIdCounterparty": [249,172,171,104,129,172,248,54,61,84,100,23,176,34,87,27,196,214,226,196,160,115,43,166,88,252,104,148,243,235,226,83],"dayCountConvention": 2,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 950,"statusDate": 366,"initialExchangeDate": 2,"maturityDate": 10,"terminationDate": 81,"purchaseDate": 0,"capitalizationEndDate": 4,"cycleAnchorDateOfInterestPayment": 3999,"cycleAnchorDateOfRateReset": 130,"cycleAnchorDateOfScalingIndex": 131,"cycleAnchorDateOfFee": 64,"notionalPrincipal": 120,"nominalInterestRate": 50,"feeAccrued": 21,"accruedInterest": 25,"rateMultiplier": 7,"rateSpread": 254,"feeRate": 68568,"nextResetRate": 2440589,"penaltyRate": 2014223715,"premiumDiscountAtIED": 9,"priceAtPurchaseDate": 2014223714,"cycleOfInterestPayment": {"i": 4800,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 146098,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 1336,"p": 4,"s": 0,"isSet": false},"lifeCap": 111,"lifeFloor": 5,"periodCap": 2,"periodFloor": 2447}, 97, 32075,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [147,13,156,239,82,148,207,136,2,232,238,163,205,91,53,180,60,227,218,47,168,75,61,173,193,84,103,151,108,184,177,88],"legalEntityIdCounterparty": [75,125,155,64,238,130,71,36,11,236,74,202,115,145,27,206,73,196,208,146,198,120,76,221,56,91,116,157,58,209,193,113],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 2014223714,"statusDate": 19,"initialExchangeDate": 2447,"maturityDate": 12,"terminationDate": 32074,"purchaseDate": 86400,"capitalizationEndDate": 8,"cycleAnchorDateOfInterestPayment": 13,"cycleAnchorDateOfRateReset": 26,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 368,"notionalPrincipal": 69,"nominalInterestRate": 401,"feeAccrued": 4001,"accruedInterest": 66,"rateMultiplier": 19,"rateSpread": 4000,"feeRate": 1461001,"nextResetRate": 2446,"penaltyRate": 950,"premiumDiscountAtIED": 2440588,"priceAtPurchaseDate": 89,"cycleOfInterestPayment": {"i": 120,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 32,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 30,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 24,"p": 3,"s": 0,"isSet": false},"lifeCap": 159,"lifeFloor": 161,"periodCap": 79,"periodFloor": 1461001}, 949, 1969,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [213,62,29,183,124,111,158,137,81,192,233,61,118,238,31,133,163,13,186,56,144,8,41,166,224,163,196,142,40,108,202,57],"legalEntityIdCounterparty": [132,115,98,65,25,205,118,69,182,176,241,148,204,37,204,244,132,200,229,191,114,121,165,134,144,214,169,157,97,68,34,245],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 86400,"statusDate": 86401,"initialExchangeDate": 32074,"maturityDate": 99,"terminationDate": 146098,"purchaseDate": 257,"capitalizationEndDate": 10000,"cycleAnchorDateOfInterestPayment": 1338,"cycleAnchorDateOfRateReset": 15,"cycleAnchorDateOfScalingIndex": 151,"cycleAnchorDateOfFee": 81,"notionalPrincipal": 25,"nominalInterestRate": 19,"feeAccrued": 130,"accruedInterest": 1461002,"rateMultiplier": 361,"rateSpread": 18,"feeRate": 39,"nextResetRate": 121,"penaltyRate": 80,"premiumDiscountAtIED": 6,"priceAtPurchaseDate": 368,"cycleOfInterestPayment": {"i": 16,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1462,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 401,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 2,"p": 0,"s": 1,"isSet": false},"lifeCap": 1970,"lifeFloor": 65,"periodCap": 1337,"periodFloor": 255}, 0, 2447,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [32,89,205,179,207,90,119,35,173,21,93,22,234,207,244,82,130,82,8,24,31,147,56,66,16,49,151,15,133,45,145,21],"legalEntityIdCounterparty": [33,6,197,14,233,79,22,211,242,63,111,118,94,20,150,216,219,108,173,56,131,23,214,177,177,47,24,18,237,219,188,203],"dayCountConvention": 5,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 4,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 3,"statusDate": 32076,"initialExchangeDate": 2,"maturityDate": 90,"terminationDate": 4900,"purchaseDate": 13,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 2014223715,"cycleAnchorDateOfRateReset": 1336,"cycleAnchorDateOfScalingIndex": 256,"cycleAnchorDateOfFee": 48,"notionalPrincipal": 32074,"nominalInterestRate": 99,"feeAccrued": 129,"accruedInterest": 13,"rateMultiplier": 254,"rateSpread": 121,"feeRate": 89,"nextResetRate": 6,"penaltyRate": 48,"premiumDiscountAtIED": 256,"priceAtPurchaseDate": 368,"cycleOfInterestPayment": {"i": 16,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 399,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 365,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 401,"p": 1,"s": 0,"isSet": true},"lifeCap": 900,"lifeFloor": 12,"periodCap": 12,"periodFloor": 61}, 2, 14,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [199,191,111,178,234,16,141,21,154,244,84,66,65,146,90,254,165,221,68,159,80,224,135,184,200,45,98,226,188,93,165,39],"legalEntityIdCounterparty": [126,82,166,146,63,165,42,168,31,195,60,32,114,31,213,142,3,114,73,217,184,161,12,232,207,254,11,248,158,225,137,237],"dayCountConvention": 5,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 96,"statusDate": 1460,"initialExchangeDate": 149,"maturityDate": 24,"terminationDate": 31,"purchaseDate": 254,"capitalizationEndDate": 68568,"cycleAnchorDateOfInterestPayment": 16,"cycleAnchorDateOfRateReset": 71,"cycleAnchorDateOfScalingIndex": 361,"cycleAnchorDateOfFee": 32074,"notionalPrincipal": 160,"nominalInterestRate": 90,"feeAccrued": 99,"accruedInterest": 15,"rateMultiplier": 70,"rateSpread": 26,"feeRate": 2446,"nextResetRate": 29,"penaltyRate": 96,"premiumDiscountAtIED": 1462,"priceAtPurchaseDate": 4899,"cycleOfInterestPayment": {"i": 4900,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 2447,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 129,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 4899,"p": 4,"s": 0,"isSet": false},"lifeCap": 257,"lifeFloor": 110,"periodCap": 1,"periodFloor": 64}, 86399, 79,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [59,126,106,130,201,212,27,135,173,104,221,198,70,164,69,54,91,108,189,228,146,122,24,182,19,51,206,41,110,60,58,38],"legalEntityIdCounterparty": [121,41,67,69,96,95,153,182,251,173,164,72,145,254,240,196,229,39,132,146,46,23,231,38,104,152,171,192,98,225,111,202],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 2014223715,"statusDate": 0,"initialExchangeDate": 7,"maturityDate": 2440587,"terminationDate": 40,"purchaseDate": 86401,"capitalizationEndDate": 359,"cycleAnchorDateOfInterestPayment": 400,"cycleAnchorDateOfRateReset": 12,"cycleAnchorDateOfScalingIndex": 2448,"cycleAnchorDateOfFee": 2,"notionalPrincipal": 81,"nominalInterestRate": 3999,"feeAccrued": 15,"accruedInterest": 140,"rateMultiplier": 1461000,"rateSpread": 23,"feeRate": 13,"nextResetRate": 2440589,"penaltyRate": 49,"premiumDiscountAtIED": 30,"priceAtPurchaseDate": 1337,"cycleOfInterestPayment": {"i": 97,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 29,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 70,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 161,"p": 1,"s": 1,"isSet": true},"lifeCap": 9,"lifeFloor": 949,"periodCap": 39,"periodFloor": 2}, 2014223716, 2448,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [81,140,182,56,230,159,99,169,126,199,113,88,234,178,152,83,137,111,41,11,170,139,54,34,143,132,224,38,232,139,170,108],"legalEntityIdCounterparty": [184,139,51,179,10,181,221,224,73,88,36,4,181,243,187,7,134,107,107,231,173,36,191,109,3,211,147,245,36,96,175,221],"dayCountConvention": 1,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 79,"statusDate": 1337,"initialExchangeDate": 1970,"maturityDate": 65,"terminationDate": 1461001,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 4900,"cycleAnchorDateOfRateReset": 1337,"cycleAnchorDateOfScalingIndex": 361,"cycleAnchorDateOfFee": 15,"notionalPrincipal": 81,"nominalInterestRate": 0,"feeAccrued": 4799,"accruedInterest": 1462,"rateMultiplier": 89,"rateSpread": 899,"feeRate": 1,"nextResetRate": 99,"penaltyRate": 31,"premiumDiscountAtIED": 368,"priceAtPurchaseDate": 40,"cycleOfInterestPayment": {"i": 131,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1461002,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1532892064,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 16,"p": 0,"s": 1,"isSet": true},"lifeCap": 949,"lifeFloor": 110,"periodCap": 151,"periodFloor": 66}, 365, 129,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [198,21,99,108,184,229,30,98,207,119,249,2,126,75,149,219,205,150,133,81,55,28,33,234,156,105,32,81,103,178,89,36],"legalEntityIdCounterparty": [42,65,83,247,170,158,118,177,47,231,153,42,108,247,244,113,134,90,147,196,189,142,21,194,229,148,18,243,34,148,59,206],"dayCountConvention": 5,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 4000,"statusDate": 10000,"initialExchangeDate": 86401,"maturityDate": 9,"terminationDate": 1532892063,"purchaseDate": 1532892062,"capitalizationEndDate": 1532892062,"cycleAnchorDateOfInterestPayment": 257,"cycleAnchorDateOfRateReset": 48,"cycleAnchorDateOfScalingIndex": 1532892063,"cycleAnchorDateOfFee": 1462,"notionalPrincipal": 29,"nominalInterestRate": 30,"feeAccrued": 64,"accruedInterest": 28,"rateMultiplier": 39,"rateSpread": 1969,"feeRate": 1461,"nextResetRate": 63,"penaltyRate": 146097,"premiumDiscountAtIED": 4000,"priceAtPurchaseDate": 6,"cycleOfInterestPayment": {"i": 159,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 86400,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 9999,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 257,"p": 5,"s": 1,"isSet": false},"lifeCap": 66,"lifeFloor": 2440588,"periodCap": 366,"periodFloor": 949}, 20, 109,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [90,24,71,180,34,181,157,151,22,249,253,149,171,213,2,100,22,105,170,227,145,48,158,143,80,183,253,80,87,246,151,229],"legalEntityIdCounterparty": [146,218,7,222,246,61,195,106,240,1,83,182,161,252,35,234,56,23,180,68,120,174,244,167,131,98,230,249,83,39,46,246],"dayCountConvention": 4,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 1462,"statusDate": 4000,"initialExchangeDate": 81,"maturityDate": 255,"terminationDate": 25,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 119,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 51,"cycleAnchorDateOfFee": 86399,"notionalPrincipal": 129,"nominalInterestRate": 0,"feeAccrued": 899,"accruedInterest": 110,"rateMultiplier": 119,"rateSpread": 27,"feeRate": 86401,"nextResetRate": 101,"penaltyRate": 26,"premiumDiscountAtIED": 10,"priceAtPurchaseDate": 151,"cycleOfInterestPayment": {"i": 368,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 120,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 68570,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 119,"p": 4,"s": 1,"isSet": true},"lifeCap": 21,"lifeFloor": 109,"periodCap": 4000,"periodFloor": 365}, 4001, 401,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [220,100,86,10,201,165,207,246,237,127,176,48,226,77,1,203,169,76,207,176,231,197,11,209,199,99,96,174,143,124,51,129],"legalEntityIdCounterparty": [75,131,249,230,53,90,236,116,35,197,97,50,101,3,233,220,88,243,205,122,73,65,127,71,25,130,66,162,51,115,206,156],"dayCountConvention": 2,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 7,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 361,"statusDate": 68569,"initialExchangeDate": 86399,"maturityDate": 28,"terminationDate": 66,"purchaseDate": 129,"capitalizationEndDate": 8,"cycleAnchorDateOfInterestPayment": 2440588,"cycleAnchorDateOfRateReset": 11,"cycleAnchorDateOfScalingIndex": 2014223715,"cycleAnchorDateOfFee": 900,"notionalPrincipal": 31,"nominalInterestRate": 89,"feeAccrued": 90,"accruedInterest": 401,"rateMultiplier": 100,"rateSpread": 111,"feeRate": 68568,"nextResetRate": 86399,"penaltyRate": 951,"premiumDiscountAtIED": 5,"priceAtPurchaseDate": 159,"cycleOfInterestPayment": {"i": 368,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 31,"p": 5,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 70,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 1532892062,"p": 2,"s": 0,"isSet": true},"lifeCap": 1461002,"lifeFloor": 7,"periodCap": 15,"periodFloor": 30}, 16, 0,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [136,194,56,235,139,53,20,166,151,118,7,156,23,215,191,60,100,26,29,183,83,247,152,8,67,0,249,223,93,182,33,25],"legalEntityIdCounterparty": [95,212,26,250,23,91,109,41,111,107,180,17,91,141,205,18,111,142,163,237,133,54,64,222,53,197,122,69,123,231,46,89],"dayCountConvention": 4,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 3,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 111,"statusDate": 4901,"initialExchangeDate": 4000,"maturityDate": 90,"terminationDate": 81,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 4000,"cycleAnchorDateOfRateReset": 1461,"cycleAnchorDateOfScalingIndex": 141,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 89,"nominalInterestRate": 0,"feeAccrued": 18,"accruedInterest": 68569,"rateMultiplier": 25,"rateSpread": 2447,"feeRate": 69,"nextResetRate": 4901,"penaltyRate": 66,"premiumDiscountAtIED": 30,"priceAtPurchaseDate": 68568,"cycleOfInterestPayment": {"i": 146098,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 401,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 2,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 140,"p": 1,"s": 1,"isSet": true},"lifeCap": 1460,"lifeFloor": 66,"periodCap": 5,"periodFloor": 99}, 254, 119,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [192,235,227,96,37,44,92,168,174,96,82,221,98,3,9,201,124,59,110,88,52,236,210,64,198,71,11,65,40,105,97,66],"legalEntityIdCounterparty": [74,147,96,137,99,19,254,230,138,171,181,79,74,76,5,252,239,198,92,221,166,196,208,155,45,48,139,190,71,50,27,77],"dayCountConvention": 4,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 2014223714,"statusDate": 401,"initialExchangeDate": 97,"maturityDate": 1460,"terminationDate": 23,"purchaseDate": 63,"capitalizationEndDate": 69,"cycleAnchorDateOfInterestPayment": 364,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 68568,"cycleAnchorDateOfFee": 96,"notionalPrincipal": 10001,"nominalInterestRate": 30,"feeAccrued": 18,"accruedInterest": 2448,"rateMultiplier": 26,"rateSpread": 1461000,"feeRate": 101,"nextResetRate": 14,"penaltyRate": 146096,"premiumDiscountAtIED": 1336,"priceAtPurchaseDate": 949,"cycleOfInterestPayment": {"i": 39,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 140,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 3999,"p": 5,"s": 0,"isSet": true},"cycleOfFee": {"i": 31,"p": 3,"s": 1,"isSet": false},"lifeCap": 18,"lifeFloor": 0,"periodCap": 1460,"periodFloor": 2014223715}, 1461, 71,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [164,223,128,251,46,163,118,108,97,214,216,53,99,41,225,249,229,24,253,50,103,170,233,82,43,147,134,140,36,156,0,122],"legalEntityIdCounterparty": [131,86,235,47,81,21,88,41,230,135,76,230,135,209,244,245,127,79,119,184,219,203,224,48,218,130,92,12,230,182,224,105],"dayCountConvention": 6,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 21,"statusDate": 399,"initialExchangeDate": 129,"maturityDate": 29,"terminationDate": 1971,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 139,"cycleAnchorDateOfRateReset": 400,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 26,"notionalPrincipal": 95,"nominalInterestRate": 0,"feeAccrued": 4899,"accruedInterest": 5,"rateMultiplier": 24,"rateSpread": 24,"feeRate": 65,"nextResetRate": 68568,"penaltyRate": 68568,"premiumDiscountAtIED": 91,"priceAtPurchaseDate": 146097,"cycleOfInterestPayment": {"i": 1532892064,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 111,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 257,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 25,"p": 5,"s": 0,"isSet": true},"lifeCap": 139,"lifeFloor": 2,"periodCap": 140,"periodFloor": 68569}, 59, 24,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [149,171,251,40,64,173,4,18,102,246,198,167,131,156,126,151,146,74,106,104,158,7,217,208,192,83,117,229,30,190,228,224],"legalEntityIdCounterparty": [17,158,101,90,213,57,233,135,109,96,235,246,172,32,200,234,56,174,227,182,162,215,92,70,242,84,137,16,107,71,34,216],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 65,"statusDate": 255,"initialExchangeDate": 4,"maturityDate": 39,"terminationDate": 32075,"purchaseDate": 18,"capitalizationEndDate": 119,"cycleAnchorDateOfInterestPayment": 1460,"cycleAnchorDateOfRateReset": 1336,"cycleAnchorDateOfScalingIndex": 68569,"cycleAnchorDateOfFee": 32075,"notionalPrincipal": 89,"nominalInterestRate": 19,"feeAccrued": 23,"accruedInterest": 1,"rateMultiplier": 4899,"rateSpread": 146098,"feeRate": 367,"nextResetRate": 151,"penaltyRate": 32076,"premiumDiscountAtIED": 9,"priceAtPurchaseDate": 1,"cycleOfInterestPayment": {"i": 86399,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 120,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1969,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 49,"p": 0,"s": 0,"isSet": true},"lifeCap": 20,"lifeFloor": 91,"periodCap": 32076,"periodFloor": 3999}, 31, 25,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [33,51,174,118,196,231,92,47,35,57,22,197,253,7,93,122,209,1,179,184,176,228,175,37,120,23,97,208,81,43,31,42],"legalEntityIdCounterparty": [54,210,215,75,37,146,78,116,228,236,52,138,92,156,51,33,132,112,127,251,102,137,47,9,105,22,74,76,15,233,100,103],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 361,"statusDate": 161,"initialExchangeDate": 4800,"maturityDate": 4000,"terminationDate": 2440587,"purchaseDate": 26,"capitalizationEndDate": 30,"cycleAnchorDateOfInterestPayment": 71,"cycleAnchorDateOfRateReset": 151,"cycleAnchorDateOfScalingIndex": 1461002,"cycleAnchorDateOfFee": 68568,"notionalPrincipal": 28,"nominalInterestRate": 89,"feeAccrued": 146098,"accruedInterest": 900,"rateMultiplier": 139,"rateSpread": 146098,"feeRate": 1970,"nextResetRate": 130,"penaltyRate": 159,"premiumDiscountAtIED": 160,"priceAtPurchaseDate": 70,"cycleOfInterestPayment": {"i": 1970,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1532892062,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 255,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 2014223716,"p": 5,"s": 1,"isSet": false},"lifeCap": 95,"lifeFloor": 151,"periodCap": 1460,"periodFloor": 25}, 12, 1532892063,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [121,154,22,138,166,120,207,239,125,190,227,219,112,253,72,176,20,131,126,44,14,26,134,105,156,102,245,151,110,116,222,192],"legalEntityIdCounterparty": [162,122,220,183,136,217,46,129,72,220,106,254,176,109,180,221,85,39,109,189,70,166,216,110,71,202,75,11,139,45,122,80],"dayCountConvention": 6,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 160,"statusDate": 8,"initialExchangeDate": 367,"maturityDate": 1461,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 366,"cycleAnchorDateOfRateReset": 1336,"cycleAnchorDateOfScalingIndex": 96,"cycleAnchorDateOfFee": 1338,"notionalPrincipal": 40,"nominalInterestRate": 0,"feeAccrued": 254,"accruedInterest": 64,"rateMultiplier": 39,"rateSpread": 2440588,"feeRate": 159,"nextResetRate": 7,"penaltyRate": 131,"premiumDiscountAtIED": 368,"priceAtPurchaseDate": 365,"cycleOfInterestPayment": {"i": 1969,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 949,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1970,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 146096,"p": 4,"s": 0,"isSet": true},"lifeCap": 95,"lifeFloor": 2,"periodCap": 1336,"periodFloor": 1336}, 400, 4801,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [213,168,217,43,151,79,11,84,243,116,106,17,233,72,211,34,8,200,74,153,64,253,69,25,101,44,159,20,223,19,201,226],"legalEntityIdCounterparty": [251,195,47,25,165,96,130,32,9,59,87,224,174,102,64,198,96,216,104,178,79,228,117,83,18,215,35,159,225,142,22,181],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 3,"statusDate": 1532892062,"initialExchangeDate": 5,"maturityDate": 257,"terminationDate": 146096,"purchaseDate": 1338,"capitalizationEndDate": 23,"cycleAnchorDateOfInterestPayment": 1971,"cycleAnchorDateOfRateReset": 65,"cycleAnchorDateOfScalingIndex": 901,"cycleAnchorDateOfFee": 2446,"notionalPrincipal": 81,"nominalInterestRate": 951,"feeAccrued": 68568,"accruedInterest": 4901,"rateMultiplier": 4,"rateSpread": 15,"feeRate": 97,"nextResetRate": 64,"penaltyRate": 1969,"premiumDiscountAtIED": 1,"priceAtPurchaseDate": 97,"cycleOfInterestPayment": {"i": 95,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 86400,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 61,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 141,"p": 3,"s": 0,"isSet": true},"lifeCap": 2447,"lifeFloor": 68569,"periodCap": 2447,"periodFloor": 139}, 39, 23,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [145,52,242,183,246,78,134,192,237,78,59,89,176,7,69,206,154,121,111,194,249,251,36,224,163,201,205,109,206,241,221,151],"legalEntityIdCounterparty": [28,132,152,222,242,154,188,204,54,115,177,148,47,224,226,17,184,117,78,99,166,124,44,227,34,236,202,43,140,111,142,73],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 14,"statusDate": 2014223716,"initialExchangeDate": 48,"maturityDate": 32074,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 68568,"cycleAnchorDateOfRateReset": 146098,"cycleAnchorDateOfScalingIndex": 20,"cycleAnchorDateOfFee": 950,"notionalPrincipal": 899,"nominalInterestRate": 0,"feeAccrued": 95,"accruedInterest": 5,"rateMultiplier": 151,"rateSpread": 95,"feeRate": 19,"nextResetRate": 9999,"penaltyRate": 365,"premiumDiscountAtIED": 40,"priceAtPurchaseDate": 2014223715,"cycleOfInterestPayment": {"i": 2446,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 151,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 79,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 96,"p": 2,"s": 0,"isSet": false},"lifeCap": 101,"lifeFloor": 254,"periodCap": 1336,"periodFloor": 146098}, 254, 32,{from: accounts[0]});
  });
});
