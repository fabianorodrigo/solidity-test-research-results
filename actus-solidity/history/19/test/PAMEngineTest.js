const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 1,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [145,42,94,124,72,179,109,223,228,65,1,75,72,45,130,67,166,59,150,195,216,99,241,169,172,128,145,52,63,77,203,78],"legalEntityIdCounterparty": [41,250,30,100,92,109,135,68,227,14,19,179,80,175,249,69,226,181,205,213,105,240,140,189,215,133,190,135,216,79,219,1],"dayCountConvention": 0,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 100,"statusDate": 149,"initialExchangeDate": 257,"maturityDate": 2447,"terminationDate": 364,"purchaseDate": 365,"capitalizationEndDate": 4000,"cycleAnchorDateOfInterestPayment": 360,"cycleAnchorDateOfRateReset": 367,"cycleAnchorDateOfScalingIndex": 951,"cycleAnchorDateOfFee": 159,"notionalPrincipal": 1461000,"nominalInterestRate": 4901,"feeAccrued": 13,"accruedInterest": 367,"rateMultiplier": 8,"rateSpread": 4800,"feeRate": 63,"nextResetRate": 99,"penaltyRate": 14,"premiumDiscountAtIED": 29,"priceAtPurchaseDate": 1971,"cycleOfInterestPayment": {"i": 1461001,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1336,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 90,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 32075,"p": 3,"s": 0,"isSet": true},"lifeCap": 20,"lifeFloor": 99,"periodCap": 4801,"periodFloor": 1532892063},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 12,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [87,17,107,201,62,193,29,170,178,178,25,119,62,46,24,5,144,25,101,132,15,60,179,95,223,71,44,81,130,69,34,177],"legalEntityIdCounterparty": [179,250,175,116,0,5,209,233,168,7,97,168,165,135,9,37,121,193,179,178,16,96,12,58,243,207,122,140,23,45,195,95],"dayCountConvention": 3,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 1,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 4900,"statusDate": 141,"initialExchangeDate": 4000,"maturityDate": 1971,"terminationDate": 32074,"purchaseDate": 1532892063,"capitalizationEndDate": 50,"cycleAnchorDateOfInterestPayment": 2448,"cycleAnchorDateOfRateReset": 900,"cycleAnchorDateOfScalingIndex": 401,"cycleAnchorDateOfFee": 4800,"notionalPrincipal": 161,"nominalInterestRate": 901,"feeAccrued": 951,"accruedInterest": 69,"rateMultiplier": 99,"rateSpread": 4000,"feeRate": 11,"nextResetRate": 20,"penaltyRate": 161,"premiumDiscountAtIED": 149,"priceAtPurchaseDate": 364,"cycleOfInterestPayment": {"i": 59,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 32074,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 257,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 60,"p": 1,"s": 1,"isSet": true},"lifeCap": 2,"lifeFloor": 70,"periodCap": 1532892064,"periodFloor": 401}, {"lastEventTime": 6,"contractStatus": 3,"timeFromLastEvent": 949,"nominalValue": 18,"nominalAccrued": 59,"feeAccrued": 95,"nominalRate": 361,"interestScalingMultiplier": 0,"nominalScalingMultiplier": 1532892063,"contractRoleSign": 6}, 1532892063,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 12,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [6,195,4,90,59,172,251,126,125,255,134,66,172,157,165,221,107,55,240,81,227,111,224,55,50,10,96,160,46,173,254,72],"legalEntityIdCounterparty": [7,81,15,132,203,208,198,43,123,247,56,118,131,160,242,255,12,206,244,157,214,27,179,33,20,200,200,72,198,195,2,227],"dayCountConvention": 3,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 71,"statusDate": 150,"initialExchangeDate": 71,"maturityDate": 4900,"terminationDate": 39,"purchaseDate": 30,"capitalizationEndDate": 1337,"cycleAnchorDateOfInterestPayment": 12,"cycleAnchorDateOfRateReset": 254,"cycleAnchorDateOfScalingIndex": 146098,"cycleAnchorDateOfFee": 19,"notionalPrincipal": 69,"nominalInterestRate": 101,"feeAccrued": 1970,"accruedInterest": 140,"rateMultiplier": 1532892063,"rateSpread": 1462,"feeRate": 26,"nextResetRate": 131,"penaltyRate": 1461002,"premiumDiscountAtIED": 26,"priceAtPurchaseDate": 254,"cycleOfInterestPayment": {"i": 3,"p": 3,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 399,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 119,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 360,"p": 1,"s": 0,"isSet": false},"lifeCap": 32074,"lifeFloor": 139,"periodCap": 1971,"periodFloor": 3}, {"lastEventTime": 161,"contractStatus": 2,"timeFromLastEvent": 121,"nominalValue": 2447,"nominalAccrued": 2014223715,"feeAccrued": 21,"nominalRate": 257,"interestScalingMultiplier": 27,"nominalScalingMultiplier": 360,"contractRoleSign": 4}, {"eventTime": 139,"eventTimeWithEpochOffset": 899,"scheduleTime": 366,"eventType": 1,"currency": accounts[8],"pofType": 14,"stfType": 6}, 359,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [56,32,251,224,7,22,80,208,186,95,169,209,251,254,118,138,212,126,160,108,198,187,61,99,2,98,173,122,53,154,255,31],"legalEntityIdCounterparty": [203,114,34,174,153,210,50,193,76,82,9,159,53,154,111,77,98,72,122,140,84,166,188,128,84,64,155,36,107,219,85,138],"dayCountConvention": 6,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 2014223715,"statusDate": 19,"initialExchangeDate": 97,"maturityDate": 2014223716,"terminationDate": 900,"purchaseDate": 101,"capitalizationEndDate": 101,"cycleAnchorDateOfInterestPayment": 1462,"cycleAnchorDateOfRateReset": 32075,"cycleAnchorDateOfScalingIndex": 2446,"cycleAnchorDateOfFee": 367,"notionalPrincipal": 1461000,"nominalInterestRate": 86401,"feeAccrued": 63,"accruedInterest": 19,"rateMultiplier": 61,"rateSpread": 89,"feeRate": 97,"nextResetRate": 2014223714,"penaltyRate": 129,"premiumDiscountAtIED": 400,"priceAtPurchaseDate": 59,"cycleOfInterestPayment": {"i": 86400,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 70,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 89,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 4801,"p": 3,"s": 1,"isSet": false},"lifeCap": 4801,"lifeFloor": 129,"periodCap": 151,"periodFloor": 4800}, 49, 950,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [32,201,221,250,197,34,3,24,68,202,13,168,187,86,255,193,122,139,103,16,205,201,209,153,180,208,217,95,1,48,236,232],"legalEntityIdCounterparty": [10,16,219,143,90,178,121,219,108,164,188,57,221,26,16,205,215,47,88,11,59,59,166,211,139,243,203,209,118,252,79,93],"dayCountConvention": 1,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 146096,"statusDate": 2440589,"initialExchangeDate": 6,"maturityDate": 2014223716,"terminationDate": 119,"purchaseDate": 367,"capitalizationEndDate": 1970,"cycleAnchorDateOfInterestPayment": 100,"cycleAnchorDateOfRateReset": 97,"cycleAnchorDateOfScalingIndex": 367,"cycleAnchorDateOfFee": 86400,"notionalPrincipal": 2014223715,"nominalInterestRate": 121,"feeAccrued": 2446,"accruedInterest": 4801,"rateMultiplier": 1336,"rateSpread": 64,"feeRate": 89,"nextResetRate": 146096,"penaltyRate": 50,"premiumDiscountAtIED": 900,"priceAtPurchaseDate": 161,"cycleOfInterestPayment": {"i": 2440588,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 86401,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1970,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 120,"p": 3,"s": 1,"isSet": false},"lifeCap": 1461,"lifeFloor": 901,"periodCap": 109,"periodFloor": 4799}, 2440589, 139,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [19,181,108,241,172,8,145,204,87,206,239,186,113,38,155,243,150,156,75,149,140,134,150,167,90,66,150,126,57,175,22,126],"legalEntityIdCounterparty": [87,78,174,226,167,120,179,244,218,169,116,134,168,74,61,220,160,144,121,58,105,147,110,25,160,89,202,139,135,189,65,254],"dayCountConvention": 0,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 119,"statusDate": 51,"initialExchangeDate": 951,"maturityDate": 2014223715,"terminationDate": 1532892063,"purchaseDate": 68569,"capitalizationEndDate": 40,"cycleAnchorDateOfInterestPayment": 9999,"cycleAnchorDateOfRateReset": 101,"cycleAnchorDateOfScalingIndex": 39,"cycleAnchorDateOfFee": 1970,"notionalPrincipal": 4900,"nominalInterestRate": 1,"feeAccrued": 89,"accruedInterest": 90,"rateMultiplier": 4800,"rateSpread": 81,"feeRate": 1336,"nextResetRate": 25,"penaltyRate": 64,"premiumDiscountAtIED": 1462,"priceAtPurchaseDate": 8,"cycleOfInterestPayment": {"i": 3,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 359,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 160,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 95,"p": 0,"s": 0,"isSet": false},"lifeCap": 361,"lifeFloor": 70,"periodCap": 950,"periodFloor": 3999}, 95, 1971,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [175,30,17,121,228,17,236,68,56,169,217,250,246,186,251,12,147,254,225,61,132,178,201,7,196,48,237,133,115,161,87,245],"legalEntityIdCounterparty": [7,195,179,117,196,83,86,82,63,11,141,68,10,28,147,193,115,48,210,189,178,25,99,145,146,242,197,29,63,133,230,153],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 2446,"statusDate": 39,"initialExchangeDate": 65,"maturityDate": 367,"terminationDate": 59,"purchaseDate": 60,"capitalizationEndDate": 160,"cycleAnchorDateOfInterestPayment": 146098,"cycleAnchorDateOfRateReset": 1532892062,"cycleAnchorDateOfScalingIndex": 96,"cycleAnchorDateOfFee": 121,"notionalPrincipal": 951,"nominalInterestRate": 4900,"feeAccrued": 48,"accruedInterest": 119,"rateMultiplier": 71,"rateSpread": 3,"feeRate": 151,"nextResetRate": 254,"penaltyRate": 24,"premiumDiscountAtIED": 950,"priceAtPurchaseDate": 16,"cycleOfInterestPayment": {"i": 32074,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 149,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 59,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 365,"p": 1,"s": 0,"isSet": true},"lifeCap": 97,"lifeFloor": 79,"periodCap": 120,"periodFloor": 32075}, 1461000, 367,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [226,252,11,226,178,161,6,63,229,159,226,185,224,8,153,162,193,253,73,2,121,68,163,67,16,161,84,225,50,1,217,134],"legalEntityIdCounterparty": [77,235,139,36,255,240,68,227,168,97,240,128,30,172,48,56,41,17,57,46,126,18,21,23,63,49,212,106,92,38,10,75],"dayCountConvention": 5,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 139,"statusDate": 256,"initialExchangeDate": 2440589,"maturityDate": 4801,"terminationDate": 119,"purchaseDate": 0,"capitalizationEndDate": 140,"cycleAnchorDateOfInterestPayment": 6,"cycleAnchorDateOfRateReset": 59,"cycleAnchorDateOfScalingIndex": 70,"cycleAnchorDateOfFee": 3999,"notionalPrincipal": 900,"nominalInterestRate": 139,"feeAccrued": 59,"accruedInterest": 2447,"rateMultiplier": 15,"rateSpread": 1337,"feeRate": 367,"nextResetRate": 1969,"penaltyRate": 64,"premiumDiscountAtIED": -1,"priceAtPurchaseDate": 13,"cycleOfInterestPayment": {"i": 32,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 23,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 364,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 1532892064,"p": 1,"s": 0,"isSet": false},"lifeCap": 161,"lifeFloor": 64,"periodCap": 359,"periodFloor": 901}, 2014223716, 1337,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [174,138,187,85,112,72,171,36,25,51,87,92,188,1,101,193,253,186,131,34,18,43,82,90,225,201,194,236,85,148,233,45],"legalEntityIdCounterparty": [119,145,210,224,181,6,108,50,103,21,41,235,3,254,125,141,136,123,125,97,56,254,31,115,93,107,153,27,45,166,229,7],"dayCountConvention": 4,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 14,"statusDate": 901,"initialExchangeDate": 4801,"maturityDate": 131,"terminationDate": 2,"purchaseDate": 68,"capitalizationEndDate": 27,"cycleAnchorDateOfInterestPayment": 68,"cycleAnchorDateOfRateReset": 140,"cycleAnchorDateOfScalingIndex": 39,"cycleAnchorDateOfFee": 2014223714,"notionalPrincipal": 59,"nominalInterestRate": 64,"feeAccrued": 32076,"accruedInterest": 59,"rateMultiplier": 91,"rateSpread": 4,"feeRate": 13,"nextResetRate": 161,"penaltyRate": 899,"premiumDiscountAtIED": 899,"priceAtPurchaseDate": 365,"cycleOfInterestPayment": {"i": 10000,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 2446,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 4800,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 2447,"p": 0,"s": 1,"isSet": false},"lifeCap": 400,"lifeFloor": 40,"periodCap": 161,"periodFloor": 32075}, 18, 8,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [61,111,222,24,231,242,154,17,110,120,250,111,23,139,179,117,129,138,124,71,4,176,58,221,25,180,4,17,161,134,20,57],"legalEntityIdCounterparty": [75,48,215,87,45,130,15,133,60,185,199,224,243,77,117,105,103,67,107,8,223,144,219,223,69,145,25,138,209,141,47,173],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 68,"statusDate": 360,"initialExchangeDate": 31,"maturityDate": 150,"terminationDate": 951,"purchaseDate": 361,"capitalizationEndDate": 949,"cycleAnchorDateOfInterestPayment": 2440589,"cycleAnchorDateOfRateReset": 23,"cycleAnchorDateOfScalingIndex": 32076,"cycleAnchorDateOfFee": 9999,"notionalPrincipal": 86399,"nominalInterestRate": 139,"feeAccrued": 96,"accruedInterest": 13,"rateMultiplier": 401,"rateSpread": 3999,"feeRate": 39,"nextResetRate": 140,"penaltyRate": 4801,"premiumDiscountAtIED": 66,"priceAtPurchaseDate": 255,"cycleOfInterestPayment": {"i": 367,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 32076,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 257,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 86400,"p": 4,"s": 1,"isSet": true},"lifeCap": 119,"lifeFloor": 146096,"periodCap": 68569,"periodFloor": 29}, 149, 140,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [191,1,243,208,221,177,38,65,168,133,95,11,217,74,156,0,88,220,37,39,120,26,116,213,114,197,46,223,68,1,58,213],"legalEntityIdCounterparty": [52,26,208,129,214,126,95,130,84,37,224,247,186,100,144,194,161,44,115,75,167,156,8,186,177,49,0,248,213,111,32,186],"dayCountConvention": 5,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 361,"statusDate": 1461000,"initialExchangeDate": 2,"maturityDate": 99,"terminationDate": 41,"purchaseDate": 1,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 39,"cycleAnchorDateOfRateReset": 70,"cycleAnchorDateOfScalingIndex": 141,"cycleAnchorDateOfFee": 29,"notionalPrincipal": 119,"nominalInterestRate": 20,"feeAccrued": 25,"accruedInterest": 65,"rateMultiplier": 4800,"rateSpread": 364,"feeRate": 68568,"nextResetRate": 32075,"penaltyRate": 32074,"premiumDiscountAtIED": 2448,"priceAtPurchaseDate": 900,"cycleOfInterestPayment": {"i": 2446,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 24,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 149,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 139,"p": 5,"s": 0,"isSet": false},"lifeCap": 65,"lifeFloor": 68,"periodCap": 4901,"periodFloor": 32075}, 32076, 131,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [5,228,31,24,4,221,145,177,58,121,116,153,9,246,197,0,251,146,36,155,194,30,57,96,119,32,12,83,219,63,166,115],"legalEntityIdCounterparty": [190,18,234,168,17,246,3,135,160,155,65,161,215,6,255,107,91,57,103,40,172,74,80,51,178,90,20,221,145,242,135,201],"dayCountConvention": 4,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 68,"statusDate": 1337,"initialExchangeDate": 95,"maturityDate": 101,"terminationDate": 951,"purchaseDate": 61,"capitalizationEndDate": 1461,"cycleAnchorDateOfInterestPayment": 18,"cycleAnchorDateOfRateReset": 20,"cycleAnchorDateOfScalingIndex": 28,"cycleAnchorDateOfFee": 1461,"notionalPrincipal": 96,"nominalInterestRate": 10000,"feeAccrued": 360,"accruedInterest": 49,"rateMultiplier": 11,"rateSpread": 2014223714,"feeRate": 121,"nextResetRate": 139,"penaltyRate": 70,"premiumDiscountAtIED": 255,"priceAtPurchaseDate": 950,"cycleOfInterestPayment": {"i": 4000,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 2440588,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 101,"p": 5,"s": 0,"isSet": true},"cycleOfFee": {"i": 59,"p": 1,"s": 1,"isSet": false},"lifeCap": 1970,"lifeFloor": 10001,"periodCap": 950,"periodFloor": 4800}, 4, 1461,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [94,63,47,65,179,10,218,218,36,162,84,206,114,84,178,63,93,192,180,23,118,178,114,222,89,164,134,34,35,192,29,65],"legalEntityIdCounterparty": [119,51,141,120,38,199,157,165,239,131,102,17,68,224,142,93,5,170,116,32,246,238,119,59,232,171,78,189,15,245,224,201],"dayCountConvention": 4,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 399,"statusDate": 366,"initialExchangeDate": 65,"maturityDate": 367,"terminationDate": 256,"purchaseDate": 367,"capitalizationEndDate": 950,"cycleAnchorDateOfInterestPayment": 4,"cycleAnchorDateOfRateReset": 2014223715,"cycleAnchorDateOfScalingIndex": 32074,"cycleAnchorDateOfFee": 120,"notionalPrincipal": 70,"nominalInterestRate": 65,"feeAccrued": 2440588,"accruedInterest": 146096,"rateMultiplier": 359,"rateSpread": 2440589,"feeRate": 32076,"nextResetRate": 86399,"penaltyRate": 32075,"premiumDiscountAtIED": 4800,"priceAtPurchaseDate": 149,"cycleOfInterestPayment": {"i": 256,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 109,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1336,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 149,"p": 0,"s": 0,"isSet": true},"lifeCap": 949,"lifeFloor": 80,"periodCap": 0,"periodFloor": 13}, 19, 23,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [158,68,13,226,191,190,227,69,244,10,188,213,226,170,204,57,130,202,6,52,172,17,16,82,82,164,133,111,100,157,248,187],"legalEntityIdCounterparty": [112,144,85,65,98,87,182,196,239,180,186,240,6,29,47,96,168,220,222,250,112,204,94,171,138,101,46,110,138,143,180,228],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 1336,"statusDate": 1460,"initialExchangeDate": 70,"maturityDate": 32074,"terminationDate": 69,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 5,"cycleAnchorDateOfRateReset": 400,"cycleAnchorDateOfScalingIndex": 359,"cycleAnchorDateOfFee": 367,"notionalPrincipal": 1337,"nominalInterestRate": 0,"feeAccrued": 100,"accruedInterest": 10001,"rateMultiplier": 1970,"rateSpread": 4000,"feeRate": 899,"nextResetRate": 2440587,"penaltyRate": 48,"premiumDiscountAtIED": 68569,"priceAtPurchaseDate": 2440587,"cycleOfInterestPayment": {"i": 4801,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 161,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 10000,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 59,"p": 2,"s": 1,"isSet": false},"lifeCap": 64,"lifeFloor": 2448,"periodCap": 256,"periodFloor": 29}, 51, 16,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [112,117,176,90,154,138,212,135,30,217,170,121,156,89,96,80,6,203,213,149,118,46,93,250,209,202,167,8,124,52,57,115],"legalEntityIdCounterparty": [196,217,160,245,157,224,107,13,151,70,182,181,206,155,123,232,28,141,142,92,142,159,47,60,184,79,57,53,164,155,96,42],"dayCountConvention": 6,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 101,"statusDate": 60,"initialExchangeDate": 2440589,"maturityDate": 24,"terminationDate": 2440587,"purchaseDate": 50,"capitalizationEndDate": 95,"cycleAnchorDateOfInterestPayment": 68569,"cycleAnchorDateOfRateReset": 100,"cycleAnchorDateOfScalingIndex": 63,"cycleAnchorDateOfFee": 69,"notionalPrincipal": 6,"nominalInterestRate": 32074,"feeAccrued": 111,"accruedInterest": 15,"rateMultiplier": 66,"rateSpread": 257,"feeRate": 9999,"nextResetRate": 109,"penaltyRate": 4799,"premiumDiscountAtIED": 1,"priceAtPurchaseDate": 86400,"cycleOfInterestPayment": {"i": 68569,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 4900,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 256,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 1970,"p": 5,"s": 0,"isSet": true},"lifeCap": 141,"lifeFloor": 366,"periodCap": 4800,"periodFloor": 366}, 25, 26,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [218,134,223,212,35,12,22,145,186,109,169,166,100,87,240,68,162,209,228,132,113,153,105,61,85,128,74,99,138,244,76,254],"legalEntityIdCounterparty": [158,207,89,16,168,28,63,255,213,43,30,151,151,29,248,169,84,210,155,163,47,153,131,226,63,73,213,218,21,87,118,67],"dayCountConvention": 3,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 2,"statusDate": 361,"initialExchangeDate": 1461002,"maturityDate": 59,"terminationDate": 66,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 71,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 109,"cycleAnchorDateOfFee": 68,"notionalPrincipal": 28,"nominalInterestRate": 0,"feeAccrued": 4900,"accruedInterest": 10,"rateMultiplier": 149,"rateSpread": 95,"feeRate": 146098,"nextResetRate": 901,"penaltyRate": 68569,"premiumDiscountAtIED": 79,"priceAtPurchaseDate": 129,"cycleOfInterestPayment": {"i": 367,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 2014223715,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 141,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 364,"p": 0,"s": 0,"isSet": true},"lifeCap": 99,"lifeFloor": 254,"periodCap": 30,"periodFloor": 71}, 59, 139,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [207,62,229,155,252,70,11,154,99,23,28,80,32,213,74,81,55,193,143,59,217,208,168,72,185,99,83,28,174,204,214,75],"legalEntityIdCounterparty": [52,99,119,236,163,84,185,161,107,196,183,191,240,243,38,103,131,172,0,148,192,116,96,165,58,161,31,236,78,128,48,81],"dayCountConvention": 4,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 68,"statusDate": 2440589,"initialExchangeDate": 80,"maturityDate": 1969,"terminationDate": 360,"purchaseDate": 364,"capitalizationEndDate": 130,"cycleAnchorDateOfInterestPayment": 40,"cycleAnchorDateOfRateReset": 4000,"cycleAnchorDateOfScalingIndex": 12,"cycleAnchorDateOfFee": 86399,"notionalPrincipal": 950,"nominalInterestRate": 91,"feeAccrued": 2014223715,"accruedInterest": 68569,"rateMultiplier": 20,"rateSpread": 1532892062,"feeRate": 41,"nextResetRate": 89,"penaltyRate": 69,"premiumDiscountAtIED": 80,"priceAtPurchaseDate": 6,"cycleOfInterestPayment": {"i": 97,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 41,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 64,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 4000,"p": 5,"s": 1,"isSet": true},"lifeCap": 2446,"lifeFloor": -1,"periodCap": 11,"periodFloor": 110}, 15, 18,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [24,127,7,232,42,193,83,222,122,214,221,187,171,209,2,70,84,23,143,153,162,101,200,94,180,145,59,60,37,10,178,134],"legalEntityIdCounterparty": [10,221,159,77,175,145,228,139,134,210,40,61,132,96,225,203,218,242,200,123,76,158,60,250,132,118,191,176,129,181,42,85],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 5,"statusDate": 18,"initialExchangeDate": 41,"maturityDate": 3,"terminationDate": 1461,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 18,"cycleAnchorDateOfRateReset": 119,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 29,"nominalInterestRate": 0,"feeAccrued": 361,"accruedInterest": 1460,"rateMultiplier": 31,"rateSpread": 1461000,"feeRate": 7,"nextResetRate": 950,"penaltyRate": 95,"premiumDiscountAtIED": 149,"priceAtPurchaseDate": 9,"cycleOfInterestPayment": {"i": 149,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 24,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 17,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 160,"p": 4,"s": 1,"isSet": false},"lifeCap": 1970,"lifeFloor": 368,"periodCap": 1970,"periodFloor": 9999}, 899, 11,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [33,119,163,114,211,12,92,80,247,204,1,69,248,94,122,132,103,101,65,85,66,103,120,138,164,27,121,152,18,38,14,124],"legalEntityIdCounterparty": [64,117,133,7,78,29,127,39,111,159,106,178,18,213,23,213,157,117,239,89,116,233,33,105,56,176,129,158,73,140,123,15],"dayCountConvention": 5,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 399,"statusDate": 141,"initialExchangeDate": 24,"maturityDate": 141,"terminationDate": 8,"purchaseDate": 32076,"capitalizationEndDate": 40,"cycleAnchorDateOfInterestPayment": 1461001,"cycleAnchorDateOfRateReset": 95,"cycleAnchorDateOfScalingIndex": 130,"cycleAnchorDateOfFee": 364,"notionalPrincipal": 1,"nominalInterestRate": 31,"feeAccrued": 12,"accruedInterest": 2446,"rateMultiplier": 39,"rateSpread": 141,"feeRate": 2447,"nextResetRate": 31,"penaltyRate": 89,"premiumDiscountAtIED": 25,"priceAtPurchaseDate": 63,"cycleOfInterestPayment": {"i": 160,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 255,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 59,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 70,"p": 1,"s": 0,"isSet": false},"lifeCap": 1,"lifeFloor": 8,"periodCap": 1460,"periodFloor": 368}, 101, 2446,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [217,244,251,76,67,159,199,254,116,255,50,253,11,67,111,176,232,11,156,208,171,189,9,83,31,50,192,192,39,197,125,162],"legalEntityIdCounterparty": [71,122,65,143,239,108,68,53,70,29,8,11,120,35,154,34,238,18,154,186,18,12,42,4,9,212,133,107,114,250,12,31],"dayCountConvention": 6,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 949,"statusDate": 399,"initialExchangeDate": 119,"maturityDate": 141,"terminationDate": 5,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 97,"cycleAnchorDateOfRateReset": 1970,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 21,"notionalPrincipal": 15,"nominalInterestRate": 0,"feeAccrued": 400,"accruedInterest": 63,"rateMultiplier": 32074,"rateSpread": 100,"feeRate": 4900,"nextResetRate": 109,"penaltyRate": 367,"premiumDiscountAtIED": 400,"priceAtPurchaseDate": 100,"cycleOfInterestPayment": {"i": 95,"p": 0,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 23,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 60,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 950,"p": 3,"s": 1,"isSet": false},"lifeCap": 1969,"lifeFloor": 49,"periodCap": 31,"periodFloor": 368}, 39, 5,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [253,10,226,235,178,150,140,35,158,23,162,1,56,99,94,255,108,65,166,3,168,182,218,111,183,128,90,11,40,228,36,217],"legalEntityIdCounterparty": [191,137,84,212,76,176,142,171,135,204,36,250,151,56,249,212,95,219,53,154,15,253,88,15,110,78,224,164,8,127,255,184],"dayCountConvention": 4,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 367,"statusDate": 365,"initialExchangeDate": 900,"maturityDate": 899,"terminationDate": 146097,"purchaseDate": 100,"capitalizationEndDate": 256,"cycleAnchorDateOfInterestPayment": 100,"cycleAnchorDateOfRateReset": 1461,"cycleAnchorDateOfScalingIndex": 63,"cycleAnchorDateOfFee": 6,"notionalPrincipal": 24,"nominalInterestRate": 66,"feeAccrued": 68,"accruedInterest": 100,"rateMultiplier": 1337,"rateSpread": 39,"feeRate": 12,"nextResetRate": 9,"penaltyRate": 68570,"premiumDiscountAtIED": 68569,"priceAtPurchaseDate": 61,"cycleOfInterestPayment": {"i": 2447,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1461002,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 80,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 80,"p": 0,"s": 0,"isSet": false},"lifeCap": 19,"lifeFloor": 161,"periodCap": 23,"periodFloor": 359}, 63, 6,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [26,137,169,17,160,22,130,216,126,133,89,217,52,128,148,125,157,242,205,178,249,151,172,9,56,143,16,203,240,253,107,64],"legalEntityIdCounterparty": [94,45,146,61,126,163,212,154,6,71,89,45,240,10,126,203,173,30,144,57,234,123,160,109,233,80,109,129,97,27,161,231],"dayCountConvention": 1,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 131,"statusDate": 151,"initialExchangeDate": 2448,"maturityDate": 3999,"terminationDate": 366,"purchaseDate": 109,"capitalizationEndDate": 151,"cycleAnchorDateOfInterestPayment": 139,"cycleAnchorDateOfRateReset": 99,"cycleAnchorDateOfScalingIndex": 2,"cycleAnchorDateOfFee": 13,"notionalPrincipal": 10000,"nominalInterestRate": 11,"feeAccrued": 28,"accruedInterest": 110,"rateMultiplier": 81,"rateSpread": 17,"feeRate": 2440589,"nextResetRate": 48,"penaltyRate": 364,"premiumDiscountAtIED": 48,"priceAtPurchaseDate": 146097,"cycleOfInterestPayment": {"i": 100,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 365,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 111,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 64,"p": 2,"s": 1,"isSet": true},"lifeCap": 68,"lifeFloor": 366,"periodCap": 949,"periodFloor": 68}, 7, 2448,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [164,66,7,209,60,223,81,238,200,201,75,198,235,134,89,13,68,188,145,235,116,186,220,125,67,217,62,184,98,245,16,191],"legalEntityIdCounterparty": [180,238,172,25,96,163,97,149,144,221,74,57,243,45,251,15,143,13,15,73,214,65,191,13,214,46,116,244,39,34,244,92],"dayCountConvention": 3,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 49,"statusDate": 23,"initialExchangeDate": 20,"maturityDate": 361,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 2440588,"cycleAnchorDateOfRateReset": 1971,"cycleAnchorDateOfScalingIndex": 50,"cycleAnchorDateOfFee": 27,"notionalPrincipal": 159,"nominalInterestRate": 0,"feeAccrued": 151,"accruedInterest": 7,"rateMultiplier": 361,"rateSpread": 89,"feeRate": 111,"nextResetRate": 70,"penaltyRate": 4000,"premiumDiscountAtIED": 4799,"priceAtPurchaseDate": 63,"cycleOfInterestPayment": {"i": 97,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 48,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 20,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 90,"p": 3,"s": 0,"isSet": false},"lifeCap": 951,"lifeFloor": 140,"periodCap": 900,"periodFloor": 257}, 100, 4,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [225,48,188,222,151,207,187,63,220,160,40,171,156,170,148,206,207,60,122,117,127,163,66,97,37,44,159,158,124,190,218,84],"legalEntityIdCounterparty": [53,196,52,89,92,94,8,95,34,113,197,59,27,238,48,246,176,45,167,107,47,18,22,151,172,217,89,178,36,37,255,26],"dayCountConvention": 3,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 3,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 1461002,"statusDate": 159,"initialExchangeDate": 49,"maturityDate": 3,"terminationDate": 1971,"purchaseDate": 9999,"capitalizationEndDate": 49,"cycleAnchorDateOfInterestPayment": 110,"cycleAnchorDateOfRateReset": 366,"cycleAnchorDateOfScalingIndex": 5,"cycleAnchorDateOfFee": 160,"notionalPrincipal": 4899,"nominalInterestRate": 4899,"feeAccrued": 4899,"accruedInterest": 4899,"rateMultiplier": 256,"rateSpread": 16,"feeRate": 17,"nextResetRate": 256,"penaltyRate": 10001,"premiumDiscountAtIED": 69,"priceAtPurchaseDate": 899,"cycleOfInterestPayment": {"i": 32075,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 4900,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 2014223715,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 141,"p": 5,"s": 1,"isSet": true},"lifeCap": 60,"lifeFloor": 86399,"periodCap": 70,"periodFloor": 32075}, 68570, 71,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [164,19,106,181,140,140,51,63,140,244,217,36,184,178,107,67,123,195,95,255,187,227,191,165,163,187,164,215,211,44,64,39],"legalEntityIdCounterparty": [100,83,131,191,140,74,182,156,247,235,41,34,62,17,149,30,153,43,249,123,119,250,157,90,7,45,131,41,48,37,27,45],"dayCountConvention": 5,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 950,"statusDate": 119,"initialExchangeDate": 360,"maturityDate": 366,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 31,"cycleAnchorDateOfRateReset": 18,"cycleAnchorDateOfScalingIndex": 29,"cycleAnchorDateOfFee": 32076,"notionalPrincipal": 120,"nominalInterestRate": 0,"feeAccrued": 1532892064,"accruedInterest": 80,"rateMultiplier": 11,"rateSpread": 399,"feeRate": 39,"nextResetRate": 255,"penaltyRate": 30,"premiumDiscountAtIED": 4899,"priceAtPurchaseDate": 1971,"cycleOfInterestPayment": {"i": 364,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 3999,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1462,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 68569,"p": 1,"s": 0,"isSet": false},"lifeCap": 149,"lifeFloor": 149,"periodCap": 31,"periodFloor": 68570}, 17, 5,{from: accounts[0]});
  });
});
