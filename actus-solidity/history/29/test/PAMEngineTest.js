const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 17,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [184,20,156,134,47,30,197,212,45,31,144,242,200,68,226,200,98,126,125,39,252,167,29,110,9,146,45,65,102,217,108,135],"legalEntityIdCounterparty": [169,140,32,193,62,97,219,213,108,0,220,207,17,81,191,255,49,199,213,91,219,223,120,5,74,183,95,84,214,168,139,225],"dayCountConvention": 2,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 2,"statusDate": 1532892064,"initialExchangeDate": 1,"maturityDate": 146096,"terminationDate": 9999,"purchaseDate": 159,"capitalizationEndDate": 24,"cycleAnchorDateOfInterestPayment": 399,"cycleAnchorDateOfRateReset": 27,"cycleAnchorDateOfScalingIndex": 1532892063,"cycleAnchorDateOfFee": 59,"notionalPrincipal": 4901,"nominalInterestRate": 1337,"feeAccrued": 161,"accruedInterest": 21,"rateMultiplier": 10001,"rateSpread": 141,"feeRate": 1969,"nextResetRate": 141,"penaltyRate": 361,"premiumDiscountAtIED": 146097,"priceAtPurchaseDate": 1462,"cycleOfInterestPayment": {"i": 4800,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 4800,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 64,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 139,"p": 5,"s": 1,"isSet": true},"lifeCap": 31,"lifeFloor": 1337,"periodCap": 32,"periodFloor": 99},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 15,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [188,86,85,176,5,67,246,156,107,181,8,235,183,45,119,204,50,206,85,104,6,65,102,107,191,197,101,149,179,9,136,176],"legalEntityIdCounterparty": [161,230,41,160,60,127,16,71,154,68,92,186,234,202,239,18,110,168,198,17,174,127,162,163,76,47,155,143,108,249,113,244],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 24,"statusDate": 146098,"initialExchangeDate": 16,"maturityDate": 10001,"terminationDate": 70,"purchaseDate": 109,"capitalizationEndDate": 4,"cycleAnchorDateOfInterestPayment": 51,"cycleAnchorDateOfRateReset": 66,"cycleAnchorDateOfScalingIndex": 2448,"cycleAnchorDateOfFee": 69,"notionalPrincipal": 1532892064,"nominalInterestRate": 900,"feeAccrued": 99,"accruedInterest": 1532892064,"rateMultiplier": 13,"rateSpread": 254,"feeRate": 161,"nextResetRate": 10,"penaltyRate": 100,"premiumDiscountAtIED": 160,"priceAtPurchaseDate": 21,"cycleOfInterestPayment": {"i": 29,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1970,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 86401,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 367,"p": 2,"s": 0,"isSet": false},"lifeCap": 10001,"lifeFloor": 79,"periodCap": 96,"periodFloor": 97}, {"lastEventTime": 12,"contractStatus": 3,"timeFromLastEvent": 41,"nominalValue": 1532892064,"nominalAccrued": 11,"feeAccrued": 2448,"nominalRate": 68568,"interestScalingMultiplier": 32075,"nominalScalingMultiplier": 256,"contractRoleSign": 8}, 29,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 15,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [239,129,18,174,118,197,230,233,209,34,7,88,224,244,139,221,81,211,5,223,248,217,227,131,61,74,67,236,85,16,142,192],"legalEntityIdCounterparty": [247,3,114,243,211,183,46,248,137,99,61,80,5,131,140,179,70,88,79,9,35,194,104,255,172,78,125,248,193,177,29,6],"dayCountConvention": 1,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 1,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 48,"statusDate": 4799,"initialExchangeDate": 15,"maturityDate": 1970,"terminationDate": 49,"purchaseDate": 1462,"capitalizationEndDate": 96,"cycleAnchorDateOfInterestPayment": 19,"cycleAnchorDateOfRateReset": 27,"cycleAnchorDateOfScalingIndex": 2448,"cycleAnchorDateOfFee": 4799,"notionalPrincipal": 254,"nominalInterestRate": 80,"feeAccrued": 9999,"accruedInterest": 23,"rateMultiplier": 4000,"rateSpread": 257,"feeRate": 129,"nextResetRate": 14,"penaltyRate": 95,"premiumDiscountAtIED": -1,"priceAtPurchaseDate": 89,"cycleOfInterestPayment": {"i": 4799,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 9,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 86400,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 141,"p": 4,"s": 1,"isSet": true},"lifeCap": 1461002,"lifeFloor": 1971,"periodCap": 1461002,"periodFloor": 160}, {"lastEventTime": 63,"contractStatus": 2,"timeFromLastEvent": 16,"nominalValue": 1970,"nominalAccrued": 6,"feeAccrued": 139,"nominalRate": 17,"interestScalingMultiplier": 2447,"nominalScalingMultiplier": 2014223715,"contractRoleSign": 1}, {"eventTime": 2447,"eventTimeWithEpochOffset": 51,"scheduleTime": 96,"eventType": 8,"currency": accounts[6],"pofType": 7,"stfType": 8}, 90,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [166,4,132,62,239,180,152,59,46,216,197,91,138,91,228,72,102,13,8,100,29,76,52,224,237,176,240,95,142,181,227,241],"legalEntityIdCounterparty": [90,146,173,80,2,217,15,66,56,124,230,144,99,138,30,202,20,158,90,66,132,220,36,13,170,116,9,184,109,140,53,230],"dayCountConvention": 4,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 2014223715,"statusDate": 257,"initialExchangeDate": 900,"maturityDate": 901,"terminationDate": 1461000,"purchaseDate": 39,"capitalizationEndDate": 4899,"cycleAnchorDateOfInterestPayment": 86401,"cycleAnchorDateOfRateReset": 365,"cycleAnchorDateOfScalingIndex": 950,"cycleAnchorDateOfFee": 360,"notionalPrincipal": 18,"nominalInterestRate": 13,"feeAccrued": 16,"accruedInterest": 1,"rateMultiplier": 150,"rateSpread": 9999,"feeRate": 27,"nextResetRate": 949,"penaltyRate": 29,"premiumDiscountAtIED": 131,"priceAtPurchaseDate": 12,"cycleOfInterestPayment": {"i": 59,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 101,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 131,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 366,"p": 0,"s": 0,"isSet": true},"lifeCap": 1971,"lifeFloor": 1336,"periodCap": 159,"periodFloor": 69}, 80, 120,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [70,124,154,205,30,194,183,21,118,222,217,188,160,74,58,183,160,4,226,36,183,23,223,16,143,216,230,104,14,1,212,28],"legalEntityIdCounterparty": [120,244,106,31,223,231,214,73,77,46,77,76,165,19,194,161,247,38,215,203,85,214,112,7,191,77,28,91,8,178,35,62],"dayCountConvention": 4,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 99,"statusDate": 11,"initialExchangeDate": 360,"maturityDate": 140,"terminationDate": 65,"purchaseDate": 1532892064,"capitalizationEndDate": 80,"cycleAnchorDateOfInterestPayment": 130,"cycleAnchorDateOfRateReset": 1971,"cycleAnchorDateOfScalingIndex": 86401,"cycleAnchorDateOfFee": 86399,"notionalPrincipal": 146096,"nominalInterestRate": 21,"feeAccrued": 9,"accruedInterest": 2440587,"rateMultiplier": 367,"rateSpread": 1461003,"feeRate": 71,"nextResetRate": 29,"penaltyRate": 1336,"premiumDiscountAtIED": 24,"priceAtPurchaseDate": 29,"cycleOfInterestPayment": {"i": 146098,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 160,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 146098,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 1969,"p": 3,"s": 1,"isSet": true},"lifeCap": 99,"lifeFloor": 32,"periodCap": 111,"periodFloor": 28}, 20, 10001,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [252,191,48,143,207,238,137,4,105,85,244,106,163,131,206,240,103,57,3,145,197,53,29,148,26,190,53,13,131,190,153,28],"legalEntityIdCounterparty": [82,150,243,146,182,138,14,73,30,218,94,154,214,175,207,158,75,80,217,205,124,41,185,132,164,171,153,179,250,70,134,111],"dayCountConvention": 5,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 39,"statusDate": 7,"initialExchangeDate": 8,"maturityDate": 159,"terminationDate": 4900,"purchaseDate": 31,"capitalizationEndDate": 23,"cycleAnchorDateOfInterestPayment": 146097,"cycleAnchorDateOfRateReset": 129,"cycleAnchorDateOfScalingIndex": 69,"cycleAnchorDateOfFee": 130,"notionalPrincipal": 149,"nominalInterestRate": 13,"feeAccrued": 80,"accruedInterest": 4,"rateMultiplier": 31,"rateSpread": 97,"feeRate": 91,"nextResetRate": 2014223714,"penaltyRate": 161,"premiumDiscountAtIED": 12,"priceAtPurchaseDate": 3999,"cycleOfInterestPayment": {"i": 130,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 364,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 161,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 29,"p": 3,"s": 1,"isSet": true},"lifeCap": 86401,"lifeFloor": 27,"periodCap": 1462,"periodFloor": 64}, 69, 1,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [72,170,73,23,170,224,241,140,102,215,14,240,51,202,44,34,169,167,51,244,218,100,7,123,115,222,90,215,227,62,151,204],"legalEntityIdCounterparty": [118,73,131,183,98,29,150,116,248,248,228,204,223,3,195,166,92,142,53,104,197,185,106,31,53,223,75,246,38,78,232,227],"dayCountConvention": 5,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 65,"statusDate": 60,"initialExchangeDate": 68570,"maturityDate": 1461001,"terminationDate": 129,"purchaseDate": 951,"capitalizationEndDate": 2440589,"cycleAnchorDateOfInterestPayment": 4801,"cycleAnchorDateOfRateReset": 32075,"cycleAnchorDateOfScalingIndex": 159,"cycleAnchorDateOfFee": 68570,"notionalPrincipal": 3,"nominalInterestRate": 949,"feeAccrued": 149,"accruedInterest": 86400,"rateMultiplier": 109,"rateSpread": 119,"feeRate": 59,"nextResetRate": 368,"penaltyRate": 129,"premiumDiscountAtIED": 1969,"priceAtPurchaseDate": 30,"cycleOfInterestPayment": {"i": 900,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 5,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 401,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 90,"p": 3,"s": 1,"isSet": true},"lifeCap": 15,"lifeFloor": 96,"periodCap": 32,"periodFloor": 1970}, 160, 1461000,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [198,212,203,92,111,84,135,214,47,246,41,201,53,68,7,133,6,24,123,159,236,121,128,49,79,229,49,104,233,194,64,10],"legalEntityIdCounterparty": [167,98,28,40,192,228,204,83,25,225,217,127,188,251,232,144,216,192,52,11,190,170,228,4,107,33,4,146,164,34,232,7],"dayCountConvention": 0,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 2446,"statusDate": 2446,"initialExchangeDate": 50,"maturityDate": 141,"terminationDate": 1969,"purchaseDate": 0,"capitalizationEndDate": 365,"cycleAnchorDateOfInterestPayment": 4900,"cycleAnchorDateOfRateReset": 368,"cycleAnchorDateOfScalingIndex": 146098,"cycleAnchorDateOfFee": 401,"notionalPrincipal": 31,"nominalInterestRate": 900,"feeAccrued": 1336,"accruedInterest": 32076,"rateMultiplier": 150,"rateSpread": 91,"feeRate": 256,"nextResetRate": 146096,"penaltyRate": 0,"premiumDiscountAtIED": 2014223715,"priceAtPurchaseDate": 6,"cycleOfInterestPayment": {"i": 48,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 900,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 63,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 97,"p": 4,"s": 0,"isSet": false},"lifeCap": 256,"lifeFloor": 68570,"periodCap": 21,"periodFloor": 10001}, 86399, 129,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [102,182,88,244,60,182,36,17,250,243,90,247,133,235,188,72,197,106,20,157,176,177,144,226,91,181,3,94,99,46,103,238],"legalEntityIdCounterparty": [3,204,91,55,106,145,108,118,227,236,27,246,120,59,255,30,150,9,69,13,114,223,190,58,9,43,115,237,191,2,241,42],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 900,"statusDate": 14,"initialExchangeDate": 951,"maturityDate": 1532892063,"terminationDate": 70,"purchaseDate": 146097,"capitalizationEndDate": 68570,"cycleAnchorDateOfInterestPayment": 1461003,"cycleAnchorDateOfRateReset": 24,"cycleAnchorDateOfScalingIndex": 23,"cycleAnchorDateOfFee": 12,"notionalPrincipal": 146098,"nominalInterestRate": 100,"feeAccrued": 2448,"accruedInterest": 48,"rateMultiplier": 59,"rateSpread": 15,"feeRate": 900,"nextResetRate": 3999,"penaltyRate": 1,"premiumDiscountAtIED": 41,"priceAtPurchaseDate": 4000,"cycleOfInterestPayment": {"i": 12,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 12,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1461003,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 361,"p": 2,"s": 1,"isSet": false},"lifeCap": 1461000,"lifeFloor": 31,"periodCap": 1532892062,"periodFloor": 27}, 86399, 15,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [249,120,156,95,255,111,93,84,74,166,121,180,139,183,32,71,76,101,148,8,120,25,49,78,40,128,238,245,95,134,185,229],"legalEntityIdCounterparty": [210,152,167,239,135,47,90,138,204,75,192,0,76,130,86,86,113,76,90,3,47,115,96,76,65,139,99,110,47,77,163,255],"dayCountConvention": 1,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 11,"statusDate": 146098,"initialExchangeDate": 60,"maturityDate": 32074,"terminationDate": 360,"purchaseDate": 4000,"capitalizationEndDate": 1969,"cycleAnchorDateOfInterestPayment": 129,"cycleAnchorDateOfRateReset": 8,"cycleAnchorDateOfScalingIndex": 109,"cycleAnchorDateOfFee": 26,"notionalPrincipal": 1461000,"nominalInterestRate": 1969,"feeAccrued": 96,"accruedInterest": 2014223716,"rateMultiplier": 900,"rateSpread": 4,"feeRate": -1,"nextResetRate": 29,"penaltyRate": 68568,"premiumDiscountAtIED": 70,"priceAtPurchaseDate": 950,"cycleOfInterestPayment": {"i": 20,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 949,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1532892063,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 39,"p": 5,"s": 1,"isSet": false},"lifeCap": 86399,"lifeFloor": 68569,"periodCap": 1460,"periodFloor": 32074}, 120, 80,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [242,34,76,128,127,237,78,160,21,45,87,241,219,97,37,45,240,210,29,17,85,245,12,107,155,84,96,207,170,243,128,121],"legalEntityIdCounterparty": [159,192,59,86,161,161,3,125,102,40,252,192,238,96,148,136,125,14,165,121,181,139,1,76,157,253,170,76,95,245,217,1],"dayCountConvention": 2,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 1,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 101,"statusDate": 1461002,"initialExchangeDate": 24,"maturityDate": 2448,"terminationDate": 79,"purchaseDate": 101,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 17,"cycleAnchorDateOfRateReset": 256,"cycleAnchorDateOfScalingIndex": 1970,"cycleAnchorDateOfFee": 17,"notionalPrincipal": 1969,"nominalInterestRate": 130,"feeAccrued": 29,"accruedInterest": 3999,"rateMultiplier": 17,"rateSpread": 951,"feeRate": 86399,"nextResetRate": 86399,"penaltyRate": 1338,"premiumDiscountAtIED": 81,"priceAtPurchaseDate": 139,"cycleOfInterestPayment": {"i": 97,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 4900,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 359,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 11,"p": 1,"s": 0,"isSet": true},"lifeCap": 18,"lifeFloor": 15,"periodCap": 86401,"periodFloor": 99}, 20, 4801,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [171,80,43,6,102,125,123,110,115,169,91,22,76,52,128,250,157,59,79,76,17,196,0,76,197,201,155,63,236,225,119,177],"legalEntityIdCounterparty": [246,199,44,54,231,11,129,88,166,158,144,92,170,234,185,141,236,164,211,53,56,153,60,102,117,69,156,208,158,96,79,1],"dayCountConvention": 5,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 16,"statusDate": 4001,"initialExchangeDate": 11,"maturityDate": 29,"terminationDate": 66,"purchaseDate": 86401,"capitalizationEndDate": 2440588,"cycleAnchorDateOfInterestPayment": 3,"cycleAnchorDateOfRateReset": 66,"cycleAnchorDateOfScalingIndex": 97,"cycleAnchorDateOfFee": 2447,"notionalPrincipal": 359,"nominalInterestRate": 1969,"feeAccrued": 146098,"accruedInterest": 5,"rateMultiplier": 26,"rateSpread": 12,"feeRate": 367,"nextResetRate": 99,"penaltyRate": 1461000,"premiumDiscountAtIED": 2014223715,"priceAtPurchaseDate": 59,"cycleOfInterestPayment": {"i": 364,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 21,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 51,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 1970,"p": 3,"s": 0,"isSet": false},"lifeCap": 99,"lifeFloor": 129,"periodCap": 63,"periodFloor": 1532892062}, 146097, 97,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [78,60,244,126,174,201,88,25,188,177,84,121,158,27,88,34,33,237,11,156,208,204,241,82,145,211,235,33,199,115,76,65],"legalEntityIdCounterparty": [178,65,101,64,119,92,251,164,48,181,200,149,216,150,52,24,252,133,186,79,244,210,45,190,239,78,70,102,222,22,109,104],"dayCountConvention": 5,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 3,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 951,"statusDate": 4901,"initialExchangeDate": 28,"maturityDate": 130,"terminationDate": 109,"purchaseDate": 29,"capitalizationEndDate": 901,"cycleAnchorDateOfInterestPayment": 99,"cycleAnchorDateOfRateReset": 367,"cycleAnchorDateOfScalingIndex": 6,"cycleAnchorDateOfFee": 139,"notionalPrincipal": 5,"nominalInterestRate": 63,"feeAccrued": 111,"accruedInterest": 161,"rateMultiplier": 2014223715,"rateSpread": 7,"feeRate": 146098,"nextResetRate": 4801,"penaltyRate": 40,"premiumDiscountAtIED": 949,"priceAtPurchaseDate": 97,"cycleOfInterestPayment": {"i": 10,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 1,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 81,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 368,"p": 1,"s": 1,"isSet": false},"lifeCap": 86401,"lifeFloor": 49,"periodCap": 66,"periodFloor": -1}, 139, 1,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [96,74,1,181,112,137,47,21,29,223,147,29,24,219,183,152,9,211,175,75,119,15,137,161,157,0,100,16,160,114,185,235],"legalEntityIdCounterparty": [9,96,251,80,61,42,127,176,11,31,246,115,134,152,35,65,127,235,75,182,116,120,75,83,49,237,44,10,86,120,19,145],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 0,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 39,"statusDate": 365,"initialExchangeDate": 2014223716,"maturityDate": 109,"terminationDate": 111,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 16,"cycleAnchorDateOfRateReset": 9999,"cycleAnchorDateOfScalingIndex": 949,"cycleAnchorDateOfFee": 86400,"notionalPrincipal": 64,"nominalInterestRate": 0,"feeAccrued": 2447,"accruedInterest": 59,"rateMultiplier": 14,"rateSpread": 1461000,"feeRate": 1532892064,"nextResetRate": 66,"penaltyRate": 1969,"premiumDiscountAtIED": 29,"priceAtPurchaseDate": 24,"cycleOfInterestPayment": {"i": 4000,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 9,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 16,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 255,"p": 3,"s": 1,"isSet": true},"lifeCap": 12,"lifeFloor": 60,"periodCap": 141,"periodFloor": 60}, 1336, 10,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [68,93,207,185,10,193,242,42,7,129,179,124,197,7,161,96,42,106,41,158,237,62,239,8,22,79,35,164,187,182,133,90],"legalEntityIdCounterparty": [235,172,41,39,234,164,7,131,153,216,103,114,139,47,75,126,127,186,167,91,214,209,44,129,12,56,188,183,91,203,97,155],"dayCountConvention": 3,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 0,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 40,"statusDate": 39,"initialExchangeDate": 95,"maturityDate": 10,"terminationDate": 68569,"purchaseDate": 950,"capitalizationEndDate": 949,"cycleAnchorDateOfInterestPayment": 109,"cycleAnchorDateOfRateReset": 1971,"cycleAnchorDateOfScalingIndex": 69,"cycleAnchorDateOfFee": 61,"notionalPrincipal": 129,"nominalInterestRate": 65,"feeAccrued": 91,"accruedInterest": 1461001,"rateMultiplier": 86400,"rateSpread": 4000,"feeRate": 96,"nextResetRate": 80,"penaltyRate": 109,"premiumDiscountAtIED": 4000,"priceAtPurchaseDate": 120,"cycleOfInterestPayment": {"i": 15,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 150,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 70,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 367,"p": 3,"s": 1,"isSet": true},"lifeCap": 17,"lifeFloor": 141,"periodCap": 9999,"periodFloor": 11}, 399, 13,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [35,227,168,78,97,228,47,144,229,248,113,76,160,242,237,233,108,127,238,64,235,160,181,138,248,115,164,204,65,44,11,175],"legalEntityIdCounterparty": [127,123,153,64,227,156,230,177,204,72,166,141,37,54,77,125,196,61,46,19,124,26,239,41,185,117,201,62,124,87,40,205],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 66,"statusDate": 51,"initialExchangeDate": 101,"maturityDate": 146098,"terminationDate": 32074,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 4001,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 17,"cycleAnchorDateOfFee": 61,"notionalPrincipal": 2014223715,"nominalInterestRate": 0,"feeAccrued": 1461,"accruedInterest": 2448,"rateMultiplier": 89,"rateSpread": 109,"feeRate": 48,"nextResetRate": 368,"penaltyRate": 29,"premiumDiscountAtIED": 1,"priceAtPurchaseDate": 7,"cycleOfInterestPayment": {"i": 28,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 11,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 51,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 97,"p": 3,"s": 1,"isSet": false},"lifeCap": 146097,"lifeFloor": 1532892063,"periodCap": 150,"periodFloor": 360}, 1969, 109,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [97,191,193,6,137,175,28,112,177,10,153,186,168,24,151,149,28,79,196,122,169,86,142,129,148,178,79,58,241,202,100,171],"legalEntityIdCounterparty": [248,197,93,163,112,67,238,253,76,254,115,23,51,5,96,5,175,182,57,78,217,210,204,109,220,165,151,142,178,49,106,233],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 4800,"statusDate": 3999,"initialExchangeDate": 1462,"maturityDate": 80,"terminationDate": 1,"purchaseDate": 1336,"capitalizationEndDate": 950,"cycleAnchorDateOfInterestPayment": 109,"cycleAnchorDateOfRateReset": 131,"cycleAnchorDateOfScalingIndex": 4,"cycleAnchorDateOfFee": 29,"notionalPrincipal": 61,"nominalInterestRate": 401,"feeAccrued": 1461,"accruedInterest": 51,"rateMultiplier": 95,"rateSpread": 39,"feeRate": 4001,"nextResetRate": 150,"penaltyRate": 119,"premiumDiscountAtIED": 2440589,"priceAtPurchaseDate": 129,"cycleOfInterestPayment": {"i": 89,"p": 0,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 4799,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 79,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 59,"p": 1,"s": 0,"isSet": false},"lifeCap": 66,"lifeFloor": 1970,"periodCap": 361,"periodFloor": 4801}, 68568, 70,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [76,36,41,230,35,231,46,111,209,162,3,203,171,112,224,192,131,118,17,162,59,78,210,16,133,106,106,127,150,190,217,43],"legalEntityIdCounterparty": [75,240,107,220,254,87,102,36,215,136,245,110,98,103,232,220,83,66,125,178,62,66,125,125,47,30,27,188,87,254,195,243],"dayCountConvention": 6,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 1969,"statusDate": 146098,"initialExchangeDate": 4900,"maturityDate": 1460,"terminationDate": 32074,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 1971,"cycleAnchorDateOfRateReset": 28,"cycleAnchorDateOfScalingIndex": 4001,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 359,"nominalInterestRate": 0,"feeAccrued": 79,"accruedInterest": 949,"rateMultiplier": 4801,"rateSpread": 10,"feeRate": 86401,"nextResetRate": 1461001,"penaltyRate": 99,"premiumDiscountAtIED": 11,"priceAtPurchaseDate": 15,"cycleOfInterestPayment": {"i": 1,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 4001,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 60,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 2014223714,"p": 0,"s": 1,"isSet": true},"lifeCap": 64,"lifeFloor": 949,"periodCap": 949,"periodFloor": 2}, 149, 257,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [230,149,63,168,79,216,45,65,26,45,200,201,42,184,198,147,157,121,10,17,3,222,244,173,125,117,138,248,85,242,39,3],"legalEntityIdCounterparty": [156,38,18,142,249,46,64,127,116,52,2,102,205,228,19,203,167,2,180,178,150,178,209,133,193,220,9,35,61,7,223,94],"dayCountConvention": 6,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 65,"statusDate": 71,"initialExchangeDate": 400,"maturityDate": 109,"terminationDate": 4900,"purchaseDate": 5,"capitalizationEndDate": 2446,"cycleAnchorDateOfInterestPayment": 1337,"cycleAnchorDateOfRateReset": 1,"cycleAnchorDateOfScalingIndex": 41,"cycleAnchorDateOfFee": 120,"notionalPrincipal": 899,"nominalInterestRate": 1532892064,"feeAccrued": 86399,"accruedInterest": 2014223714,"rateMultiplier": 4799,"rateSpread": 1461,"feeRate": 1971,"nextResetRate": 19,"penaltyRate": 14,"premiumDiscountAtIED": 255,"priceAtPurchaseDate": 30,"cycleOfInterestPayment": {"i": 100,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 25,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 15,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 951,"p": 0,"s": 1,"isSet": false},"lifeCap": 10000,"lifeFloor": 29,"periodCap": 1971,"periodFloor": 48}, 15, 31,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [237,128,77,131,13,145,149,87,201,109,227,8,78,8,149,239,237,200,245,66,49,158,31,89,31,26,134,235,117,240,201,135],"legalEntityIdCounterparty": [127,83,160,157,226,237,36,227,182,28,18,174,178,213,228,34,221,169,63,35,221,42,234,127,89,13,252,253,236,244,7,168],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 3999,"statusDate": 367,"initialExchangeDate": 4799,"maturityDate": 4,"terminationDate": 359,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 32074,"cycleAnchorDateOfRateReset": 141,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 65,"notionalPrincipal": 951,"nominalInterestRate": 0,"feeAccrued": 32,"accruedInterest": 129,"rateMultiplier": 32075,"rateSpread": 4801,"feeRate": 141,"nextResetRate": 71,"penaltyRate": 12,"premiumDiscountAtIED": 4900,"priceAtPurchaseDate": 65,"cycleOfInterestPayment": {"i": 366,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 110,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 81,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 2448,"p": 3,"s": 1,"isSet": true},"lifeCap": 68569,"lifeFloor": 6,"periodCap": 68568,"periodFloor": 41}, 99, 368,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [130,48,13,29,7,23,9,82,99,78,144,34,121,62,80,109,202,248,166,203,65,183,218,108,226,77,196,161,255,65,232,254],"legalEntityIdCounterparty": [196,117,86,243,71,135,171,213,32,5,73,200,48,250,3,65,87,85,211,144,66,135,126,128,166,183,189,8,126,196,40,77],"dayCountConvention": 4,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 0,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 4799,"statusDate": 4001,"initialExchangeDate": 81,"maturityDate": 4900,"terminationDate": 2446,"purchaseDate": 1460,"capitalizationEndDate": 3,"cycleAnchorDateOfInterestPayment": 4001,"cycleAnchorDateOfRateReset": 256,"cycleAnchorDateOfScalingIndex": 4801,"cycleAnchorDateOfFee": 19,"notionalPrincipal": 14,"nominalInterestRate": 146096,"feeAccrued": 361,"accruedInterest": 10,"rateMultiplier": 39,"rateSpread": 66,"feeRate": 16,"nextResetRate": 80,"penaltyRate": 63,"premiumDiscountAtIED": 10001,"priceAtPurchaseDate": 899,"cycleOfInterestPayment": {"i": 4899,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 95,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 3999,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 4900,"p": 3,"s": 0,"isSet": false},"lifeCap": 51,"lifeFloor": 31,"periodCap": 256,"periodFloor": 8}, 121, 101,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [133,253,176,122,38,208,131,172,188,227,119,176,159,233,142,37,102,0,34,173,202,215,189,56,164,53,71,145,125,44,182,76],"legalEntityIdCounterparty": [186,185,35,219,12,251,136,142,80,138,86,59,207,33,84,250,159,65,99,82,152,64,148,5,20,12,68,109,29,228,13,30],"dayCountConvention": 4,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 23,"statusDate": 950,"initialExchangeDate": 131,"maturityDate": 255,"terminationDate": 1337,"purchaseDate": 2440587,"capitalizationEndDate": 68569,"cycleAnchorDateOfInterestPayment": 2440588,"cycleAnchorDateOfRateReset": 146097,"cycleAnchorDateOfScalingIndex": 1,"cycleAnchorDateOfFee": 8,"notionalPrincipal": 91,"nominalInterestRate": 121,"feeAccrued": 1462,"accruedInterest": 1461003,"rateMultiplier": 32,"rateSpread": 1969,"feeRate": 1969,"nextResetRate": 48,"penaltyRate": 146096,"premiumDiscountAtIED": 160,"priceAtPurchaseDate": 21,"cycleOfInterestPayment": {"i": 6,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 8,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 65,"p": 5,"s": 0,"isSet": true},"cycleOfFee": {"i": 161,"p": 2,"s": 0,"isSet": true},"lifeCap": 2446,"lifeFloor": 2014223715,"periodCap": 20,"periodFloor": 160}, 10000, 96,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [45,28,76,139,114,21,229,96,20,246,85,29,208,91,71,46,227,105,13,60,152,87,50,26,151,79,240,91,196,158,233,200],"legalEntityIdCounterparty": [2,167,128,73,124,117,60,209,183,90,246,107,67,70,7,135,179,113,54,190,9,254,9,184,83,150,240,142,31,157,100,240],"dayCountConvention": 5,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 32,"statusDate": 149,"initialExchangeDate": 399,"maturityDate": 4900,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 900,"cycleAnchorDateOfRateReset": 366,"cycleAnchorDateOfScalingIndex": 8,"cycleAnchorDateOfFee": 1462,"notionalPrincipal": 10001,"nominalInterestRate": 0,"feeAccrued": 49,"accruedInterest": 150,"rateMultiplier": 81,"rateSpread": 1462,"feeRate": 80,"nextResetRate": 1462,"penaltyRate": 109,"premiumDiscountAtIED": 28,"priceAtPurchaseDate": 69,"cycleOfInterestPayment": {"i": 101,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 364,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 32074,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 3999,"p": 3,"s": 0,"isSet": true},"lifeCap": 109,"lifeFloor": 12,"periodCap": 1338,"periodFloor": 149}, 1461003, 4800,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [40,100,218,199,134,93,62,146,105,72,75,166,161,223,29,196,166,94,98,192,24,208,127,192,208,163,109,8,93,0,43,239],"legalEntityIdCounterparty": [231,146,2,140,219,194,245,162,23,237,51,115,251,152,175,149,17,197,179,169,61,36,166,154,145,254,70,30,252,5,181,162],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 256,"statusDate": 2440587,"initialExchangeDate": 11,"maturityDate": 1532892062,"terminationDate": 12,"purchaseDate": 365,"capitalizationEndDate": 2440588,"cycleAnchorDateOfInterestPayment": 366,"cycleAnchorDateOfRateReset": 4799,"cycleAnchorDateOfScalingIndex": 41,"cycleAnchorDateOfFee": 2014223715,"notionalPrincipal": 28,"nominalInterestRate": 4900,"feeAccrued": -1,"accruedInterest": 70,"rateMultiplier": 26,"rateSpread": 12,"feeRate": 1532892062,"nextResetRate": 4000,"penaltyRate": 1532892064,"premiumDiscountAtIED": 951,"priceAtPurchaseDate": 1461000,"cycleOfInterestPayment": {"i": 121,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 950,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 255,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 13,"p": 4,"s": 1,"isSet": true},"lifeCap": 2448,"lifeFloor": 400,"periodCap": 15,"periodFloor": 119}, 60, 40,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [55,125,9,77,33,234,228,75,11,48,244,4,179,141,58,214,9,52,109,56,44,251,59,112,185,137,82,148,88,183,1,184],"legalEntityIdCounterparty": [112,45,4,150,144,119,19,154,150,245,13,145,146,107,215,255,233,196,15,75,122,168,102,126,170,37,80,154,196,11,105,180],"dayCountConvention": 6,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 6,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 79,"statusDate": 4001,"initialExchangeDate": 18,"maturityDate": 23,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 3999,"cycleAnchorDateOfRateReset": 9,"cycleAnchorDateOfScalingIndex": 1461002,"cycleAnchorDateOfFee": 110,"notionalPrincipal": -1,"nominalInterestRate": 0,"feeAccrued": 129,"accruedInterest": 4799,"rateMultiplier": 150,"rateSpread": 129,"feeRate": 1969,"nextResetRate": 151,"penaltyRate": 12,"premiumDiscountAtIED": 365,"priceAtPurchaseDate": 66,"cycleOfInterestPayment": {"i": 254,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 27,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 80,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 70,"p": 0,"s": 1,"isSet": false},"lifeCap": 111,"lifeFloor": 60,"periodCap": 950,"periodFloor": 254}, 1969, 1462,{from: accounts[0]});
  });
});
