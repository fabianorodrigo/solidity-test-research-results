npx solidity-coverage
ter 10 nov 2020 04:17:02 -03
Truffle v5.0.27 (core: 5.0.27)
Solidity - 0.4.24 (solc-js)
Node v10.15.3
Web3.js v1.0.0-beta.37
Generating coverage environment
Running: truffle compile --network coverage 
(this can take a few seconds)...

Compiling your contracts...
===========================
> Compiling ./contracts/ERC20test.sol
> Compiling ./contracts/HarbergerAds.sol
> Compiling ./contracts/Migrations.sol
> Compiling zeppelin-solidity/contracts/math/SafeMath.sol
> Compiling zeppelin-solidity/contracts/ownership/Ownable.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/BasicToken.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/BurnableToken.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/DetailedERC20.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/ERC20.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/ERC20Basic.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/MintableToken.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/StandardToken.sol

    > compilation warnings encountered:

/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/ERC20test.sol:26:7: Warning: Using contract member "transfer" inherited from the address type is deprecated. Convert the contract to "address" type to access the member, for example use "address(contract).transfer" instead.
      this.transfer(msg.value);
      ^-----------^

> Artifacts written to /home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/build/contracts
> Compiled successfully using:
   - solc: 0.4.24+commit.e67f0147.Emscripten.clang

Instrumenting  ./coverageEnv/contracts/ERC20test.sol
Instrumenting  ./coverageEnv/contracts/HarbergerAds.sol
Skipping instrumentation of  ./coverageEnv/contracts/Migrations.sol
Running: truffle compile --network coverage 
(this can take a few seconds)...

Compiling your contracts...
===========================
> Compiling ./contracts/ERC20test.sol
> Compiling ./contracts/HarbergerAds.sol
> Compiling ./contracts/Migrations.sol
> Compiling zeppelin-solidity/contracts/math/SafeMath.sol
> Compiling zeppelin-solidity/contracts/ownership/Ownable.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/BasicToken.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/BurnableToken.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/DetailedERC20.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/ERC20.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/ERC20Basic.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/MintableToken.sol
> Compiling zeppelin-solidity/contracts/token/ERC20/StandardToken.sol

    > compilation warnings encountered:

/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/ERC20test.sol:43:1: Warning: Using contract member "transfer" inherited from the address type is deprecated. Convert the contract to "address" type to access the member, for example use "address(contract).transfer" instead.
this.transfer(msg.value);
^-----------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:56:78: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
 ... __FunctionCoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',3) ... 
     ^--------------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:58:6: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
emit __CoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',39);
     ^-------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:59:14: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
 ... __StatementCoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',6) ... 
     ^---------------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:61:6: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
emit __CoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',40);
     ^-------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:62:14: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
 ... __StatementCoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',7) ... 
     ^---------------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:64:6: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
emit __CoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',41);
     ^-------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:65:14: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
 ... __StatementCoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',8) ... 
     ^---------------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:66:32: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
 ... __BranchCoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',1,0) ... 
     ^--------------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:67:6: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
emit __CoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',42);
     ^-------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:68:18: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
 ... __StatementCoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',9) ... 
     ^---------------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:70:22: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
 ... __BranchCoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',1,1) ... 
     ^--------------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:71:6: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
emit __CoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',44);
     ^-------------------------------------------------------------------------------------------------------------------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/contracts/HarbergerAds.sol:72:18: Warning: Function declared as view, but this expression (potentially) modifies the state and thus requires non-payable (the default) or payable.
 ... __StatementCoverageHarbergerAds('/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/contracts/HarbergerAds.sol',10) ... 
     ^----------------------------------------------------------------------------------------------------------------------------------------------------^

> Artifacts written to /home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/build/contracts
> Compiled successfully using:
   - solc: 0.4.24+commit.e67f0147.Emscripten.clang

Launched testrpc on port 8555
Running: truffle test --network coverage 
(this can take a few seconds)...
Using network 'coverage'.


Compiling your contracts...
===========================
> Everything is up to date, there is nothing to compile.

network is coverage
TypeError: Cannot read property 'address' of undefined
    at deployer.then (/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/harberger-ads-contracts/coverageEnv/migrations/2_deploy_contracts.js:23:56)
    at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-deployer/index.js:66:1
    at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-deployer/src/deferredchain.js:20:1
    at process._tickCallback (internal/process/next_tick.js:68:7)

[0m[0m
[0m  Contract: ERC20test[0m
  [32m  âœ“[0m[90m Should execute fallback()[0m[33m (56ms)[0m
  [31m  1) Should execute burn(uint256) WHEN _value<=balances[0m
    > No events were emitted
  [32m  âœ“[0m[90m Should execute mint(address) WHEN mintingFinished!=true[0m[33m (70ms)[0m
  [31m  2) Should fail mint(address) when NOT comply with: mintingFinished != true[0m

    Events emitted during test:
    ---------------------------

    Mint(to: <indexed> 0xF04C8AAF15DF9e35a4a0b2843F4Ff0d5930B799C (address), amount: 0 (uint256))
    Transfer(from: <indexed> 0x0000000000000000000000000000000000000000 (address), to: <indexed> 0xF04C8AAF15DF9e35a4a0b2843F4Ff0d5930B799C (address), value: 0 (uint256))

    ---------------------------

[0m  Contract: HarbergerAds[0m
  [31m  3) Should execute taxesDue(uint256) WHEN 1>0[0m
    > No events were emitted
  [32m  âœ“[0m[90m Should execute balanceOf(address) WHEN balance>allowance[0m[33m (42ms)[0m
  [32m  âœ“[0m[90m Should execute balanceOf(address) WHEN balance<=allowance[0m
  [32m  âœ“[0m[90m Should execute addProperty(uint256)[0m[33m (62ms)[0m
  [31m  4) Should execute forecloseIfPossible(uint256)[0m
    > No events were emitted
  [31m  5) Should execute collectTaxes(uint256) WHEN taxes>0,taxes<=balance[0m
    > No events were emitted
  [31m  6) Should execute collectTaxes(uint256) WHEN taxes<=0,taxes<=balance[0m
    > No events were emitted
  [31m  7) Should execute collectTaxes(uint256) WHEN balance>0,taxes>balance[0m
    > No events were emitted
  [31m  8) Should execute collectTaxes(uint256) WHEN balance<=0,taxes>balance[0m
    > No events were emitted
  [31m  9) Should execute buy(uint256,uint256,uint256) WHEN seller!=msg.sender[0m
    > No events were emitted
  [31m  10) Should execute buy(uint256,uint256,uint256) WHEN seller==msg.sender[0m
    > No events were emitted
  [32m  âœ“[0m[90m Should execute propertyCount()[0m
  [31m  11) Should execute changeRecipient(uint256,address)[0m
    > No events were emitted


[92m [0m[32m 6 passing[0m[90m (8s)[0m
[31m  11 failing[0m

[0m  1) Contract: ERC20test
       Should execute burn(uint256) WHEN _value<=balances:
[0m[31m     Error: Returned error: VM Exception while processing transaction: revert[0m[90m
      at Object.ErrorResponse (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1
      at XMLHttpRequest.request.onreadystatechange (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)
      at XMLHttpRequestEventTarget.dispatchEvent (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)
      at XMLHttpRequest._setReadyState (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)
      at XMLHttpRequest._onHttpResponseEnd (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)
      at IncomingMessage.<anonymous> (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)
      at endReadableNT (_stream_readable.js:1125:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)
[0m
[0m  2) Contract: ERC20test
       Should fail mint(address) when NOT comply with: mintingFinished != true:
[0m[31m     AssertionError: Did not fail[0m[90m
      at fails (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle-assertions@0.9.2/node_modules/truffle-assertions/index.js:161:9)
      at process._tickCallback (internal/process/next_tick.js:68:7)
[0m
[0m  3) Contract: HarbergerAds
       Should execute taxesDue(uint256) WHEN 1>0:
[0m[31m     Error: Returned error: VM Exception while processing transaction: invalid opcode[0m[90m
      at Object.ErrorResponse (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1
      at XMLHttpRequest.request.onreadystatechange (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)
      at XMLHttpRequestEventTarget.dispatchEvent (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)
      at XMLHttpRequest._setReadyState (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)
      at XMLHttpRequest._onHttpResponseEnd (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)
      at IncomingMessage.<anonymous> (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)
      at endReadableNT (_stream_readable.js:1125:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)
[0m
[0m  4) Contract: HarbergerAds
       Should execute forecloseIfPossible(uint256):
[0m[31m     Error: Returned error: VM Exception while processing transaction: invalid opcode[0m[90m
      at Object.ErrorResponse (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1
      at XMLHttpRequest.request.onreadystatechange (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)
      at XMLHttpRequestEventTarget.dispatchEvent (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)
      at XMLHttpRequest._setReadyState (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)
      at XMLHttpRequest._onHttpResponseEnd (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)
      at IncomingMessage.<anonymous> (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)
      at endReadableNT (_stream_readable.js:1125:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)
[0m
[0m  5) Contract: HarbergerAds
       Should execute collectTaxes(uint256) WHEN taxes>0,taxes<=balance:
[0m[31m     Error: Returned error: VM Exception while processing transaction: invalid opcode[0m[90m
      at Object.ErrorResponse (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1
      at XMLHttpRequest.request.onreadystatechange (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)
      at XMLHttpRequestEventTarget.dispatchEvent (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)
      at XMLHttpRequest._setReadyState (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)
      at XMLHttpRequest._onHttpResponseEnd (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)
      at IncomingMessage.<anonymous> (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)
      at endReadableNT (_stream_readable.js:1125:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)
[0m
[0m  6) Contract: HarbergerAds
       Should execute collectTaxes(uint256) WHEN taxes<=0,taxes<=balance:
[0m[31m     Error: Returned error: VM Exception while processing transaction: invalid opcode[0m[90m
      at Object.ErrorResponse (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1
      at XMLHttpRequest.request.onreadystatechange (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)
      at XMLHttpRequestEventTarget.dispatchEvent (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)
      at XMLHttpRequest._setReadyState (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)
      at XMLHttpRequest._onHttpResponseEnd (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)
      at IncomingMessage.<anonymous> (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)
      at endReadableNT (_stream_readable.js:1125:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)
[0m
[0m  7) Contract: HarbergerAds
       Should execute collectTaxes(uint256) WHEN balance>0,taxes>balance:
[0m[31m     Error: Returned error: VM Exception while processing transaction: invalid opcode[0m[90m
      at Object.ErrorResponse (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1
      at XMLHttpRequest.request.onreadystatechange (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)
      at XMLHttpRequestEventTarget.dispatchEvent (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)
      at XMLHttpRequest._setReadyState (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)
      at XMLHttpRequest._onHttpResponseEnd (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)
      at IncomingMessage.<anonymous> (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)
      at endReadableNT (_stream_readable.js:1125:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)
[0m
[0m  8) Contract: HarbergerAds
       Should execute collectTaxes(uint256) WHEN balance<=0,taxes>balance:
[0m[31m     Error: Returned error: VM Exception while processing transaction: invalid opcode[0m[90m
      at Object.ErrorResponse (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1
      at XMLHttpRequest.request.onreadystatechange (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)
      at XMLHttpRequestEventTarget.dispatchEvent (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)
      at XMLHttpRequest._setReadyState (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)
      at XMLHttpRequest._onHttpResponseEnd (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)
      at IncomingMessage.<anonymous> (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)
      at endReadableNT (_stream_readable.js:1125:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)
[0m
[0m  9) Contract: HarbergerAds
       Should execute buy(uint256,uint256,uint256) WHEN seller!=msg.sender:
[0m[31m     Error: Returned error: VM Exception while processing transaction: invalid opcode[0m[90m
      at Object.ErrorResponse (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1
      at XMLHttpRequest.request.onreadystatechange (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)
      at XMLHttpRequestEventTarget.dispatchEvent (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)
      at XMLHttpRequest._setReadyState (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)
      at XMLHttpRequest._onHttpResponseEnd (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)
      at IncomingMessage.<anonymous> (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)
      at endReadableNT (_stream_readable.js:1125:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)
[0m
[0m  10) Contract: HarbergerAds
       Should execute buy(uint256,uint256,uint256) WHEN seller==msg.sender:
[0m[31m     Error: Returned error: VM Exception while processing transaction: invalid opcode[0m[90m
      at Object.ErrorResponse (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1
      at XMLHttpRequest.request.onreadystatechange (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)
      at XMLHttpRequestEventTarget.dispatchEvent (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)
      at XMLHttpRequest._setReadyState (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)
      at XMLHttpRequest._onHttpResponseEnd (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)
      at IncomingMessage.<anonymous> (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)
      at endReadableNT (_stream_readable.js:1125:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)
[0m
[0m  11) Contract: HarbergerAds
       Should execute changeRecipient(uint256,address):
[0m[31m     Error: Returned error: VM Exception while processing transaction: invalid opcode[0m[90m
      at Object.ErrorResponse (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1
      at /home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1
      at XMLHttpRequest.request.onreadystatechange (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)
      at XMLHttpRequestEventTarget.dispatchEvent (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)
      at XMLHttpRequest._setReadyState (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)
      at XMLHttpRequest._onHttpResponseEnd (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)
      at IncomingMessage.<anonymous> (/home/fabianorodrigo/.nvm/versions/node/v10.15.3/pnpm-global/4/node_modules/.pnpm/truffle@5.0.27/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)
      at endReadableNT (_stream_readable.js:1125:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)
[0m


-------------------|----------|----------|----------|----------|----------------|
File               |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |
-------------------|----------|----------|----------|----------|----------------|
 contracts/        |    43.33 |     7.14 |      100 |    43.55 |                |
  ERC20test.sol    |     87.5 |      100 |      100 |    88.89 |             14 |
  HarbergerAds.sol |    36.54 |     7.14 |      100 |    35.85 |... 132,141,142 |
-------------------|----------|----------|----------|----------|----------------|
All files          |    43.33 |     7.14 |      100 |    43.55 |                |
-------------------|----------|----------|----------|----------|----------------|

Istanbul coverage reports generated
Cleaning up...
Shutting down testrpc-sc (pid 75716)
Some truffle tests failed while running coverage
