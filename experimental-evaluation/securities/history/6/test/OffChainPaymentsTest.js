const truffleAssert = require('truffle-assertions');
const PaymentTokenMock = artifacts.require("PaymentTokenMock");
const RedeemableTokenMock = artifacts.require("RedeemableTokenMock");
const OffChainPayments = artifacts.require("OffChainPayments");
const OnChainPayments = artifacts.require("OnChainPayments");
const FixedPriceTender = artifacts.require("FixedPriceTender");
const FullRedemption = artifacts.require("FullRedemption");
const PartialRedemption = artifacts.require("PartialRedemption");
const RedeemableToken = artifacts.require("RedeemableToken");
const OnChainVoting = artifacts.require("OnChainVoting");
const ECDSA = artifacts.require("openzeppelin-solidity/contracts/cryptography/ECDSA.sol");
const Math = artifacts.require("openzeppelin-solidity/contracts/math/Math.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ERC20 = artifacts.require("openzeppelin-solidity/contracts/token/ERC20/ERC20.sol");

contract("OffChainPayments",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractMath = null;
  let contractECDSA = null;
  let contractERC20 = null;
  let contractRedeemableToken = null;
  let contractPaymentTokenMock = null;
  let contractRedeemableTokenMock = null;
  let contractOffChainPayments = null;
  let contractPartialRedemption = null;
  let contractOnChainPayments = null;
  let contractFixedPriceTender = null;
  let contractFullRedemption = null;
  let contractOnChainVoting = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractMath = await Math.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Math.new({from: accounts[0]}');
    contractECDSA = await ECDSA.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ECDSA.new({from: accounts[0]}');
    ERC20.link("SafeMath",contractSafeMath.address);
    contractERC20 = await ERC20.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ERC20.new({from: accounts[0]}');
    RedeemableToken.link("SafeMath",contractSafeMath.address);
    contractRedeemableToken = await RedeemableToken.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: RedeemableToken.new({from: accounts[0]}');
    contractPaymentTokenMock = await PaymentTokenMock.new(accounts[8],65,{from:accounts[0]});
    if(trace) console.log('SUCESSO: PaymentTokenMock.new(accounts[8],65,{from:accounts[0]}');
    contractRedeemableTokenMock = await RedeemableTokenMock.new(accounts[0],96,{from:accounts[0]});
    if(trace) console.log('SUCESSO: RedeemableTokenMock.new(accounts[0],96,{from:accounts[0]}');
    OffChainPayments.link("SafeMath",contractSafeMath.address);
     OffChainPayments.link("ECDSA",contractECDSA.address);
    contractOffChainPayments = await OffChainPayments.new(accounts[0],{from:accounts[6]});
    if(trace) console.log('SUCESSO: OffChainPayments.new(accounts[0],{from:accounts[6]}');
    PartialRedemption.link("SafeMath",contractSafeMath.address);
    contractPartialRedemption = await PartialRedemption.new(contractPaymentTokenMock.address,contractRedeemableToken.address,accounts[5],1532892063,{from:accounts[0]});
    if(trace) console.log('SUCESSO: PartialRedemption.new(contractPaymentTokenMock.address,contractRedeemableToken.address,accounts[5],1532892063,{from:accounts[0]}');
    OnChainPayments.link("SafeMath",contractSafeMath.address);
     OnChainPayments.link("ECDSA",contractECDSA.address);
    contractOnChainPayments = await OnChainPayments.new(contractPaymentTokenMock.address,contractRedeemableToken.address,accounts[0],{from:accounts[2]});
    if(trace) console.log('SUCESSO: OnChainPayments.new(contractPaymentTokenMock.address,contractRedeemableToken.address,accounts[0],{from:accounts[2]}');
    FixedPriceTender.link("Math",contractMath.address);
     FixedPriceTender.link("SafeMath",contractSafeMath.address);
    contractFixedPriceTender = await FixedPriceTender.new(2014223715,contractPaymentTokenMock.address,contractPaymentTokenMock.address,contractECDSA.address,29,64,{from:accounts[7]});
    if(trace) console.log('SUCESSO: FixedPriceTender.new(2014223715,contractPaymentTokenMock.address,contractPaymentTokenMock.address,contractECDSA.address,29,64,{from:accounts[7]}');
    FullRedemption.link("SafeMath",contractSafeMath.address);
    contractFullRedemption = await FullRedemption.new(contractRedeemableToken.address,contractRedeemableTokenMock.address,accounts[1],95,{from:accounts[0]});
    if(trace) console.log('SUCESSO: FullRedemption.new(contractRedeemableToken.address,contractRedeemableTokenMock.address,accounts[1],95,{from:accounts[0]}');
    OnChainVoting.link("SafeMath",contractSafeMath.address);
    contractOnChainVoting = await OnChainVoting.new(contractPaymentTokenMock.address,accounts[5],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+322,{from:accounts[2]});
    if(trace) console.log('SUCESSO: OnChainVoting.new(contractPaymentTokenMock.address,accounts[5],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+322,{from:accounts[2]}');
  });
  
  it('Should execute recordPayments(address[],uint256[],uint256[],bytes32[]) WHEN msg.sender==_owner,_securityHolders.length>0,_securityHolders.length==_offchainPaymentHashes.length,_securityHolders.length==_paymentTimestamps.length,_securityHolders.length==_paymentValues.length', async () => {
    let result = await contractOffChainPayments.recordPayments([accounts[9],accounts[9],accounts[8],accounts[7],accounts[2],accounts[7],accounts[4],accounts[2],accounts[3],accounts[3],accounts[0],accounts[1],accounts[9],accounts[5],accounts[7],accounts[6],accounts[7],accounts[9],accounts[0],accounts[7],accounts[1],accounts[7],accounts[0],accounts[9],accounts[6],accounts[1],accounts[3],accounts[0],accounts[1],accounts[3],accounts[8],accounts[9],accounts[5],accounts[8],accounts[5],accounts[2],accounts[6],accounts[0],accounts[8],accounts[1],accounts[9],accounts[7],accounts[1],accounts[1],accounts[5],accounts[2],accounts[7],accounts[4],accounts[3],accounts[9],accounts[9],accounts[1],accounts[6],accounts[9],accounts[2],accounts[2],accounts[9],accounts[4],accounts[4],accounts[7],accounts[8],accounts[7],accounts[3],accounts[1],accounts[9],accounts[4]], [28,66,27,1337,4,2014223714,96,26,29,9999,0,257,2014223714,10001,4,97,2014223716,2014223716,97,10000,0,10001,1,1532892064,254,26,1532892063,1338,2014223715,2014223714,2014223716,2014223715,1532892063,95,2014223716,1337,5,6,26,1338,2014223714,2,255,26,1336,97,6,95,95,256,6,1337,96,5,95,1,1336,3,257,97,1336,97,28,65,2014223716,1337], [1336,257,5,2014223714,28,257,4,28,96,5,2014223716,97,257,29,1338,1337,1337,64,66,65,4,64,255,0,257,28,1532892063,2014223716,0,64,1,1,65,254,5,0,5,97,257,3,1,1338,10000,29,1,97,64,2014223714,0,1532892062,2014223714,1337,96,9999,1337,1532892063,254,2,3,2,95,26,4,2014223714,257,1337], [[91,231,254,48,140,112,160,183,28,66,169,1,188,116,143,227,140,247,37,48,246,106,142,195,155,111,221,232,179,13,134,127],[16,203,87,251,111,39,250,205,81,192,214,176,82,65,15,129,159,83,60,94,91,192,121,176,213,235,76,27,174,205,209,102],[40,175,212,24,214,144,221,175,135,209,166,2,94,25,219,69,126,34,75,224,188,238,242,120,0,172,93,119,220,250,167,211],[210,139,8,164,107,122,166,6,96,75,80,145,7,215,119,196,103,98,202,53,132,36,102,33,110,25,182,28,248,112,131,78],[18,100,83,47,252,53,64,10,7,214,159,144,103,153,132,158,211,251,186,119,223,75,100,56,213,32,127,114,6,147,111,41],[199,112,44,98,61,7,168,170,150,9,54,44,200,108,227,205,111,222,240,219,252,148,228,130,81,213,217,87,74,236,141,163],[219,138,6,215,76,151,167,132,252,37,132,84,220,200,128,244,243,149,23,44,159,107,124,240,179,74,77,116,118,5,16,8],[151,4,126,229,166,114,104,130,107,42,162,34,156,116,212,18,209,26,179,50,189,175,70,73,8,2,58,244,89,221,179,136],[6,122,230,200,157,196,16,145,192,32,15,234,105,114,20,66,44,24,3,80,92,229,212,216,92,234,17,130,105,127,21,139],[69,255,71,246,107,221,231,249,212,59,255,26,50,65,241,242,42,119,250,190,71,223,250,252,201,113,184,67,204,134,97,139],[189,182,38,103,140,171,255,229,35,168,142,106,111,158,100,154,70,42,6,162,244,139,210,229,68,84,8,84,42,127,4,195],[4,244,222,243,19,18,241,250,17,31,115,131,22,103,99,166,203,52,64,32,88,15,20,87,77,188,254,69,208,34,117,113],[36,239,93,134,158,67,14,7,8,59,4,233,15,146,253,83,138,31,221,135,113,93,41,146,197,11,209,124,179,130,68,192],[98,3,234,70,238,58,38,228,118,65,138,2,85,35,38,146,100,171,124,192,160,146,61,163,233,150,23,41,245,127,162,216],[139,26,205,72,159,168,17,227,153,63,32,59,169,52,111,122,229,161,214,57,43,67,246,73,185,9,211,248,253,44,198,70],[191,194,69,206,47,129,17,20,66,249,38,197,35,94,71,178,186,243,189,184,119,84,72,43,159,90,183,84,94,198,129,95],[199,191,39,238,93,252,6,212,190,236,136,235,130,41,27,170,181,82,253,171,22,26,126,222,124,10,191,236,43,110,3,0],[139,188,25,96,202,120,193,205,128,239,127,0,103,115,231,165,252,34,136,76,94,1,32,238,197,151,130,31,80,77,71,187],[53,232,192,133,193,114,22,123,188,239,152,225,118,133,184,48,4,148,18,125,125,216,85,42,0,172,163,171,152,224,187,152],[235,59,25,86,127,17,203,61,111,250,23,33,160,67,26,211,173,38,172,250,158,84,86,189,100,79,73,27,71,34,245,141],[50,129,84,55,204,162,29,25,85,96,187,194,123,62,9,247,107,86,146,66,67,95,246,244,158,32,166,79,110,206,223,65],[248,210,61,236,167,199,117,159,101,148,149,74,114,224,25,159,50,156,231,115,124,187,91,106,144,240,49,95,11,38,36,98],[222,171,67,160,80,217,254,11,197,124,180,160,85,147,194,128,59,30,251,126,165,157,183,193,109,179,57,242,65,200,206,140],[138,119,222,25,211,51,41,34,175,243,197,180,11,44,106,19,158,5,15,135,155,181,64,165,46,93,47,93,169,202,44,164],[140,79,157,118,176,152,97,137,168,142,210,216,227,109,77,98,139,185,174,227,205,139,222,207,206,108,129,212,30,120,248,204],[108,62,236,237,46,175,167,174,170,170,10,219,116,160,208,243,151,80,201,8,22,137,88,237,135,70,61,52,13,210,52,94],[131,75,185,61,251,86,146,251,241,65,65,67,23,107,179,179,66,158,100,220,65,228,158,96,135,102,69,10,32,33,219,189],[132,24,91,130,203,224,167,191,211,91,2,64,215,203,167,142,64,7,249,56,67,232,49,181,201,177,28,212,173,225,116,50],[62,39,145,215,69,255,253,173,146,28,15,200,48,127,158,49,6,28,131,127,174,202,151,137,72,243,100,9,196,254,134,168],[204,112,204,229,177,205,156,181,87,32,245,62,106,233,165,55,51,44,215,40,29,237,43,18,104,146,71,231,49,188,242,205],[68,79,21,85,84,90,138,189,50,30,238,51,125,20,72,98,217,175,165,155,233,172,246,51,231,97,243,255,239,176,122,210],[58,190,88,34,186,226,66,70,250,251,235,167,63,186,77,124,251,160,174,193,24,80,86,245,133,95,249,199,141,79,220,146],[42,164,44,99,21,103,135,22,93,235,68,246,46,22,103,121,123,70,37,156,76,152,101,58,168,89,193,28,217,240,138,177],[185,182,185,47,215,205,174,117,232,239,136,110,99,137,89,247,120,83,31,169,150,151,136,92,165,121,173,180,91,32,170,40],[90,65,14,3,43,71,11,124,28,37,181,131,140,143,104,55,110,5,78,169,124,35,206,155,78,108,62,222,19,204,74,90],[29,233,185,67,8,202,24,224,26,135,225,254,218,47,226,148,61,117,126,178,214,5,246,11,228,3,133,76,168,205,224,112],[90,225,23,165,242,101,170,0,77,237,168,165,59,175,35,122,170,112,26,246,30,237,72,186,118,238,219,145,15,17,231,45],[96,23,168,15,248,11,244,108,116,33,57,126,26,161,115,40,28,81,174,99,99,138,136,239,251,41,168,23,83,146,242,206],[141,254,150,142,7,242,0,246,82,42,84,47,198,225,182,251,16,72,157,97,28,242,61,92,145,185,100,41,81,17,183,239],[134,190,36,126,32,133,159,249,125,186,189,59,254,239,224,207,80,88,97,98,40,201,71,4,47,203,142,53,53,210,6,115],[21,239,203,55,64,81,183,80,82,123,131,65,236,213,113,132,185,186,16,97,126,95,74,45,63,40,167,192,102,23,168,78],[220,10,145,159,244,179,168,187,104,202,205,108,232,169,62,21,89,30,126,195,75,8,61,211,21,234,149,114,235,191,22,145],[132,98,193,18,51,227,136,123,65,241,243,53,137,129,168,35,172,154,233,60,63,36,50,119,49,231,113,182,87,14,11,28],[86,192,177,61,31,240,203,94,55,11,165,32,125,75,81,185,231,229,202,127,167,204,28,173,136,106,62,252,212,87,237,66],[173,12,77,178,226,109,88,27,32,31,219,203,167,186,44,10,125,2,251,160,107,221,29,230,17,251,167,252,34,163,137,100],[35,167,233,112,64,15,76,216,67,103,153,80,14,192,212,81,32,123,79,35,205,53,58,208,190,120,109,107,84,152,81,51],[70,227,88,46,252,191,51,104,132,207,22,47,132,170,211,16,181,36,94,110,166,31,25,130,48,251,47,121,205,180,147,123],[39,36,181,93,152,59,129,59,5,119,20,202,116,243,111,192,67,7,249,24,252,242,15,106,140,192,124,214,99,49,146,82],[123,110,185,169,154,101,196,250,241,18,59,161,151,0,194,69,140,68,254,178,138,53,191,66,142,196,253,179,187,229,192,111],[213,248,169,84,28,69,252,234,190,98,212,217,77,158,172,253,179,130,119,220,253,32,79,198,175,153,222,220,131,246,84,104],[242,139,220,95,146,114,215,97,150,189,100,188,97,211,76,135,59,244,241,200,55,187,6,176,220,24,5,168,248,12,162,244],[247,136,174,184,209,167,196,138,224,58,102,247,183,64,113,84,182,63,39,52,53,222,199,127,188,133,37,49,238,16,147,232],[107,157,170,81,215,166,77,134,112,154,80,47,134,217,51,96,180,161,183,248,44,212,0,232,172,29,239,72,34,174,237,74],[7,115,222,164,51,179,35,43,60,131,135,142,232,47,248,30,204,25,98,43,194,37,213,6,19,184,235,181,182,176,56,75],[202,47,183,144,75,139,131,51,105,124,56,163,231,10,199,142,101,233,162,124,7,130,22,68,76,254,192,29,168,107,161,141],[185,225,188,176,40,235,134,186,208,225,251,95,204,150,164,64,139,101,244,41,90,229,65,105,62,149,170,200,247,103,173,87],[37,173,135,198,139,43,60,204,157,119,242,136,185,229,130,59,146,30,135,122,137,146,203,173,214,188,238,162,170,254,72,179],[185,201,132,26,205,176,224,193,134,167,122,193,96,120,10,5,148,113,26,243,51,91,145,11,126,23,156,105,217,251,115,224],[122,225,230,112,188,18,125,52,229,8,95,244,24,141,25,118,147,186,122,74,146,90,43,110,58,191,129,167,0,206,52,204],[125,152,243,199,38,122,24,238,75,244,174,255,232,34,59,217,129,162,60,219,1,130,160,85,42,165,178,151,109,14,226,227],[116,67,96,11,60,133,80,117,15,80,44,166,83,216,39,100,153,46,105,68,39,15,79,191,254,104,120,171,28,48,105,122],[45,149,48,70,89,209,144,32,237,79,34,207,116,207,175,140,29,171,192,55,204,200,58,76,224,37,127,191,46,186,163,194],[205,39,81,126,49,193,23,185,205,217,105,182,190,96,71,123,180,193,121,143,246,206,184,154,53,255,26,19,82,37,3,81],[43,224,10,75,231,16,239,29,193,131,0,181,27,187,200,208,32,138,114,243,233,78,118,26,33,157,229,176,150,246,126,29],[63,65,241,38,18,57,104,146,152,89,103,127,108,58,243,6,222,5,107,98,46,153,172,112,183,105,243,221,225,175,254,91],[224,180,191,243,131,185,91,193,34,115,107,223,107,171,154,203,146,192,174,235,183,210,138,64,142,182,151,170,110,143,207,14]],{from: accounts[6]});
  });
  it('Should fail recordPayments(address[],uint256[],uint256[],bytes32[]) when NOT comply with: msg.sender == _owner', async () => {
    let result = await truffleAssert.fails(contractOffChainPayments.recordPayments([accounts[9],accounts[9],accounts[8],accounts[7],accounts[2],accounts[7],accounts[4],accounts[2],accounts[3],accounts[3],accounts[0],accounts[1],accounts[9],accounts[5],accounts[7],accounts[6],accounts[7],accounts[9],accounts[0],accounts[7],accounts[1],accounts[7],accounts[0],accounts[9],accounts[6],accounts[1],accounts[3],accounts[0],accounts[1],accounts[3],accounts[8],accounts[9],accounts[5],accounts[8],accounts[5],accounts[2],accounts[6],accounts[0],accounts[8],accounts[1],accounts[9],accounts[7],accounts[1],accounts[1],accounts[5],accounts[2],accounts[7],accounts[4],accounts[3],accounts[9],accounts[9],accounts[1],accounts[6],accounts[9],accounts[2],accounts[2],accounts[9],accounts[4],accounts[4],accounts[7],accounts[8],accounts[7],accounts[3],accounts[1],accounts[9],accounts[4]], [28,66,27,1337,4,2014223714,96,26,29,9999,0,257,2014223714,10001,4,97,2014223716,2014223716,97,10000,0,10001,1,1532892064,254,26,1532892063,1338,2014223715,2014223714,2014223716,2014223715,1532892063,95,2014223716,1337,5,6,26,1338,2014223714,2,255,26,1336,97,6,95,95,256,6,1337,96,5,95,1,1336,3,257,97,1336,97,28,65,2014223716,1337], [1336,257,5,2014223714,28,257,4,28,96,5,2014223716,97,257,29,1338,1337,1337,64,66,65,4,64,255,0,257,28,1532892063,2014223716,0,64,1,1,65,254,5,0,5,97,257,3,1,1338,10000,29,1,97,64,2014223714,0,1532892062,2014223714,1337,96,9999,1337,1532892063,254,2,3,2,95,26,4,2014223714,257,1337], [[91,231,254,48,140,112,160,183,28,66,169,1,188,116,143,227,140,247,37,48,246,106,142,195,155,111,221,232,179,13,134,127],[16,203,87,251,111,39,250,205,81,192,214,176,82,65,15,129,159,83,60,94,91,192,121,176,213,235,76,27,174,205,209,102],[40,175,212,24,214,144,221,175,135,209,166,2,94,25,219,69,126,34,75,224,188,238,242,120,0,172,93,119,220,250,167,211],[210,139,8,164,107,122,166,6,96,75,80,145,7,215,119,196,103,98,202,53,132,36,102,33,110,25,182,28,248,112,131,78],[18,100,83,47,252,53,64,10,7,214,159,144,103,153,132,158,211,251,186,119,223,75,100,56,213,32,127,114,6,147,111,41],[199,112,44,98,61,7,168,170,150,9,54,44,200,108,227,205,111,222,240,219,252,148,228,130,81,213,217,87,74,236,141,163],[219,138,6,215,76,151,167,132,252,37,132,84,220,200,128,244,243,149,23,44,159,107,124,240,179,74,77,116,118,5,16,8],[151,4,126,229,166,114,104,130,107,42,162,34,156,116,212,18,209,26,179,50,189,175,70,73,8,2,58,244,89,221,179,136],[6,122,230,200,157,196,16,145,192,32,15,234,105,114,20,66,44,24,3,80,92,229,212,216,92,234,17,130,105,127,21,139],[69,255,71,246,107,221,231,249,212,59,255,26,50,65,241,242,42,119,250,190,71,223,250,252,201,113,184,67,204,134,97,139],[189,182,38,103,140,171,255,229,35,168,142,106,111,158,100,154,70,42,6,162,244,139,210,229,68,84,8,84,42,127,4,195],[4,244,222,243,19,18,241,250,17,31,115,131,22,103,99,166,203,52,64,32,88,15,20,87,77,188,254,69,208,34,117,113],[36,239,93,134,158,67,14,7,8,59,4,233,15,146,253,83,138,31,221,135,113,93,41,146,197,11,209,124,179,130,68,192],[98,3,234,70,238,58,38,228,118,65,138,2,85,35,38,146,100,171,124,192,160,146,61,163,233,150,23,41,245,127,162,216],[139,26,205,72,159,168,17,227,153,63,32,59,169,52,111,122,229,161,214,57,43,67,246,73,185,9,211,248,253,44,198,70],[191,194,69,206,47,129,17,20,66,249,38,197,35,94,71,178,186,243,189,184,119,84,72,43,159,90,183,84,94,198,129,95],[199,191,39,238,93,252,6,212,190,236,136,235,130,41,27,170,181,82,253,171,22,26,126,222,124,10,191,236,43,110,3,0],[139,188,25,96,202,120,193,205,128,239,127,0,103,115,231,165,252,34,136,76,94,1,32,238,197,151,130,31,80,77,71,187],[53,232,192,133,193,114,22,123,188,239,152,225,118,133,184,48,4,148,18,125,125,216,85,42,0,172,163,171,152,224,187,152],[235,59,25,86,127,17,203,61,111,250,23,33,160,67,26,211,173,38,172,250,158,84,86,189,100,79,73,27,71,34,245,141],[50,129,84,55,204,162,29,25,85,96,187,194,123,62,9,247,107,86,146,66,67,95,246,244,158,32,166,79,110,206,223,65],[248,210,61,236,167,199,117,159,101,148,149,74,114,224,25,159,50,156,231,115,124,187,91,106,144,240,49,95,11,38,36,98],[222,171,67,160,80,217,254,11,197,124,180,160,85,147,194,128,59,30,251,126,165,157,183,193,109,179,57,242,65,200,206,140],[138,119,222,25,211,51,41,34,175,243,197,180,11,44,106,19,158,5,15,135,155,181,64,165,46,93,47,93,169,202,44,164],[140,79,157,118,176,152,97,137,168,142,210,216,227,109,77,98,139,185,174,227,205,139,222,207,206,108,129,212,30,120,248,204],[108,62,236,237,46,175,167,174,170,170,10,219,116,160,208,243,151,80,201,8,22,137,88,237,135,70,61,52,13,210,52,94],[131,75,185,61,251,86,146,251,241,65,65,67,23,107,179,179,66,158,100,220,65,228,158,96,135,102,69,10,32,33,219,189],[132,24,91,130,203,224,167,191,211,91,2,64,215,203,167,142,64,7,249,56,67,232,49,181,201,177,28,212,173,225,116,50],[62,39,145,215,69,255,253,173,146,28,15,200,48,127,158,49,6,28,131,127,174,202,151,137,72,243,100,9,196,254,134,168],[204,112,204,229,177,205,156,181,87,32,245,62,106,233,165,55,51,44,215,40,29,237,43,18,104,146,71,231,49,188,242,205],[68,79,21,85,84,90,138,189,50,30,238,51,125,20,72,98,217,175,165,155,233,172,246,51,231,97,243,255,239,176,122,210],[58,190,88,34,186,226,66,70,250,251,235,167,63,186,77,124,251,160,174,193,24,80,86,245,133,95,249,199,141,79,220,146],[42,164,44,99,21,103,135,22,93,235,68,246,46,22,103,121,123,70,37,156,76,152,101,58,168,89,193,28,217,240,138,177],[185,182,185,47,215,205,174,117,232,239,136,110,99,137,89,247,120,83,31,169,150,151,136,92,165,121,173,180,91,32,170,40],[90,65,14,3,43,71,11,124,28,37,181,131,140,143,104,55,110,5,78,169,124,35,206,155,78,108,62,222,19,204,74,90],[29,233,185,67,8,202,24,224,26,135,225,254,218,47,226,148,61,117,126,178,214,5,246,11,228,3,133,76,168,205,224,112],[90,225,23,165,242,101,170,0,77,237,168,165,59,175,35,122,170,112,26,246,30,237,72,186,118,238,219,145,15,17,231,45],[96,23,168,15,248,11,244,108,116,33,57,126,26,161,115,40,28,81,174,99,99,138,136,239,251,41,168,23,83,146,242,206],[141,254,150,142,7,242,0,246,82,42,84,47,198,225,182,251,16,72,157,97,28,242,61,92,145,185,100,41,81,17,183,239],[134,190,36,126,32,133,159,249,125,186,189,59,254,239,224,207,80,88,97,98,40,201,71,4,47,203,142,53,53,210,6,115],[21,239,203,55,64,81,183,80,82,123,131,65,236,213,113,132,185,186,16,97,126,95,74,45,63,40,167,192,102,23,168,78],[220,10,145,159,244,179,168,187,104,202,205,108,232,169,62,21,89,30,126,195,75,8,61,211,21,234,149,114,235,191,22,145],[132,98,193,18,51,227,136,123,65,241,243,53,137,129,168,35,172,154,233,60,63,36,50,119,49,231,113,182,87,14,11,28],[86,192,177,61,31,240,203,94,55,11,165,32,125,75,81,185,231,229,202,127,167,204,28,173,136,106,62,252,212,87,237,66],[173,12,77,178,226,109,88,27,32,31,219,203,167,186,44,10,125,2,251,160,107,221,29,230,17,251,167,252,34,163,137,100],[35,167,233,112,64,15,76,216,67,103,153,80,14,192,212,81,32,123,79,35,205,53,58,208,190,120,109,107,84,152,81,51],[70,227,88,46,252,191,51,104,132,207,22,47,132,170,211,16,181,36,94,110,166,31,25,130,48,251,47,121,205,180,147,123],[39,36,181,93,152,59,129,59,5,119,20,202,116,243,111,192,67,7,249,24,252,242,15,106,140,192,124,214,99,49,146,82],[123,110,185,169,154,101,196,250,241,18,59,161,151,0,194,69,140,68,254,178,138,53,191,66,142,196,253,179,187,229,192,111],[213,248,169,84,28,69,252,234,190,98,212,217,77,158,172,253,179,130,119,220,253,32,79,198,175,153,222,220,131,246,84,104],[242,139,220,95,146,114,215,97,150,189,100,188,97,211,76,135,59,244,241,200,55,187,6,176,220,24,5,168,248,12,162,244],[247,136,174,184,209,167,196,138,224,58,102,247,183,64,113,84,182,63,39,52,53,222,199,127,188,133,37,49,238,16,147,232],[107,157,170,81,215,166,77,134,112,154,80,47,134,217,51,96,180,161,183,248,44,212,0,232,172,29,239,72,34,174,237,74],[7,115,222,164,51,179,35,43,60,131,135,142,232,47,248,30,204,25,98,43,194,37,213,6,19,184,235,181,182,176,56,75],[202,47,183,144,75,139,131,51,105,124,56,163,231,10,199,142,101,233,162,124,7,130,22,68,76,254,192,29,168,107,161,141],[185,225,188,176,40,235,134,186,208,225,251,95,204,150,164,64,139,101,244,41,90,229,65,105,62,149,170,200,247,103,173,87],[37,173,135,198,139,43,60,204,157,119,242,136,185,229,130,59,146,30,135,122,137,146,203,173,214,188,238,162,170,254,72,179],[185,201,132,26,205,176,224,193,134,167,122,193,96,120,10,5,148,113,26,243,51,91,145,11,126,23,156,105,217,251,115,224],[122,225,230,112,188,18,125,52,229,8,95,244,24,141,25,118,147,186,122,74,146,90,43,110,58,191,129,167,0,206,52,204],[125,152,243,199,38,122,24,238,75,244,174,255,232,34,59,217,129,162,60,219,1,130,160,85,42,165,178,151,109,14,226,227],[116,67,96,11,60,133,80,117,15,80,44,166,83,216,39,100,153,46,105,68,39,15,79,191,254,104,120,171,28,48,105,122],[45,149,48,70,89,209,144,32,237,79,34,207,116,207,175,140,29,171,192,55,204,200,58,76,224,37,127,191,46,186,163,194],[205,39,81,126,49,193,23,185,205,217,105,182,190,96,71,123,180,193,121,143,246,206,184,154,53,255,26,19,82,37,3,81],[43,224,10,75,231,16,239,29,193,131,0,181,27,187,200,208,32,138,114,243,233,78,118,26,33,157,229,176,150,246,126,29],[63,65,241,38,18,57,104,146,152,89,103,127,108,58,243,6,222,5,107,98,46,153,172,112,183,105,243,221,225,175,254,91],[224,180,191,243,131,185,91,193,34,115,107,223,107,171,154,203,146,192,174,235,183,210,138,64,142,182,151,170,110,143,207,14]],{from: accounts[9]}),'revert');
  });
  it('Should fail recordPayments(address[],uint256[],uint256[],bytes32[]) when NOT comply with: _securityHolders.length > 0', async () => {
    let result = await truffleAssert.fails(contractOffChainPayments.recordPayments([], [28,66,27,1337,4,2014223714,96,26,29,9999,0,257,2014223714,10001,4,97,2014223716,2014223716,97,10000,0,10001,1,1532892064,254,26,1532892063,1338,2014223715,2014223714,2014223716,2014223715,1532892063,95,2014223716,1337,5,6,26,1338,2014223714,2,255,26,1336,97,6,95,95,256,6,1337,96,5,95,1,1336,3,257,97,1336,97,28,65,2014223716,1337], [1336,257,5,2014223714,28,257,4,28,96,5,2014223716,97,257,29,1338,1337,1337,64,66,65,4,64,255,0,257,28,1532892063,2014223716,0,64,1,1,65,254,5,0,5,97,257,3,1,1338,10000,29,1,97,64,2014223714,0,1532892062,2014223714,1337,96,9999,1337,1532892063,254,2,3,2,95,26,4,2014223714,257,1337], [[91,231,254,48,140,112,160,183,28,66,169,1,188,116,143,227,140,247,37,48,246,106,142,195,155,111,221,232,179,13,134,127],[16,203,87,251,111,39,250,205,81,192,214,176,82,65,15,129,159,83,60,94,91,192,121,176,213,235,76,27,174,205,209,102],[40,175,212,24,214,144,221,175,135,209,166,2,94,25,219,69,126,34,75,224,188,238,242,120,0,172,93,119,220,250,167,211],[210,139,8,164,107,122,166,6,96,75,80,145,7,215,119,196,103,98,202,53,132,36,102,33,110,25,182,28,248,112,131,78],[18,100,83,47,252,53,64,10,7,214,159,144,103,153,132,158,211,251,186,119,223,75,100,56,213,32,127,114,6,147,111,41],[199,112,44,98,61,7,168,170,150,9,54,44,200,108,227,205,111,222,240,219,252,148,228,130,81,213,217,87,74,236,141,163],[219,138,6,215,76,151,167,132,252,37,132,84,220,200,128,244,243,149,23,44,159,107,124,240,179,74,77,116,118,5,16,8],[151,4,126,229,166,114,104,130,107,42,162,34,156,116,212,18,209,26,179,50,189,175,70,73,8,2,58,244,89,221,179,136],[6,122,230,200,157,196,16,145,192,32,15,234,105,114,20,66,44,24,3,80,92,229,212,216,92,234,17,130,105,127,21,139],[69,255,71,246,107,221,231,249,212,59,255,26,50,65,241,242,42,119,250,190,71,223,250,252,201,113,184,67,204,134,97,139],[189,182,38,103,140,171,255,229,35,168,142,106,111,158,100,154,70,42,6,162,244,139,210,229,68,84,8,84,42,127,4,195],[4,244,222,243,19,18,241,250,17,31,115,131,22,103,99,166,203,52,64,32,88,15,20,87,77,188,254,69,208,34,117,113],[36,239,93,134,158,67,14,7,8,59,4,233,15,146,253,83,138,31,221,135,113,93,41,146,197,11,209,124,179,130,68,192],[98,3,234,70,238,58,38,228,118,65,138,2,85,35,38,146,100,171,124,192,160,146,61,163,233,150,23,41,245,127,162,216],[139,26,205,72,159,168,17,227,153,63,32,59,169,52,111,122,229,161,214,57,43,67,246,73,185,9,211,248,253,44,198,70],[191,194,69,206,47,129,17,20,66,249,38,197,35,94,71,178,186,243,189,184,119,84,72,43,159,90,183,84,94,198,129,95],[199,191,39,238,93,252,6,212,190,236,136,235,130,41,27,170,181,82,253,171,22,26,126,222,124,10,191,236,43,110,3,0],[139,188,25,96,202,120,193,205,128,239,127,0,103,115,231,165,252,34,136,76,94,1,32,238,197,151,130,31,80,77,71,187],[53,232,192,133,193,114,22,123,188,239,152,225,118,133,184,48,4,148,18,125,125,216,85,42,0,172,163,171,152,224,187,152],[235,59,25,86,127,17,203,61,111,250,23,33,160,67,26,211,173,38,172,250,158,84,86,189,100,79,73,27,71,34,245,141],[50,129,84,55,204,162,29,25,85,96,187,194,123,62,9,247,107,86,146,66,67,95,246,244,158,32,166,79,110,206,223,65],[248,210,61,236,167,199,117,159,101,148,149,74,114,224,25,159,50,156,231,115,124,187,91,106,144,240,49,95,11,38,36,98],[222,171,67,160,80,217,254,11,197,124,180,160,85,147,194,128,59,30,251,126,165,157,183,193,109,179,57,242,65,200,206,140],[138,119,222,25,211,51,41,34,175,243,197,180,11,44,106,19,158,5,15,135,155,181,64,165,46,93,47,93,169,202,44,164],[140,79,157,118,176,152,97,137,168,142,210,216,227,109,77,98,139,185,174,227,205,139,222,207,206,108,129,212,30,120,248,204],[108,62,236,237,46,175,167,174,170,170,10,219,116,160,208,243,151,80,201,8,22,137,88,237,135,70,61,52,13,210,52,94],[131,75,185,61,251,86,146,251,241,65,65,67,23,107,179,179,66,158,100,220,65,228,158,96,135,102,69,10,32,33,219,189],[132,24,91,130,203,224,167,191,211,91,2,64,215,203,167,142,64,7,249,56,67,232,49,181,201,177,28,212,173,225,116,50],[62,39,145,215,69,255,253,173,146,28,15,200,48,127,158,49,6,28,131,127,174,202,151,137,72,243,100,9,196,254,134,168],[204,112,204,229,177,205,156,181,87,32,245,62,106,233,165,55,51,44,215,40,29,237,43,18,104,146,71,231,49,188,242,205],[68,79,21,85,84,90,138,189,50,30,238,51,125,20,72,98,217,175,165,155,233,172,246,51,231,97,243,255,239,176,122,210],[58,190,88,34,186,226,66,70,250,251,235,167,63,186,77,124,251,160,174,193,24,80,86,245,133,95,249,199,141,79,220,146],[42,164,44,99,21,103,135,22,93,235,68,246,46,22,103,121,123,70,37,156,76,152,101,58,168,89,193,28,217,240,138,177],[185,182,185,47,215,205,174,117,232,239,136,110,99,137,89,247,120,83,31,169,150,151,136,92,165,121,173,180,91,32,170,40],[90,65,14,3,43,71,11,124,28,37,181,131,140,143,104,55,110,5,78,169,124,35,206,155,78,108,62,222,19,204,74,90],[29,233,185,67,8,202,24,224,26,135,225,254,218,47,226,148,61,117,126,178,214,5,246,11,228,3,133,76,168,205,224,112],[90,225,23,165,242,101,170,0,77,237,168,165,59,175,35,122,170,112,26,246,30,237,72,186,118,238,219,145,15,17,231,45],[96,23,168,15,248,11,244,108,116,33,57,126,26,161,115,40,28,81,174,99,99,138,136,239,251,41,168,23,83,146,242,206],[141,254,150,142,7,242,0,246,82,42,84,47,198,225,182,251,16,72,157,97,28,242,61,92,145,185,100,41,81,17,183,239],[134,190,36,126,32,133,159,249,125,186,189,59,254,239,224,207,80,88,97,98,40,201,71,4,47,203,142,53,53,210,6,115],[21,239,203,55,64,81,183,80,82,123,131,65,236,213,113,132,185,186,16,97,126,95,74,45,63,40,167,192,102,23,168,78],[220,10,145,159,244,179,168,187,104,202,205,108,232,169,62,21,89,30,126,195,75,8,61,211,21,234,149,114,235,191,22,145],[132,98,193,18,51,227,136,123,65,241,243,53,137,129,168,35,172,154,233,60,63,36,50,119,49,231,113,182,87,14,11,28],[86,192,177,61,31,240,203,94,55,11,165,32,125,75,81,185,231,229,202,127,167,204,28,173,136,106,62,252,212,87,237,66],[173,12,77,178,226,109,88,27,32,31,219,203,167,186,44,10,125,2,251,160,107,221,29,230,17,251,167,252,34,163,137,100],[35,167,233,112,64,15,76,216,67,103,153,80,14,192,212,81,32,123,79,35,205,53,58,208,190,120,109,107,84,152,81,51],[70,227,88,46,252,191,51,104,132,207,22,47,132,170,211,16,181,36,94,110,166,31,25,130,48,251,47,121,205,180,147,123],[39,36,181,93,152,59,129,59,5,119,20,202,116,243,111,192,67,7,249,24,252,242,15,106,140,192,124,214,99,49,146,82],[123,110,185,169,154,101,196,250,241,18,59,161,151,0,194,69,140,68,254,178,138,53,191,66,142,196,253,179,187,229,192,111],[213,248,169,84,28,69,252,234,190,98,212,217,77,158,172,253,179,130,119,220,253,32,79,198,175,153,222,220,131,246,84,104],[242,139,220,95,146,114,215,97,150,189,100,188,97,211,76,135,59,244,241,200,55,187,6,176,220,24,5,168,248,12,162,244],[247,136,174,184,209,167,196,138,224,58,102,247,183,64,113,84,182,63,39,52,53,222,199,127,188,133,37,49,238,16,147,232],[107,157,170,81,215,166,77,134,112,154,80,47,134,217,51,96,180,161,183,248,44,212,0,232,172,29,239,72,34,174,237,74],[7,115,222,164,51,179,35,43,60,131,135,142,232,47,248,30,204,25,98,43,194,37,213,6,19,184,235,181,182,176,56,75],[202,47,183,144,75,139,131,51,105,124,56,163,231,10,199,142,101,233,162,124,7,130,22,68,76,254,192,29,168,107,161,141],[185,225,188,176,40,235,134,186,208,225,251,95,204,150,164,64,139,101,244,41,90,229,65,105,62,149,170,200,247,103,173,87],[37,173,135,198,139,43,60,204,157,119,242,136,185,229,130,59,146,30,135,122,137,146,203,173,214,188,238,162,170,254,72,179],[185,201,132,26,205,176,224,193,134,167,122,193,96,120,10,5,148,113,26,243,51,91,145,11,126,23,156,105,217,251,115,224],[122,225,230,112,188,18,125,52,229,8,95,244,24,141,25,118,147,186,122,74,146,90,43,110,58,191,129,167,0,206,52,204],[125,152,243,199,38,122,24,238,75,244,174,255,232,34,59,217,129,162,60,219,1,130,160,85,42,165,178,151,109,14,226,227],[116,67,96,11,60,133,80,117,15,80,44,166,83,216,39,100,153,46,105,68,39,15,79,191,254,104,120,171,28,48,105,122],[45,149,48,70,89,209,144,32,237,79,34,207,116,207,175,140,29,171,192,55,204,200,58,76,224,37,127,191,46,186,163,194],[205,39,81,126,49,193,23,185,205,217,105,182,190,96,71,123,180,193,121,143,246,206,184,154,53,255,26,19,82,37,3,81],[43,224,10,75,231,16,239,29,193,131,0,181,27,187,200,208,32,138,114,243,233,78,118,26,33,157,229,176,150,246,126,29],[63,65,241,38,18,57,104,146,152,89,103,127,108,58,243,6,222,5,107,98,46,153,172,112,183,105,243,221,225,175,254,91],[224,180,191,243,131,185,91,193,34,115,107,223,107,171,154,203,146,192,174,235,183,210,138,64,142,182,151,170,110,143,207,14]],{from: accounts[6]}),'revert');
  });
  it('Should fail recordPayments(address[],uint256[],uint256[],bytes32[]) when NOT comply with: _securityHolders.length == _offchainPaymentHashes.length', async () => {
    let result = await truffleAssert.fails(contractOffChainPayments.recordPayments([accounts[6],accounts[3],accounts[3],accounts[3],accounts[7],accounts[2],accounts[8],accounts[1],accounts[2],accounts[8],accounts[1],accounts[6],accounts[9],accounts[6],accounts[7],accounts[4],accounts[0],accounts[2],accounts[7],accounts[4],accounts[6],accounts[6],accounts[0],accounts[1],accounts[9],accounts[7],accounts[2],accounts[9],accounts[9],accounts[1],accounts[8],accounts[0],accounts[7],accounts[8],accounts[9],accounts[8],accounts[0],accounts[3],accounts[9],accounts[4],accounts[1],accounts[2],accounts[6],accounts[1],accounts[7],accounts[6],accounts[5],accounts[5],accounts[8],accounts[5],accounts[9],accounts[7],accounts[1],accounts[1],accounts[1],accounts[6],accounts[4],accounts[5],accounts[6],accounts[5],accounts[4],accounts[5],accounts[8],accounts[0],accounts[1],accounts[8],accounts[0]], [28,66,27,1337,4,2014223714,96,26,29,9999,0,257,2014223714,10001,4,97,2014223716,2014223716,97,10000,0,10001,1,1532892064,254,26,1532892063,1338,2014223715,2014223714,2014223716,2014223715,1532892063,95,2014223716,1337,5,6,26,1338,2014223714,2,255,26,1336,97,6,95,95,256,6,1337,96,5,95,1,1336,3,257,97,1336,97,28,65,2014223716,1337], [1336,257,5,2014223714,28,257,4,28,96,5,2014223716,97,257,29,1338,1337,1337,64,66,65,4,64,255,0,257,28,1532892063,2014223716,0,64,1,1,65,254,5,0,5,97,257,3,1,1338,10000,29,1,97,64,2014223714,0,1532892062,2014223714,1337,96,9999,1337,1532892063,254,2,3,2,95,26,4,2014223714,257,1337], [[91,231,254,48,140,112,160,183,28,66,169,1,188,116,143,227,140,247,37,48,246,106,142,195,155,111,221,232,179,13,134,127],[16,203,87,251,111,39,250,205,81,192,214,176,82,65,15,129,159,83,60,94,91,192,121,176,213,235,76,27,174,205,209,102],[40,175,212,24,214,144,221,175,135,209,166,2,94,25,219,69,126,34,75,224,188,238,242,120,0,172,93,119,220,250,167,211],[210,139,8,164,107,122,166,6,96,75,80,145,7,215,119,196,103,98,202,53,132,36,102,33,110,25,182,28,248,112,131,78],[18,100,83,47,252,53,64,10,7,214,159,144,103,153,132,158,211,251,186,119,223,75,100,56,213,32,127,114,6,147,111,41],[199,112,44,98,61,7,168,170,150,9,54,44,200,108,227,205,111,222,240,219,252,148,228,130,81,213,217,87,74,236,141,163],[219,138,6,215,76,151,167,132,252,37,132,84,220,200,128,244,243,149,23,44,159,107,124,240,179,74,77,116,118,5,16,8],[151,4,126,229,166,114,104,130,107,42,162,34,156,116,212,18,209,26,179,50,189,175,70,73,8,2,58,244,89,221,179,136],[6,122,230,200,157,196,16,145,192,32,15,234,105,114,20,66,44,24,3,80,92,229,212,216,92,234,17,130,105,127,21,139],[69,255,71,246,107,221,231,249,212,59,255,26,50,65,241,242,42,119,250,190,71,223,250,252,201,113,184,67,204,134,97,139],[189,182,38,103,140,171,255,229,35,168,142,106,111,158,100,154,70,42,6,162,244,139,210,229,68,84,8,84,42,127,4,195],[4,244,222,243,19,18,241,250,17,31,115,131,22,103,99,166,203,52,64,32,88,15,20,87,77,188,254,69,208,34,117,113],[36,239,93,134,158,67,14,7,8,59,4,233,15,146,253,83,138,31,221,135,113,93,41,146,197,11,209,124,179,130,68,192],[98,3,234,70,238,58,38,228,118,65,138,2,85,35,38,146,100,171,124,192,160,146,61,163,233,150,23,41,245,127,162,216],[139,26,205,72,159,168,17,227,153,63,32,59,169,52,111,122,229,161,214,57,43,67,246,73,185,9,211,248,253,44,198,70],[191,194,69,206,47,129,17,20,66,249,38,197,35,94,71,178,186,243,189,184,119,84,72,43,159,90,183,84,94,198,129,95],[199,191,39,238,93,252,6,212,190,236,136,235,130,41,27,170,181,82,253,171,22,26,126,222,124,10,191,236,43,110,3,0],[139,188,25,96,202,120,193,205,128,239,127,0,103,115,231,165,252,34,136,76,94,1,32,238,197,151,130,31,80,77,71,187],[53,232,192,133,193,114,22,123,188,239,152,225,118,133,184,48,4,148,18,125,125,216,85,42,0,172,163,171,152,224,187,152],[235,59,25,86,127,17,203,61,111,250,23,33,160,67,26,211,173,38,172,250,158,84,86,189,100,79,73,27,71,34,245,141],[50,129,84,55,204,162,29,25,85,96,187,194,123,62,9,247,107,86,146,66,67,95,246,244,158,32,166,79,110,206,223,65],[248,210,61,236,167,199,117,159,101,148,149,74,114,224,25,159,50,156,231,115,124,187,91,106,144,240,49,95,11,38,36,98],[222,171,67,160,80,217,254,11,197,124,180,160,85,147,194,128,59,30,251,126,165,157,183,193,109,179,57,242,65,200,206,140],[138,119,222,25,211,51,41,34,175,243,197,180,11,44,106,19,158,5,15,135,155,181,64,165,46,93,47,93,169,202,44,164],[140,79,157,118,176,152,97,137,168,142,210,216,227,109,77,98,139,185,174,227,205,139,222,207,206,108,129,212,30,120,248,204],[108,62,236,237,46,175,167,174,170,170,10,219,116,160,208,243,151,80,201,8,22,137,88,237,135,70,61,52,13,210,52,94],[131,75,185,61,251,86,146,251,241,65,65,67,23,107,179,179,66,158,100,220,65,228,158,96,135,102,69,10,32,33,219,189],[132,24,91,130,203,224,167,191,211,91,2,64,215,203,167,142,64,7,249,56,67,232,49,181,201,177,28,212,173,225,116,50],[62,39,145,215,69,255,253,173,146,28,15,200,48,127,158,49,6,28,131,127,174,202,151,137,72,243,100,9,196,254,134,168],[204,112,204,229,177,205,156,181,87,32,245,62,106,233,165,55,51,44,215,40,29,237,43,18,104,146,71,231,49,188,242,205],[68,79,21,85,84,90,138,189,50,30,238,51,125,20,72,98,217,175,165,155,233,172,246,51,231,97,243,255,239,176,122,210],[58,190,88,34,186,226,66,70,250,251,235,167,63,186,77,124,251,160,174,193,24,80,86,245,133,95,249,199,141,79,220,146],[42,164,44,99,21,103,135,22,93,235,68,246,46,22,103,121,123,70,37,156,76,152,101,58,168,89,193,28,217,240,138,177],[185,182,185,47,215,205,174,117,232,239,136,110,99,137,89,247,120,83,31,169,150,151,136,92,165,121,173,180,91,32,170,40],[90,65,14,3,43,71,11,124,28,37,181,131,140,143,104,55,110,5,78,169,124,35,206,155,78,108,62,222,19,204,74,90],[29,233,185,67,8,202,24,224,26,135,225,254,218,47,226,148,61,117,126,178,214,5,246,11,228,3,133,76,168,205,224,112],[90,225,23,165,242,101,170,0,77,237,168,165,59,175,35,122,170,112,26,246,30,237,72,186,118,238,219,145,15,17,231,45],[96,23,168,15,248,11,244,108,116,33,57,126,26,161,115,40,28,81,174,99,99,138,136,239,251,41,168,23,83,146,242,206],[141,254,150,142,7,242,0,246,82,42,84,47,198,225,182,251,16,72,157,97,28,242,61,92,145,185,100,41,81,17,183,239],[134,190,36,126,32,133,159,249,125,186,189,59,254,239,224,207,80,88,97,98,40,201,71,4,47,203,142,53,53,210,6,115],[21,239,203,55,64,81,183,80,82,123,131,65,236,213,113,132,185,186,16,97,126,95,74,45,63,40,167,192,102,23,168,78],[220,10,145,159,244,179,168,187,104,202,205,108,232,169,62,21,89,30,126,195,75,8,61,211,21,234,149,114,235,191,22,145],[132,98,193,18,51,227,136,123,65,241,243,53,137,129,168,35,172,154,233,60,63,36,50,119,49,231,113,182,87,14,11,28],[86,192,177,61,31,240,203,94,55,11,165,32,125,75,81,185,231,229,202,127,167,204,28,173,136,106,62,252,212,87,237,66],[173,12,77,178,226,109,88,27,32,31,219,203,167,186,44,10,125,2,251,160,107,221,29,230,17,251,167,252,34,163,137,100],[35,167,233,112,64,15,76,216,67,103,153,80,14,192,212,81,32,123,79,35,205,53,58,208,190,120,109,107,84,152,81,51],[70,227,88,46,252,191,51,104,132,207,22,47,132,170,211,16,181,36,94,110,166,31,25,130,48,251,47,121,205,180,147,123],[39,36,181,93,152,59,129,59,5,119,20,202,116,243,111,192,67,7,249,24,252,242,15,106,140,192,124,214,99,49,146,82],[123,110,185,169,154,101,196,250,241,18,59,161,151,0,194,69,140,68,254,178,138,53,191,66,142,196,253,179,187,229,192,111],[213,248,169,84,28,69,252,234,190,98,212,217,77,158,172,253,179,130,119,220,253,32,79,198,175,153,222,220,131,246,84,104],[242,139,220,95,146,114,215,97,150,189,100,188,97,211,76,135,59,244,241,200,55,187,6,176,220,24,5,168,248,12,162,244],[247,136,174,184,209,167,196,138,224,58,102,247,183,64,113,84,182,63,39,52,53,222,199,127,188,133,37,49,238,16,147,232],[107,157,170,81,215,166,77,134,112,154,80,47,134,217,51,96,180,161,183,248,44,212,0,232,172,29,239,72,34,174,237,74],[7,115,222,164,51,179,35,43,60,131,135,142,232,47,248,30,204,25,98,43,194,37,213,6,19,184,235,181,182,176,56,75],[202,47,183,144,75,139,131,51,105,124,56,163,231,10,199,142,101,233,162,124,7,130,22,68,76,254,192,29,168,107,161,141],[185,225,188,176,40,235,134,186,208,225,251,95,204,150,164,64,139,101,244,41,90,229,65,105,62,149,170,200,247,103,173,87],[37,173,135,198,139,43,60,204,157,119,242,136,185,229,130,59,146,30,135,122,137,146,203,173,214,188,238,162,170,254,72,179],[185,201,132,26,205,176,224,193,134,167,122,193,96,120,10,5,148,113,26,243,51,91,145,11,126,23,156,105,217,251,115,224],[122,225,230,112,188,18,125,52,229,8,95,244,24,141,25,118,147,186,122,74,146,90,43,110,58,191,129,167,0,206,52,204],[125,152,243,199,38,122,24,238,75,244,174,255,232,34,59,217,129,162,60,219,1,130,160,85,42,165,178,151,109,14,226,227],[116,67,96,11,60,133,80,117,15,80,44,166,83,216,39,100,153,46,105,68,39,15,79,191,254,104,120,171,28,48,105,122],[45,149,48,70,89,209,144,32,237,79,34,207,116,207,175,140,29,171,192,55,204,200,58,76,224,37,127,191,46,186,163,194],[205,39,81,126,49,193,23,185,205,217,105,182,190,96,71,123,180,193,121,143,246,206,184,154,53,255,26,19,82,37,3,81],[43,224,10,75,231,16,239,29,193,131,0,181,27,187,200,208,32,138,114,243,233,78,118,26,33,157,229,176,150,246,126,29],[63,65,241,38,18,57,104,146,152,89,103,127,108,58,243,6,222,5,107,98,46,153,172,112,183,105,243,221,225,175,254,91],[224,180,191,243,131,185,91,193,34,115,107,223,107,171,154,203,146,192,174,235,183,210,138,64,142,182,151,170,110,143,207,14]],{from: accounts[6]}),'revert');
  });
  it('Should fail recordPayments(address[],uint256[],uint256[],bytes32[]) when NOT comply with: _securityHolders.length == _paymentTimestamps.length', async () => {
    let result = await truffleAssert.fails(contractOffChainPayments.recordPayments([accounts[0],accounts[2],accounts[2],accounts[0],accounts[6],accounts[3],accounts[3],accounts[7],accounts[4],accounts[2],accounts[1],accounts[7],accounts[6],accounts[8],accounts[8],accounts[2],accounts[8],accounts[1],accounts[6],accounts[5],accounts[8],accounts[5],accounts[8],accounts[9],accounts[6],accounts[9],accounts[7],accounts[6],accounts[5],accounts[9],accounts[3],accounts[9],accounts[4],accounts[0],accounts[4],accounts[0],accounts[8],accounts[0],accounts[6],accounts[4],accounts[0],accounts[6],accounts[1],accounts[4],accounts[8],accounts[6],accounts[6],accounts[6],accounts[5],accounts[2],accounts[0],accounts[7],accounts[1],accounts[3],accounts[7],accounts[5],accounts[3],accounts[1],accounts[8],accounts[2],accounts[8],accounts[3],accounts[4],accounts[5],accounts[2],accounts[9],accounts[1]], [28,66,27,1337,4,2014223714,96,26,29,9999,0,257,2014223714,10001,4,97,2014223716,2014223716,97,10000,0,10001,1,1532892064,254,26,1532892063,1338,2014223715,2014223714,2014223716,2014223715,1532892063,95,2014223716,1337,5,6,26,1338,2014223714,2,255,26,1336,97,6,95,95,256,6,1337,96,5,95,1,1336,3,257,97,1336,97,28,65,2014223716,1337], [1336,257,5,2014223714,28,257,4,28,96,5,2014223716,97,257,29,1338,1337,1337,64,66,65,4,64,255,0,257,28,1532892063,2014223716,0,64,1,1,65,254,5,0,5,97,257,3,1,1338,10000,29,1,97,64,2014223714,0,1532892062,2014223714,1337,96,9999,1337,1532892063,254,2,3,2,95,26,4,2014223714,257,1337], [[91,231,254,48,140,112,160,183,28,66,169,1,188,116,143,227,140,247,37,48,246,106,142,195,155,111,221,232,179,13,134,127],[16,203,87,251,111,39,250,205,81,192,214,176,82,65,15,129,159,83,60,94,91,192,121,176,213,235,76,27,174,205,209,102],[40,175,212,24,214,144,221,175,135,209,166,2,94,25,219,69,126,34,75,224,188,238,242,120,0,172,93,119,220,250,167,211],[210,139,8,164,107,122,166,6,96,75,80,145,7,215,119,196,103,98,202,53,132,36,102,33,110,25,182,28,248,112,131,78],[18,100,83,47,252,53,64,10,7,214,159,144,103,153,132,158,211,251,186,119,223,75,100,56,213,32,127,114,6,147,111,41],[199,112,44,98,61,7,168,170,150,9,54,44,200,108,227,205,111,222,240,219,252,148,228,130,81,213,217,87,74,236,141,163],[219,138,6,215,76,151,167,132,252,37,132,84,220,200,128,244,243,149,23,44,159,107,124,240,179,74,77,116,118,5,16,8],[151,4,126,229,166,114,104,130,107,42,162,34,156,116,212,18,209,26,179,50,189,175,70,73,8,2,58,244,89,221,179,136],[6,122,230,200,157,196,16,145,192,32,15,234,105,114,20,66,44,24,3,80,92,229,212,216,92,234,17,130,105,127,21,139],[69,255,71,246,107,221,231,249,212,59,255,26,50,65,241,242,42,119,250,190,71,223,250,252,201,113,184,67,204,134,97,139],[189,182,38,103,140,171,255,229,35,168,142,106,111,158,100,154,70,42,6,162,244,139,210,229,68,84,8,84,42,127,4,195],[4,244,222,243,19,18,241,250,17,31,115,131,22,103,99,166,203,52,64,32,88,15,20,87,77,188,254,69,208,34,117,113],[36,239,93,134,158,67,14,7,8,59,4,233,15,146,253,83,138,31,221,135,113,93,41,146,197,11,209,124,179,130,68,192],[98,3,234,70,238,58,38,228,118,65,138,2,85,35,38,146,100,171,124,192,160,146,61,163,233,150,23,41,245,127,162,216],[139,26,205,72,159,168,17,227,153,63,32,59,169,52,111,122,229,161,214,57,43,67,246,73,185,9,211,248,253,44,198,70],[191,194,69,206,47,129,17,20,66,249,38,197,35,94,71,178,186,243,189,184,119,84,72,43,159,90,183,84,94,198,129,95],[199,191,39,238,93,252,6,212,190,236,136,235,130,41,27,170,181,82,253,171,22,26,126,222,124,10,191,236,43,110,3,0],[139,188,25,96,202,120,193,205,128,239,127,0,103,115,231,165,252,34,136,76,94,1,32,238,197,151,130,31,80,77,71,187],[53,232,192,133,193,114,22,123,188,239,152,225,118,133,184,48,4,148,18,125,125,216,85,42,0,172,163,171,152,224,187,152],[235,59,25,86,127,17,203,61,111,250,23,33,160,67,26,211,173,38,172,250,158,84,86,189,100,79,73,27,71,34,245,141],[50,129,84,55,204,162,29,25,85,96,187,194,123,62,9,247,107,86,146,66,67,95,246,244,158,32,166,79,110,206,223,65],[248,210,61,236,167,199,117,159,101,148,149,74,114,224,25,159,50,156,231,115,124,187,91,106,144,240,49,95,11,38,36,98],[222,171,67,160,80,217,254,11,197,124,180,160,85,147,194,128,59,30,251,126,165,157,183,193,109,179,57,242,65,200,206,140],[138,119,222,25,211,51,41,34,175,243,197,180,11,44,106,19,158,5,15,135,155,181,64,165,46,93,47,93,169,202,44,164],[140,79,157,118,176,152,97,137,168,142,210,216,227,109,77,98,139,185,174,227,205,139,222,207,206,108,129,212,30,120,248,204],[108,62,236,237,46,175,167,174,170,170,10,219,116,160,208,243,151,80,201,8,22,137,88,237,135,70,61,52,13,210,52,94],[131,75,185,61,251,86,146,251,241,65,65,67,23,107,179,179,66,158,100,220,65,228,158,96,135,102,69,10,32,33,219,189],[132,24,91,130,203,224,167,191,211,91,2,64,215,203,167,142,64,7,249,56,67,232,49,181,201,177,28,212,173,225,116,50],[62,39,145,215,69,255,253,173,146,28,15,200,48,127,158,49,6,28,131,127,174,202,151,137,72,243,100,9,196,254,134,168],[204,112,204,229,177,205,156,181,87,32,245,62,106,233,165,55,51,44,215,40,29,237,43,18,104,146,71,231,49,188,242,205],[68,79,21,85,84,90,138,189,50,30,238,51,125,20,72,98,217,175,165,155,233,172,246,51,231,97,243,255,239,176,122,210],[58,190,88,34,186,226,66,70,250,251,235,167,63,186,77,124,251,160,174,193,24,80,86,245,133,95,249,199,141,79,220,146],[42,164,44,99,21,103,135,22,93,235,68,246,46,22,103,121,123,70,37,156,76,152,101,58,168,89,193,28,217,240,138,177],[185,182,185,47,215,205,174,117,232,239,136,110,99,137,89,247,120,83,31,169,150,151,136,92,165,121,173,180,91,32,170,40],[90,65,14,3,43,71,11,124,28,37,181,131,140,143,104,55,110,5,78,169,124,35,206,155,78,108,62,222,19,204,74,90],[29,233,185,67,8,202,24,224,26,135,225,254,218,47,226,148,61,117,126,178,214,5,246,11,228,3,133,76,168,205,224,112],[90,225,23,165,242,101,170,0,77,237,168,165,59,175,35,122,170,112,26,246,30,237,72,186,118,238,219,145,15,17,231,45],[96,23,168,15,248,11,244,108,116,33,57,126,26,161,115,40,28,81,174,99,99,138,136,239,251,41,168,23,83,146,242,206],[141,254,150,142,7,242,0,246,82,42,84,47,198,225,182,251,16,72,157,97,28,242,61,92,145,185,100,41,81,17,183,239],[134,190,36,126,32,133,159,249,125,186,189,59,254,239,224,207,80,88,97,98,40,201,71,4,47,203,142,53,53,210,6,115],[21,239,203,55,64,81,183,80,82,123,131,65,236,213,113,132,185,186,16,97,126,95,74,45,63,40,167,192,102,23,168,78],[220,10,145,159,244,179,168,187,104,202,205,108,232,169,62,21,89,30,126,195,75,8,61,211,21,234,149,114,235,191,22,145],[132,98,193,18,51,227,136,123,65,241,243,53,137,129,168,35,172,154,233,60,63,36,50,119,49,231,113,182,87,14,11,28],[86,192,177,61,31,240,203,94,55,11,165,32,125,75,81,185,231,229,202,127,167,204,28,173,136,106,62,252,212,87,237,66],[173,12,77,178,226,109,88,27,32,31,219,203,167,186,44,10,125,2,251,160,107,221,29,230,17,251,167,252,34,163,137,100],[35,167,233,112,64,15,76,216,67,103,153,80,14,192,212,81,32,123,79,35,205,53,58,208,190,120,109,107,84,152,81,51],[70,227,88,46,252,191,51,104,132,207,22,47,132,170,211,16,181,36,94,110,166,31,25,130,48,251,47,121,205,180,147,123],[39,36,181,93,152,59,129,59,5,119,20,202,116,243,111,192,67,7,249,24,252,242,15,106,140,192,124,214,99,49,146,82],[123,110,185,169,154,101,196,250,241,18,59,161,151,0,194,69,140,68,254,178,138,53,191,66,142,196,253,179,187,229,192,111],[213,248,169,84,28,69,252,234,190,98,212,217,77,158,172,253,179,130,119,220,253,32,79,198,175,153,222,220,131,246,84,104],[242,139,220,95,146,114,215,97,150,189,100,188,97,211,76,135,59,244,241,200,55,187,6,176,220,24,5,168,248,12,162,244],[247,136,174,184,209,167,196,138,224,58,102,247,183,64,113,84,182,63,39,52,53,222,199,127,188,133,37,49,238,16,147,232],[107,157,170,81,215,166,77,134,112,154,80,47,134,217,51,96,180,161,183,248,44,212,0,232,172,29,239,72,34,174,237,74],[7,115,222,164,51,179,35,43,60,131,135,142,232,47,248,30,204,25,98,43,194,37,213,6,19,184,235,181,182,176,56,75],[202,47,183,144,75,139,131,51,105,124,56,163,231,10,199,142,101,233,162,124,7,130,22,68,76,254,192,29,168,107,161,141],[185,225,188,176,40,235,134,186,208,225,251,95,204,150,164,64,139,101,244,41,90,229,65,105,62,149,170,200,247,103,173,87],[37,173,135,198,139,43,60,204,157,119,242,136,185,229,130,59,146,30,135,122,137,146,203,173,214,188,238,162,170,254,72,179],[185,201,132,26,205,176,224,193,134,167,122,193,96,120,10,5,148,113,26,243,51,91,145,11,126,23,156,105,217,251,115,224],[122,225,230,112,188,18,125,52,229,8,95,244,24,141,25,118,147,186,122,74,146,90,43,110,58,191,129,167,0,206,52,204],[125,152,243,199,38,122,24,238,75,244,174,255,232,34,59,217,129,162,60,219,1,130,160,85,42,165,178,151,109,14,226,227],[116,67,96,11,60,133,80,117,15,80,44,166,83,216,39,100,153,46,105,68,39,15,79,191,254,104,120,171,28,48,105,122],[45,149,48,70,89,209,144,32,237,79,34,207,116,207,175,140,29,171,192,55,204,200,58,76,224,37,127,191,46,186,163,194],[205,39,81,126,49,193,23,185,205,217,105,182,190,96,71,123,180,193,121,143,246,206,184,154,53,255,26,19,82,37,3,81],[43,224,10,75,231,16,239,29,193,131,0,181,27,187,200,208,32,138,114,243,233,78,118,26,33,157,229,176,150,246,126,29],[63,65,241,38,18,57,104,146,152,89,103,127,108,58,243,6,222,5,107,98,46,153,172,112,183,105,243,221,225,175,254,91],[224,180,191,243,131,185,91,193,34,115,107,223,107,171,154,203,146,192,174,235,183,210,138,64,142,182,151,170,110,143,207,14]],{from: accounts[6]}),'revert');
  });
  it('Should fail recordPayments(address[],uint256[],uint256[],bytes32[]) when NOT comply with: _securityHolders.length == _paymentValues.length', async () => {
    let result = await truffleAssert.fails(contractOffChainPayments.recordPayments([accounts[8],accounts[2],accounts[7],accounts[5],accounts[3],accounts[1],accounts[8],accounts[0],accounts[9],accounts[2],accounts[9],accounts[2],accounts[5],accounts[6],accounts[6],accounts[6],accounts[8],accounts[4],accounts[8],accounts[3],accounts[0],accounts[7],accounts[4],accounts[8],accounts[5],accounts[3],accounts[1],accounts[9],accounts[3],accounts[3],accounts[8],accounts[4],accounts[9],accounts[2],accounts[5],accounts[2],accounts[5],accounts[0],accounts[8],accounts[4],accounts[8],accounts[2],accounts[4],accounts[0],accounts[8],accounts[9],accounts[9],accounts[1],accounts[0],accounts[5],accounts[0],accounts[7],accounts[2],accounts[8],accounts[2],accounts[5],accounts[0],accounts[9],accounts[9],accounts[6],accounts[6],accounts[6],accounts[7],accounts[1],accounts[8],accounts[5],accounts[3]], [28,66,27,1337,4,2014223714,96,26,29,9999,0,257,2014223714,10001,4,97,2014223716,2014223716,97,10000,0,10001,1,1532892064,254,26,1532892063,1338,2014223715,2014223714,2014223716,2014223715,1532892063,95,2014223716,1337,5,6,26,1338,2014223714,2,255,26,1336,97,6,95,95,256,6,1337,96,5,95,1,1336,3,257,97,1336,97,28,65,2014223716,1337], [1336,257,5,2014223714,28,257,4,28,96,5,2014223716,97,257,29,1338,1337,1337,64,66,65,4,64,255,0,257,28,1532892063,2014223716,0,64,1,1,65,254,5,0,5,97,257,3,1,1338,10000,29,1,97,64,2014223714,0,1532892062,2014223714,1337,96,9999,1337,1532892063,254,2,3,2,95,26,4,2014223714,257,1337], [[91,231,254,48,140,112,160,183,28,66,169,1,188,116,143,227,140,247,37,48,246,106,142,195,155,111,221,232,179,13,134,127],[16,203,87,251,111,39,250,205,81,192,214,176,82,65,15,129,159,83,60,94,91,192,121,176,213,235,76,27,174,205,209,102],[40,175,212,24,214,144,221,175,135,209,166,2,94,25,219,69,126,34,75,224,188,238,242,120,0,172,93,119,220,250,167,211],[210,139,8,164,107,122,166,6,96,75,80,145,7,215,119,196,103,98,202,53,132,36,102,33,110,25,182,28,248,112,131,78],[18,100,83,47,252,53,64,10,7,214,159,144,103,153,132,158,211,251,186,119,223,75,100,56,213,32,127,114,6,147,111,41],[199,112,44,98,61,7,168,170,150,9,54,44,200,108,227,205,111,222,240,219,252,148,228,130,81,213,217,87,74,236,141,163],[219,138,6,215,76,151,167,132,252,37,132,84,220,200,128,244,243,149,23,44,159,107,124,240,179,74,77,116,118,5,16,8],[151,4,126,229,166,114,104,130,107,42,162,34,156,116,212,18,209,26,179,50,189,175,70,73,8,2,58,244,89,221,179,136],[6,122,230,200,157,196,16,145,192,32,15,234,105,114,20,66,44,24,3,80,92,229,212,216,92,234,17,130,105,127,21,139],[69,255,71,246,107,221,231,249,212,59,255,26,50,65,241,242,42,119,250,190,71,223,250,252,201,113,184,67,204,134,97,139],[189,182,38,103,140,171,255,229,35,168,142,106,111,158,100,154,70,42,6,162,244,139,210,229,68,84,8,84,42,127,4,195],[4,244,222,243,19,18,241,250,17,31,115,131,22,103,99,166,203,52,64,32,88,15,20,87,77,188,254,69,208,34,117,113],[36,239,93,134,158,67,14,7,8,59,4,233,15,146,253,83,138,31,221,135,113,93,41,146,197,11,209,124,179,130,68,192],[98,3,234,70,238,58,38,228,118,65,138,2,85,35,38,146,100,171,124,192,160,146,61,163,233,150,23,41,245,127,162,216],[139,26,205,72,159,168,17,227,153,63,32,59,169,52,111,122,229,161,214,57,43,67,246,73,185,9,211,248,253,44,198,70],[191,194,69,206,47,129,17,20,66,249,38,197,35,94,71,178,186,243,189,184,119,84,72,43,159,90,183,84,94,198,129,95],[199,191,39,238,93,252,6,212,190,236,136,235,130,41,27,170,181,82,253,171,22,26,126,222,124,10,191,236,43,110,3,0],[139,188,25,96,202,120,193,205,128,239,127,0,103,115,231,165,252,34,136,76,94,1,32,238,197,151,130,31,80,77,71,187],[53,232,192,133,193,114,22,123,188,239,152,225,118,133,184,48,4,148,18,125,125,216,85,42,0,172,163,171,152,224,187,152],[235,59,25,86,127,17,203,61,111,250,23,33,160,67,26,211,173,38,172,250,158,84,86,189,100,79,73,27,71,34,245,141],[50,129,84,55,204,162,29,25,85,96,187,194,123,62,9,247,107,86,146,66,67,95,246,244,158,32,166,79,110,206,223,65],[248,210,61,236,167,199,117,159,101,148,149,74,114,224,25,159,50,156,231,115,124,187,91,106,144,240,49,95,11,38,36,98],[222,171,67,160,80,217,254,11,197,124,180,160,85,147,194,128,59,30,251,126,165,157,183,193,109,179,57,242,65,200,206,140],[138,119,222,25,211,51,41,34,175,243,197,180,11,44,106,19,158,5,15,135,155,181,64,165,46,93,47,93,169,202,44,164],[140,79,157,118,176,152,97,137,168,142,210,216,227,109,77,98,139,185,174,227,205,139,222,207,206,108,129,212,30,120,248,204],[108,62,236,237,46,175,167,174,170,170,10,219,116,160,208,243,151,80,201,8,22,137,88,237,135,70,61,52,13,210,52,94],[131,75,185,61,251,86,146,251,241,65,65,67,23,107,179,179,66,158,100,220,65,228,158,96,135,102,69,10,32,33,219,189],[132,24,91,130,203,224,167,191,211,91,2,64,215,203,167,142,64,7,249,56,67,232,49,181,201,177,28,212,173,225,116,50],[62,39,145,215,69,255,253,173,146,28,15,200,48,127,158,49,6,28,131,127,174,202,151,137,72,243,100,9,196,254,134,168],[204,112,204,229,177,205,156,181,87,32,245,62,106,233,165,55,51,44,215,40,29,237,43,18,104,146,71,231,49,188,242,205],[68,79,21,85,84,90,138,189,50,30,238,51,125,20,72,98,217,175,165,155,233,172,246,51,231,97,243,255,239,176,122,210],[58,190,88,34,186,226,66,70,250,251,235,167,63,186,77,124,251,160,174,193,24,80,86,245,133,95,249,199,141,79,220,146],[42,164,44,99,21,103,135,22,93,235,68,246,46,22,103,121,123,70,37,156,76,152,101,58,168,89,193,28,217,240,138,177],[185,182,185,47,215,205,174,117,232,239,136,110,99,137,89,247,120,83,31,169,150,151,136,92,165,121,173,180,91,32,170,40],[90,65,14,3,43,71,11,124,28,37,181,131,140,143,104,55,110,5,78,169,124,35,206,155,78,108,62,222,19,204,74,90],[29,233,185,67,8,202,24,224,26,135,225,254,218,47,226,148,61,117,126,178,214,5,246,11,228,3,133,76,168,205,224,112],[90,225,23,165,242,101,170,0,77,237,168,165,59,175,35,122,170,112,26,246,30,237,72,186,118,238,219,145,15,17,231,45],[96,23,168,15,248,11,244,108,116,33,57,126,26,161,115,40,28,81,174,99,99,138,136,239,251,41,168,23,83,146,242,206],[141,254,150,142,7,242,0,246,82,42,84,47,198,225,182,251,16,72,157,97,28,242,61,92,145,185,100,41,81,17,183,239],[134,190,36,126,32,133,159,249,125,186,189,59,254,239,224,207,80,88,97,98,40,201,71,4,47,203,142,53,53,210,6,115],[21,239,203,55,64,81,183,80,82,123,131,65,236,213,113,132,185,186,16,97,126,95,74,45,63,40,167,192,102,23,168,78],[220,10,145,159,244,179,168,187,104,202,205,108,232,169,62,21,89,30,126,195,75,8,61,211,21,234,149,114,235,191,22,145],[132,98,193,18,51,227,136,123,65,241,243,53,137,129,168,35,172,154,233,60,63,36,50,119,49,231,113,182,87,14,11,28],[86,192,177,61,31,240,203,94,55,11,165,32,125,75,81,185,231,229,202,127,167,204,28,173,136,106,62,252,212,87,237,66],[173,12,77,178,226,109,88,27,32,31,219,203,167,186,44,10,125,2,251,160,107,221,29,230,17,251,167,252,34,163,137,100],[35,167,233,112,64,15,76,216,67,103,153,80,14,192,212,81,32,123,79,35,205,53,58,208,190,120,109,107,84,152,81,51],[70,227,88,46,252,191,51,104,132,207,22,47,132,170,211,16,181,36,94,110,166,31,25,130,48,251,47,121,205,180,147,123],[39,36,181,93,152,59,129,59,5,119,20,202,116,243,111,192,67,7,249,24,252,242,15,106,140,192,124,214,99,49,146,82],[123,110,185,169,154,101,196,250,241,18,59,161,151,0,194,69,140,68,254,178,138,53,191,66,142,196,253,179,187,229,192,111],[213,248,169,84,28,69,252,234,190,98,212,217,77,158,172,253,179,130,119,220,253,32,79,198,175,153,222,220,131,246,84,104],[242,139,220,95,146,114,215,97,150,189,100,188,97,211,76,135,59,244,241,200,55,187,6,176,220,24,5,168,248,12,162,244],[247,136,174,184,209,167,196,138,224,58,102,247,183,64,113,84,182,63,39,52,53,222,199,127,188,133,37,49,238,16,147,232],[107,157,170,81,215,166,77,134,112,154,80,47,134,217,51,96,180,161,183,248,44,212,0,232,172,29,239,72,34,174,237,74],[7,115,222,164,51,179,35,43,60,131,135,142,232,47,248,30,204,25,98,43,194,37,213,6,19,184,235,181,182,176,56,75],[202,47,183,144,75,139,131,51,105,124,56,163,231,10,199,142,101,233,162,124,7,130,22,68,76,254,192,29,168,107,161,141],[185,225,188,176,40,235,134,186,208,225,251,95,204,150,164,64,139,101,244,41,90,229,65,105,62,149,170,200,247,103,173,87],[37,173,135,198,139,43,60,204,157,119,242,136,185,229,130,59,146,30,135,122,137,146,203,173,214,188,238,162,170,254,72,179],[185,201,132,26,205,176,224,193,134,167,122,193,96,120,10,5,148,113,26,243,51,91,145,11,126,23,156,105,217,251,115,224],[122,225,230,112,188,18,125,52,229,8,95,244,24,141,25,118,147,186,122,74,146,90,43,110,58,191,129,167,0,206,52,204],[125,152,243,199,38,122,24,238,75,244,174,255,232,34,59,217,129,162,60,219,1,130,160,85,42,165,178,151,109,14,226,227],[116,67,96,11,60,133,80,117,15,80,44,166,83,216,39,100,153,46,105,68,39,15,79,191,254,104,120,171,28,48,105,122],[45,149,48,70,89,209,144,32,237,79,34,207,116,207,175,140,29,171,192,55,204,200,58,76,224,37,127,191,46,186,163,194],[205,39,81,126,49,193,23,185,205,217,105,182,190,96,71,123,180,193,121,143,246,206,184,154,53,255,26,19,82,37,3,81],[43,224,10,75,231,16,239,29,193,131,0,181,27,187,200,208,32,138,114,243,233,78,118,26,33,157,229,176,150,246,126,29],[63,65,241,38,18,57,104,146,152,89,103,127,108,58,243,6,222,5,107,98,46,153,172,112,183,105,243,221,225,175,254,91],[224,180,191,243,131,185,91,193,34,115,107,223,107,171,154,203,146,192,174,235,183,210,138,64,142,182,151,170,110,143,207,14]],{from: accounts[6]}),'revert');
  });
  it('Should execute lookUpPaymentIndex(address,bytes32) WHEN _securityHolder!=0x0000000000000000000000000000000000000000', async () => {
    let result = await contractOffChainPayments.lookUpPaymentIndex(accounts[1], [142,97,54,122,89,182,183,54,49,33,104,191,188,50,163,94,93,125,165,246,194,134,22,39,126,3,118,146,123,86,215,119],{from: accounts[0]});
  });
  it('Should fail lookUpPaymentIndex(address,bytes32) when NOT comply with: _securityHolder != 0x0000000000000000000000000000000000000000', async () => {
    let result = await truffleAssert.fails(contractOffChainPayments.lookUpPaymentIndex("0x0000000000000000000000000000000000000000", [142,97,54,122,89,182,183,54,49,33,104,191,188,50,163,94,93,125,165,246,194,134,22,39,126,3,118,146,123,86,215,119],{from: accounts[0]}),'revert');
  });
  it('Should execute challengePayment(uint256,uint256)', async () => {
    let result = await contractOffChainPayments.challengePayment(65, 254,{from: accounts[0]});
  });
  it('Should execute resolveChallenge(address,uint256,bytes32,uint256) WHEN currentValue==_newValue,msg.sender==_owner,_index>=0', async () => {
    let result = await contractOffChainPayments.resolveChallenge(accounts[2], 255, [187,145,79,46,178,72,52,98,97,138,1,202,34,207,88,246,92,177,243,252,228,237,152,221,2,168,212,116,173,87,23,127], 26,{from: accounts[6]});
  });
  it('Should fail resolveChallenge(address,uint256,bytes32,uint256) when NOT comply with: msg.sender == _owner', async () => {
    let result = await truffleAssert.fails(contractOffChainPayments.resolveChallenge(accounts[2], 255, [187,145,79,46,178,72,52,98,97,138,1,202,34,207,88,246,92,177,243,252,228,237,152,221,2,168,212,116,173,87,23,127], 26,{from: accounts[9]}),'revert');
  });
  it('Should fail resolveChallenge(address,uint256,bytes32,uint256) when NOT comply with: _index >= 0', async () => {
    let result = await truffleAssert.fails(contractOffChainPayments.resolveChallenge(accounts[2], -1, [187,145,79,46,178,72,52,98,97,138,1,202,34,207,88,246,92,177,243,252,228,237,152,221,2,168,212,116,173,87,23,127], 26,{from: accounts[6]}),'revert');
  });
  it('Should execute resolveChallenge(address,uint256,bytes32,uint256) WHEN currentValue!=_newValue,msg.sender==_owner,_index>=0', async () => {
    let result = await contractOffChainPayments.resolveChallenge(accounts[2], 2014223716, [208,219,149,41,203,175,173,177,184,204,20,11,106,85,194,156,181,31,27,219,214,184,229,102,90,128,39,131,212,200,106,139], 28,{from: accounts[6]});
  });
  it('Should fail resolveChallenge(address,uint256,bytes32,uint256) when NOT comply with: msg.sender == _owner', async () => {
    let result = await truffleAssert.fails(contractOffChainPayments.resolveChallenge(accounts[2], 2014223716, [208,219,149,41,203,175,173,177,184,204,20,11,106,85,194,156,181,31,27,219,214,184,229,102,90,128,39,131,212,200,106,139], 28,{from: accounts[9]}),'revert');
  });
  it('Should fail resolveChallenge(address,uint256,bytes32,uint256) when NOT comply with: _index >= 0', async () => {
    let result = await truffleAssert.fails(contractOffChainPayments.resolveChallenge(accounts[2], -1, [208,219,149,41,203,175,173,177,184,204,20,11,106,85,194,156,181,31,27,219,214,184,229,102,90,128,39,131,212,200,106,139], 28,{from: accounts[6]}),'revert');
  });
});
