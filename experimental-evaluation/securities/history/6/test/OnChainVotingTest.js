const truffleAssert = require('truffle-assertions');
const PaymentTokenMock = artifacts.require("PaymentTokenMock");
const RedeemableTokenMock = artifacts.require("RedeemableTokenMock");
const OffChainPayments = artifacts.require("OffChainPayments");
const OnChainPayments = artifacts.require("OnChainPayments");
const FixedPriceTender = artifacts.require("FixedPriceTender");
const FullRedemption = artifacts.require("FullRedemption");
const PartialRedemption = artifacts.require("PartialRedemption");
const RedeemableToken = artifacts.require("RedeemableToken");
const OnChainVoting = artifacts.require("OnChainVoting");
const ECDSA = artifacts.require("openzeppelin-solidity/contracts/cryptography/ECDSA.sol");
const Math = artifacts.require("openzeppelin-solidity/contracts/math/Math.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ERC20 = artifacts.require("openzeppelin-solidity/contracts/token/ERC20/ERC20.sol");

contract("OnChainVoting",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractMath = null;
  let contractECDSA = null;
  let contractERC20 = null;
  let contractRedeemableToken = null;
  let contractPaymentTokenMock = null;
  let contractRedeemableTokenMock = null;
  let contractOffChainPayments = null;
  let contractPartialRedemption = null;
  let contractOnChainPayments = null;
  let contractFixedPriceTender = null;
  let contractFullRedemption = null;
  let contractOnChainVoting = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractMath = await Math.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Math.new({from: accounts[0]}');
    contractECDSA = await ECDSA.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ECDSA.new({from: accounts[0]}');
    ERC20.link("SafeMath",contractSafeMath.address);
    contractERC20 = await ERC20.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ERC20.new({from: accounts[0]}');
    RedeemableToken.link("SafeMath",contractSafeMath.address);
    contractRedeemableToken = await RedeemableToken.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: RedeemableToken.new({from: accounts[0]}');
    contractPaymentTokenMock = await PaymentTokenMock.new(accounts[8],65,{from:accounts[0]});
    if(trace) console.log('SUCESSO: PaymentTokenMock.new(accounts[8],65,{from:accounts[0]}');
    contractRedeemableTokenMock = await RedeemableTokenMock.new(accounts[0],96,{from:accounts[0]});
    if(trace) console.log('SUCESSO: RedeemableTokenMock.new(accounts[0],96,{from:accounts[0]}');
    OffChainPayments.link("SafeMath",contractSafeMath.address);
     OffChainPayments.link("ECDSA",contractECDSA.address);
    contractOffChainPayments = await OffChainPayments.new(accounts[0],{from:accounts[6]});
    if(trace) console.log('SUCESSO: OffChainPayments.new(accounts[0],{from:accounts[6]}');
    PartialRedemption.link("SafeMath",contractSafeMath.address);
    contractPartialRedemption = await PartialRedemption.new(contractPaymentTokenMock.address,contractRedeemableToken.address,accounts[5],1532892063,{from:accounts[0]});
    if(trace) console.log('SUCESSO: PartialRedemption.new(contractPaymentTokenMock.address,contractRedeemableToken.address,accounts[5],1532892063,{from:accounts[0]}');
    OnChainPayments.link("SafeMath",contractSafeMath.address);
     OnChainPayments.link("ECDSA",contractECDSA.address);
    contractOnChainPayments = await OnChainPayments.new(contractPaymentTokenMock.address,contractRedeemableToken.address,accounts[0],{from:accounts[2]});
    if(trace) console.log('SUCESSO: OnChainPayments.new(contractPaymentTokenMock.address,contractRedeemableToken.address,accounts[0],{from:accounts[2]}');
    FixedPriceTender.link("Math",contractMath.address);
     FixedPriceTender.link("SafeMath",contractSafeMath.address);
    contractFixedPriceTender = await FixedPriceTender.new(2014223715,contractPaymentTokenMock.address,contractPaymentTokenMock.address,contractECDSA.address,29,64,{from:accounts[7]});
    if(trace) console.log('SUCESSO: FixedPriceTender.new(2014223715,contractPaymentTokenMock.address,contractPaymentTokenMock.address,contractECDSA.address,29,64,{from:accounts[7]}');
    FullRedemption.link("SafeMath",contractSafeMath.address);
    contractFullRedemption = await FullRedemption.new(contractRedeemableToken.address,contractRedeemableTokenMock.address,accounts[1],95,{from:accounts[0]});
    if(trace) console.log('SUCESSO: FullRedemption.new(contractRedeemableToken.address,contractRedeemableTokenMock.address,accounts[1],95,{from:accounts[0]}');
    OnChainVoting.link("SafeMath",contractSafeMath.address);
    contractOnChainVoting = await OnChainVoting.new(contractPaymentTokenMock.address,accounts[5],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+322,{from:accounts[2]});
    if(trace) console.log('SUCESSO: OnChainVoting.new(contractPaymentTokenMock.address,accounts[5],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+322,{from:accounts[2]}');
  });
  
  it('Should execute placeVote(string) WHEN (await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp<endTime', async () => {
    let result = await contractOnChainVoting.placeVote("UsesExample",{from: accounts[0]});
  });
  it('Should execute submitUserVotes(bytes32[],bytes32[]) WHEN msg.sender==_owner,(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp>=endTime,_usersSaltHash.length==_usersVote.length,_usersSaltHash.length!=0', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractPaymentTokenMock.address,accounts[9],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+913,{from:accounts[2]});
    let result = await localOnChainVoting.submitUserVotes([[223,100,190,137,100,62,252,99,61,25,223,62,97,193,221,83,130,96,213,145,46,254,65,135,95,26,223,182,252,102,82,235],[158,98,93,13,6,221,176,106,236,29,161,158,95,177,120,37,2,12,42,221,66,141,243,21,150,107,138,198,72,250,49,220],[127,225,224,197,120,209,220,179,43,67,239,19,149,178,22,248,249,25,176,12,26,249,218,106,109,173,220,239,113,229,179,116],[167,175,43,246,189,19,158,153,24,176,124,76,98,69,185,94,91,142,227,209,242,218,4,93,116,202,176,190,52,13,185,153],[243,176,0,247,53,49,75,206,58,176,118,101,23,138,224,141,53,159,148,196,18,5,163,76,147,107,151,23,66,33,209,252],[54,186,37,140,113,66,21,8,196,229,95,64,10,178,85,52,62,163,164,114,120,226,223,194,179,83,64,111,176,103,213,133],[0,211,180,41,34,34,112,67,79,108,184,86,6,200,233,178,245,41,1,32,190,56,136,229,204,19,73,144,132,57,133,25],[167,136,250,47,72,7,113,101,147,88,250,15,137,114,87,224,116,194,50,17,39,159,253,101,183,246,37,95,161,31,50,176],[234,46,214,190,143,111,211,191,254,218,103,254,217,215,76,216,23,82,159,232,102,112,127,87,163,246,220,215,161,138,69,165],[80,77,69,178,154,189,91,128,159,7,147,64,24,134,69,142,166,23,232,78,140,238,36,202,207,209,30,65,85,243,215,33],[86,2,235,42,167,241,233,130,51,29,9,142,167,243,220,189,228,108,213,12,125,92,212,51,105,119,65,34,93,174,163,39],[110,106,190,247,89,141,156,170,196,90,170,94,74,241,5,63,222,211,56,172,213,15,138,218,106,180,25,195,58,61,250,78],[105,61,145,73,232,189,136,202,228,212,38,24,223,163,95,251,83,92,218,172,2,40,253,53,102,137,62,7,254,126,193,119],[210,206,76,193,211,242,128,141,26,60,208,86,24,224,143,213,129,6,235,219,23,196,20,170,95,243,13,69,157,165,246,163],[200,11,122,136,162,111,129,180,68,116,170,62,175,188,143,233,77,69,165,97,143,48,230,226,227,158,192,21,133,243,43,107],[99,189,252,90,213,161,253,180,40,228,31,21,30,243,156,67,166,229,21,189,199,80,221,40,2,144,49,38,58,116,178,47],[252,65,132,246,134,221,35,103,200,156,115,42,75,249,253,146,241,1,162,120,122,184,228,164,147,162,110,137,2,116,142,232],[5,213,210,232,130,138,215,56,204,48,80,202,52,97,235,50,98,81,59,130,59,166,154,59,84,172,189,64,219,115,91,169],[37,153,18,100,84,236,64,97,231,137,249,108,20,117,132,128,8,55,8,127,135,192,216,35,66,93,14,54,74,78,207,228],[218,79,233,117,145,110,75,54,35,71,15,146,2,141,190,212,3,252,249,252,23,123,177,98,159,46,63,147,62,86,190,50],[196,225,211,195,19,164,25,254,248,78,110,159,90,214,170,76,170,114,107,211,205,254,173,169,112,89,66,49,124,182,183,115],[129,80,202,225,255,137,5,111,118,166,25,241,24,14,238,53,248,174,61,101,94,150,241,132,77,118,172,104,56,8,28,172],[182,51,248,49,86,179,177,232,197,235,128,218,204,93,5,19,17,114,169,4,171,200,237,170,161,133,128,23,203,229,222,128],[127,61,129,55,29,89,19,135,222,219,123,39,83,48,133,129,226,154,53,65,212,145,169,122,85,125,207,144,254,145,193,70],[9,27,0,202,32,136,158,160,226,75,233,140,39,65,3,5,148,1,180,249,168,25,249,76,193,16,38,89,229,84,67,244],[12,87,241,238,99,126,181,190,178,161,217,205,0,110,93,133,157,72,124,42,181,180,249,170,101,6,159,138,157,203,156,53],[176,74,133,116,125,22,125,211,132,194,118,136,8,109,245,184,83,1,185,117,228,91,131,164,101,116,9,83,218,105,182,31],[169,104,8,16,230,31,79,73,152,14,169,194,108,107,224,246,57,48,201,142,107,232,137,214,61,156,220,101,206,104,54,52],[229,21,73,7,205,104,153,121,125,73,174,90,162,230,165,233,245,110,46,178,218,220,19,9,183,252,26,44,247,201,45,202],[210,68,236,111,40,140,241,190,186,192,24,148,197,153,7,180,82,30,233,241,50,150,98,158,116,155,202,192,232,183,179,60],[229,137,163,40,153,111,232,143,132,57,104,142,130,21,47,23,157,247,28,42,213,210,131,209,118,240,186,88,40,127,75,183],[82,110,73,212,250,171,116,50,83,251,1,115,139,229,141,66,87,111,141,28,170,186,61,40,136,98,157,171,160,226,29,122],[185,214,18,198,13,45,16,144,56,103,7,163,233,148,217,12,71,219,127,6,42,240,178,236,85,203,160,203,128,199,10,27],[123,111,141,67,102,200,161,216,56,29,21,47,248,32,44,108,50,253,245,121,58,149,142,10,168,136,254,30,246,237,172,106],[79,172,34,135,246,223,198,212,189,192,123,11,21,135,150,33,206,235,23,158,171,114,58,201,246,90,248,238,92,43,8,90],[91,143,90,7,124,24,149,131,146,32,73,134,250,66,164,181,248,104,72,254,214,224,108,212,207,7,192,9,52,61,64,107],[110,254,251,46,99,164,31,24,127,36,102,232,4,55,169,27,150,54,44,55,45,210,98,126,239,92,21,30,88,254,238,83],[165,16,218,153,150,161,67,186,105,105,178,2,85,145,118,247,165,110,165,114,25,120,44,194,139,172,163,144,30,133,222,120],[82,252,52,79,197,43,75,174,12,57,55,249,69,162,53,83,204,47,20,41,34,234,77,14,138,104,179,169,169,13,166,94],[113,143,52,225,16,141,247,199,196,135,101,144,180,116,252,199,110,10,187,65,215,167,235,49,46,162,254,193,88,148,199,99],[112,195,155,49,140,30,111,201,187,73,86,132,113,183,63,156,32,158,109,198,89,54,125,23,144,189,253,89,225,170,178,88],[59,115,30,2,212,179,12,155,1,251,218,212,251,13,16,53,32,248,13,67,155,34,39,185,238,178,25,100,152,199,203,229],[159,43,202,253,122,132,197,133,144,28,19,6,24,12,67,100,121,26,150,19,110,24,93,233,9,116,122,222,223,220,13,80],[121,125,36,58,243,187,207,161,80,85,141,221,236,32,45,162,204,103,96,200,18,163,120,19,12,196,158,198,159,115,19,25],[5,247,254,100,42,57,74,162,192,42,74,109,39,171,49,43,126,52,233,239,252,12,17,185,219,158,252,26,60,200,7,253],[95,117,179,23,61,47,66,81,88,117,78,47,242,111,51,47,60,82,78,7,253,207,65,55,135,96,194,250,39,13,241,35],[140,84,205,32,91,34,72,95,85,210,164,74,252,32,137,213,36,185,6,34,207,139,216,251,73,120,92,234,88,168,206,233],[231,145,108,54,35,43,234,10,247,230,143,207,49,139,211,191,48,113,38,99,152,213,22,98,230,167,244,68,127,248,233,220],[93,224,15,43,168,80,232,166,79,83,28,119,129,93,214,53,116,187,94,83,87,163,58,221,82,38,35,198,99,104,70,50],[4,121,224,83,199,26,134,67,33,136,196,250,209,213,172,133,237,245,234,96,171,117,60,152,254,130,77,223,203,16,95,202],[11,129,232,122,70,70,30,14,210,76,246,143,3,32,146,236,66,232,85,150,181,51,117,92,215,211,168,189,9,142,179,143],[190,57,192,252,242,120,46,19,106,190,15,24,26,58,94,19,147,220,143,85,222,82,59,190,63,133,223,81,182,63,29,178],[176,184,41,83,35,190,93,98,225,160,92,173,38,152,64,250,41,148,205,14,35,225,46,253,249,132,157,107,74,247,126,171],[154,109,91,59,153,170,27,84,73,123,189,14,122,27,94,133,148,199,211,9,170,91,44,143,148,29,13,159,68,242,243,217],[21,69,170,37,250,40,150,166,23,237,227,239,197,152,119,242,169,68,98,167,235,162,228,26,103,225,238,79,132,34,217,124],[135,12,19,214,193,204,246,58,1,85,234,196,37,190,141,42,42,220,80,48,124,249,155,57,134,249,51,71,67,3,131,153],[154,113,211,146,67,190,186,205,249,52,11,43,13,233,200,253,77,92,25,108,187,89,216,74,189,85,112,49,134,10,101,87],[67,200,191,96,86,224,76,250,197,142,221,63,121,63,22,64,139,159,196,124,98,5,69,240,175,108,194,221,31,154,250,155],[85,101,109,89,235,62,108,246,198,193,226,250,184,197,141,217,84,25,201,167,40,170,72,75,155,36,126,148,96,100,237,7],[12,57,140,254,185,70,1,215,15,232,142,169,240,112,157,44,82,40,40,25,2,221,17,214,132,105,198,12,218,226,174,127],[131,64,123,79,43,140,7,240,249,173,227,201,78,216,35,166,127,214,246,82,57,203,160,78,135,65,120,21,95,30,240,230],[0,168,31,30,15,92,187,219,40,204,139,49,18,178,101,2,130,112,177,157,225,94,108,73,86,110,227,56,191,94,7,100],[136,175,235,109,48,19,25,55,21,12,91,169,42,26,93,168,35,0,168,167,180,135,198,213,170,199,178,166,217,226,151,196],[193,0,221,209,151,191,131,239,252,215,160,136,237,164,97,91,97,254,170,190,22,211,152,108,93,182,75,172,76,142,210,168]], [[91,169,79,155,218,180,101,61,118,57,205,54,125,172,80,69,169,167,187,50,89,200,240,3,235,252,88,49,159,184,185,125],[102,125,200,18,18,34,155,67,110,254,7,114,125,93,27,223,212,199,175,124,231,163,255,58,175,70,248,183,188,109,82,190],[67,225,14,104,17,242,188,201,27,48,6,153,199,215,46,81,227,108,96,188,171,13,45,243,240,234,108,69,64,16,91,203],[150,21,172,184,137,157,74,138,49,240,142,77,78,66,138,7,254,97,201,141,238,13,170,188,204,128,221,228,168,199,53,12],[61,207,113,208,174,42,105,167,106,18,228,212,40,252,154,226,213,158,242,12,210,242,144,125,80,214,66,48,140,226,165,115],[62,77,183,197,118,225,131,255,159,23,232,76,35,245,96,199,110,180,104,145,92,4,243,178,129,0,96,249,139,69,88,199],[204,158,94,213,245,234,44,178,214,56,255,162,107,239,191,22,42,180,225,109,106,114,106,131,157,95,202,78,172,212,79,97],[203,249,174,40,193,250,228,18,169,115,127,52,12,157,155,187,0,235,163,215,47,169,17,36,234,253,88,220,3,236,229,242],[131,16,220,63,45,54,208,237,69,5,131,128,86,251,81,56,93,122,74,93,108,23,94,90,227,177,89,57,211,138,247,105],[106,143,200,139,11,159,149,205,65,15,159,169,166,164,122,227,106,80,190,17,132,72,112,64,215,254,126,189,176,158,52,114],[123,235,225,86,78,63,60,99,137,233,236,60,239,151,9,214,53,84,189,25,10,141,72,170,169,253,226,31,3,204,25,239],[50,27,194,169,204,125,0,28,123,176,211,234,187,162,121,210,91,251,234,68,149,26,255,113,35,63,72,183,30,97,56,175],[105,26,151,125,65,212,244,244,112,204,167,162,223,97,52,254,43,217,141,190,223,54,57,91,9,126,33,178,72,123,34,25],[31,50,117,228,229,105,88,123,84,180,178,130,139,44,250,183,133,97,28,24,165,168,44,52,21,149,172,137,216,82,4,116],[80,134,175,154,133,205,52,173,1,254,97,115,92,225,115,66,79,6,116,73,152,165,68,202,255,60,224,143,13,62,67,13],[46,162,26,33,51,231,104,245,228,177,166,15,102,18,190,74,234,132,234,18,19,176,28,135,173,233,224,170,71,233,183,25],[123,94,148,222,86,43,100,73,57,16,1,224,205,15,179,40,167,112,37,225,193,234,174,37,23,105,59,18,31,181,170,141],[68,85,14,130,143,136,242,28,130,113,96,42,247,39,124,40,224,10,7,194,150,93,61,97,89,23,189,7,6,113,174,248],[77,60,9,175,191,227,99,233,199,107,34,27,183,131,45,168,99,89,99,53,231,55,168,105,73,128,163,171,166,114,236,254],[237,76,177,90,54,60,25,201,207,93,195,105,144,94,152,116,20,41,73,227,5,162,218,30,110,238,57,117,35,41,125,170],[42,175,216,63,52,206,185,140,129,213,140,51,181,242,228,159,168,184,51,191,130,101,144,182,235,37,5,213,223,44,103,97],[234,137,103,94,151,170,13,69,157,223,5,245,75,5,214,36,30,63,49,208,23,39,220,119,139,25,245,129,208,171,216,73],[137,81,162,65,127,187,207,19,110,55,95,241,97,183,229,211,149,178,203,167,234,202,90,132,186,224,10,214,219,140,189,225],[154,176,182,199,125,4,15,219,63,163,228,66,92,22,129,88,183,119,92,248,20,29,25,155,169,194,113,173,1,215,0,60],[208,68,151,53,26,83,192,214,253,107,187,193,194,12,11,59,186,175,228,125,38,49,177,14,133,224,174,62,62,91,37,136],[5,89,255,33,87,78,218,125,82,93,40,110,207,128,65,117,187,103,95,96,11,36,136,63,217,219,223,88,6,4,96,219],[200,226,130,236,192,48,49,243,91,233,82,196,162,99,182,88,125,186,61,193,213,101,98,215,27,13,212,158,69,186,57,133],[153,123,213,68,11,104,177,167,116,158,84,104,79,128,165,102,216,156,218,77,199,149,40,215,131,120,68,193,230,165,247,88],[83,87,42,160,55,75,6,215,147,24,119,91,45,232,22,61,162,209,191,0,128,231,25,91,66,203,24,151,3,25,51,200],[4,11,148,22,74,112,220,128,12,141,99,25,209,124,237,50,37,136,41,163,115,194,197,254,166,170,195,236,69,60,181,87],[201,244,51,23,18,206,124,115,252,5,15,70,26,72,191,242,75,195,24,82,151,134,109,46,77,53,52,63,68,178,222,16],[16,114,203,3,63,182,144,12,88,155,207,20,22,194,78,177,8,21,241,32,194,237,90,224,5,136,20,177,136,112,206,22],[54,44,89,209,211,28,106,66,96,102,163,244,8,156,251,252,95,148,14,185,154,50,105,86,68,82,60,195,66,163,35,4],[154,84,59,182,198,89,225,92,24,219,150,218,142,152,217,141,193,204,64,204,237,239,201,247,8,255,229,90,125,73,25,173],[191,27,189,174,208,35,134,76,204,197,168,164,143,86,70,142,231,14,240,121,195,47,16,191,129,202,91,164,45,86,70,39],[149,184,45,31,72,7,248,200,15,41,9,185,69,3,113,172,63,241,181,12,161,198,83,38,164,56,144,237,51,23,18,111],[236,116,204,128,204,46,90,14,42,184,5,72,149,241,42,63,91,230,139,127,13,69,72,254,193,193,71,187,97,127,119,156],[198,226,105,218,189,184,103,132,12,179,175,251,78,168,209,201,90,239,107,89,82,21,202,230,106,123,42,78,229,3,252,66],[181,75,84,242,27,96,28,248,77,117,14,50,1,80,207,165,219,125,180,235,151,117,65,76,97,212,70,164,238,210,241,117],[160,29,67,163,36,3,170,138,170,20,196,36,77,120,120,37,231,214,164,109,37,174,161,180,129,0,105,140,183,194,0,1],[15,243,88,205,25,30,81,111,236,37,184,76,29,122,108,177,89,97,15,212,54,109,208,130,92,28,218,47,45,122,146,66],[47,62,92,180,10,216,72,127,120,7,241,2,147,38,143,9,235,198,216,197,82,232,139,174,207,200,240,14,2,218,159,66],[133,137,239,150,119,195,46,160,53,159,98,47,46,171,78,151,32,151,170,48,217,252,118,27,39,170,101,180,242,242,249,249],[191,129,6,52,30,46,228,73,175,67,2,255,134,131,243,88,254,229,107,142,187,91,72,197,234,236,40,88,240,161,119,125],[139,97,35,30,247,3,133,218,235,174,26,18,119,78,175,18,192,249,141,160,99,250,223,251,42,1,43,21,163,164,73,112],[172,13,249,43,44,168,2,130,168,232,237,158,205,90,212,38,153,122,223,155,84,207,93,163,150,184,167,50,18,212,172,58],[244,237,115,91,115,117,204,109,135,253,172,119,61,131,138,239,52,192,68,17,245,201,184,55,10,157,160,238,189,201,60,62],[131,240,169,49,4,247,107,44,114,41,90,170,114,187,153,53,51,51,158,3,104,24,164,122,26,83,202,187,214,82,13,228],[140,91,230,69,39,255,170,92,147,55,198,67,10,84,119,55,234,236,100,142,32,17,1,101,205,187,210,7,44,242,195,210],[41,75,231,228,164,218,130,219,135,129,240,78,122,180,118,237,107,134,82,176,116,77,62,120,184,10,56,102,24,24,184,78],[38,156,55,173,35,182,244,60,166,107,172,55,75,121,67,193,91,57,74,186,200,212,205,8,163,243,99,123,101,173,11,146],[112,221,131,194,115,90,71,207,57,198,136,233,57,142,29,5,161,246,230,214,217,157,78,71,21,114,7,154,127,138,29,62],[214,245,122,178,50,163,160,100,155,26,114,21,71,130,2,24,136,254,67,255,107,147,11,187,130,98,181,2,48,118,27,9],[197,76,90,142,144,140,238,182,152,58,145,4,22,43,31,16,16,3,155,246,114,124,161,53,166,197,5,76,12,44,175,222],[119,2,1,18,41,58,139,222,86,229,210,201,157,170,213,234,102,150,8,247,237,115,154,209,49,5,75,243,82,222,83,7],[139,246,4,208,167,100,10,236,199,228,203,118,178,0,136,112,129,250,98,133,221,41,158,115,250,95,42,231,201,187,49,41],[181,145,104,226,240,135,169,200,24,8,22,229,175,194,113,195,138,179,102,89,176,158,242,110,57,22,178,91,192,168,175,125],[24,49,12,84,234,67,1,189,154,17,43,54,155,251,17,225,66,4,37,186,106,62,90,15,167,4,73,28,229,227,154,142],[219,75,18,160,43,195,57,172,255,4,195,209,214,176,195,27,17,136,234,182,120,62,75,125,173,16,175,90,100,222,211,102],[130,142,118,113,85,249,100,227,44,182,9,138,67,203,116,45,24,156,248,67,231,89,172,111,180,128,207,238,137,91,164,100],[21,166,181,99,121,163,2,74,248,202,182,32,200,130,128,126,175,116,72,254,243,237,30,7,121,177,185,108,140,85,58,205],[42,226,182,84,191,166,16,199,84,226,133,122,254,30,25,159,190,139,56,109,174,20,245,38,11,38,36,188,188,141,30,229],[244,150,6,101,197,142,77,1,217,21,127,255,254,61,111,65,39,250,100,74,115,62,3,170,164,234,231,11,121,178,71,115],[107,218,187,119,38,123,171,213,30,49,64,72,187,254,154,251,187,57,84,181,109,150,69,32,104,33,28,67,209,2,38,85]],{from: accounts[2]});
  });
  it('Should fail submitUserVotes(bytes32[],bytes32[]) when NOT comply with: msg.sender == _owner', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractPaymentTokenMock.address,accounts[9],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+913,{from:accounts[2]});
    let result = await truffleAssert.fails(localOnChainVoting.submitUserVotes([[223,100,190,137,100,62,252,99,61,25,223,62,97,193,221,83,130,96,213,145,46,254,65,135,95,26,223,182,252,102,82,235],[158,98,93,13,6,221,176,106,236,29,161,158,95,177,120,37,2,12,42,221,66,141,243,21,150,107,138,198,72,250,49,220],[127,225,224,197,120,209,220,179,43,67,239,19,149,178,22,248,249,25,176,12,26,249,218,106,109,173,220,239,113,229,179,116],[167,175,43,246,189,19,158,153,24,176,124,76,98,69,185,94,91,142,227,209,242,218,4,93,116,202,176,190,52,13,185,153],[243,176,0,247,53,49,75,206,58,176,118,101,23,138,224,141,53,159,148,196,18,5,163,76,147,107,151,23,66,33,209,252],[54,186,37,140,113,66,21,8,196,229,95,64,10,178,85,52,62,163,164,114,120,226,223,194,179,83,64,111,176,103,213,133],[0,211,180,41,34,34,112,67,79,108,184,86,6,200,233,178,245,41,1,32,190,56,136,229,204,19,73,144,132,57,133,25],[167,136,250,47,72,7,113,101,147,88,250,15,137,114,87,224,116,194,50,17,39,159,253,101,183,246,37,95,161,31,50,176],[234,46,214,190,143,111,211,191,254,218,103,254,217,215,76,216,23,82,159,232,102,112,127,87,163,246,220,215,161,138,69,165],[80,77,69,178,154,189,91,128,159,7,147,64,24,134,69,142,166,23,232,78,140,238,36,202,207,209,30,65,85,243,215,33],[86,2,235,42,167,241,233,130,51,29,9,142,167,243,220,189,228,108,213,12,125,92,212,51,105,119,65,34,93,174,163,39],[110,106,190,247,89,141,156,170,196,90,170,94,74,241,5,63,222,211,56,172,213,15,138,218,106,180,25,195,58,61,250,78],[105,61,145,73,232,189,136,202,228,212,38,24,223,163,95,251,83,92,218,172,2,40,253,53,102,137,62,7,254,126,193,119],[210,206,76,193,211,242,128,141,26,60,208,86,24,224,143,213,129,6,235,219,23,196,20,170,95,243,13,69,157,165,246,163],[200,11,122,136,162,111,129,180,68,116,170,62,175,188,143,233,77,69,165,97,143,48,230,226,227,158,192,21,133,243,43,107],[99,189,252,90,213,161,253,180,40,228,31,21,30,243,156,67,166,229,21,189,199,80,221,40,2,144,49,38,58,116,178,47],[252,65,132,246,134,221,35,103,200,156,115,42,75,249,253,146,241,1,162,120,122,184,228,164,147,162,110,137,2,116,142,232],[5,213,210,232,130,138,215,56,204,48,80,202,52,97,235,50,98,81,59,130,59,166,154,59,84,172,189,64,219,115,91,169],[37,153,18,100,84,236,64,97,231,137,249,108,20,117,132,128,8,55,8,127,135,192,216,35,66,93,14,54,74,78,207,228],[218,79,233,117,145,110,75,54,35,71,15,146,2,141,190,212,3,252,249,252,23,123,177,98,159,46,63,147,62,86,190,50],[196,225,211,195,19,164,25,254,248,78,110,159,90,214,170,76,170,114,107,211,205,254,173,169,112,89,66,49,124,182,183,115],[129,80,202,225,255,137,5,111,118,166,25,241,24,14,238,53,248,174,61,101,94,150,241,132,77,118,172,104,56,8,28,172],[182,51,248,49,86,179,177,232,197,235,128,218,204,93,5,19,17,114,169,4,171,200,237,170,161,133,128,23,203,229,222,128],[127,61,129,55,29,89,19,135,222,219,123,39,83,48,133,129,226,154,53,65,212,145,169,122,85,125,207,144,254,145,193,70],[9,27,0,202,32,136,158,160,226,75,233,140,39,65,3,5,148,1,180,249,168,25,249,76,193,16,38,89,229,84,67,244],[12,87,241,238,99,126,181,190,178,161,217,205,0,110,93,133,157,72,124,42,181,180,249,170,101,6,159,138,157,203,156,53],[176,74,133,116,125,22,125,211,132,194,118,136,8,109,245,184,83,1,185,117,228,91,131,164,101,116,9,83,218,105,182,31],[169,104,8,16,230,31,79,73,152,14,169,194,108,107,224,246,57,48,201,142,107,232,137,214,61,156,220,101,206,104,54,52],[229,21,73,7,205,104,153,121,125,73,174,90,162,230,165,233,245,110,46,178,218,220,19,9,183,252,26,44,247,201,45,202],[210,68,236,111,40,140,241,190,186,192,24,148,197,153,7,180,82,30,233,241,50,150,98,158,116,155,202,192,232,183,179,60],[229,137,163,40,153,111,232,143,132,57,104,142,130,21,47,23,157,247,28,42,213,210,131,209,118,240,186,88,40,127,75,183],[82,110,73,212,250,171,116,50,83,251,1,115,139,229,141,66,87,111,141,28,170,186,61,40,136,98,157,171,160,226,29,122],[185,214,18,198,13,45,16,144,56,103,7,163,233,148,217,12,71,219,127,6,42,240,178,236,85,203,160,203,128,199,10,27],[123,111,141,67,102,200,161,216,56,29,21,47,248,32,44,108,50,253,245,121,58,149,142,10,168,136,254,30,246,237,172,106],[79,172,34,135,246,223,198,212,189,192,123,11,21,135,150,33,206,235,23,158,171,114,58,201,246,90,248,238,92,43,8,90],[91,143,90,7,124,24,149,131,146,32,73,134,250,66,164,181,248,104,72,254,214,224,108,212,207,7,192,9,52,61,64,107],[110,254,251,46,99,164,31,24,127,36,102,232,4,55,169,27,150,54,44,55,45,210,98,126,239,92,21,30,88,254,238,83],[165,16,218,153,150,161,67,186,105,105,178,2,85,145,118,247,165,110,165,114,25,120,44,194,139,172,163,144,30,133,222,120],[82,252,52,79,197,43,75,174,12,57,55,249,69,162,53,83,204,47,20,41,34,234,77,14,138,104,179,169,169,13,166,94],[113,143,52,225,16,141,247,199,196,135,101,144,180,116,252,199,110,10,187,65,215,167,235,49,46,162,254,193,88,148,199,99],[112,195,155,49,140,30,111,201,187,73,86,132,113,183,63,156,32,158,109,198,89,54,125,23,144,189,253,89,225,170,178,88],[59,115,30,2,212,179,12,155,1,251,218,212,251,13,16,53,32,248,13,67,155,34,39,185,238,178,25,100,152,199,203,229],[159,43,202,253,122,132,197,133,144,28,19,6,24,12,67,100,121,26,150,19,110,24,93,233,9,116,122,222,223,220,13,80],[121,125,36,58,243,187,207,161,80,85,141,221,236,32,45,162,204,103,96,200,18,163,120,19,12,196,158,198,159,115,19,25],[5,247,254,100,42,57,74,162,192,42,74,109,39,171,49,43,126,52,233,239,252,12,17,185,219,158,252,26,60,200,7,253],[95,117,179,23,61,47,66,81,88,117,78,47,242,111,51,47,60,82,78,7,253,207,65,55,135,96,194,250,39,13,241,35],[140,84,205,32,91,34,72,95,85,210,164,74,252,32,137,213,36,185,6,34,207,139,216,251,73,120,92,234,88,168,206,233],[231,145,108,54,35,43,234,10,247,230,143,207,49,139,211,191,48,113,38,99,152,213,22,98,230,167,244,68,127,248,233,220],[93,224,15,43,168,80,232,166,79,83,28,119,129,93,214,53,116,187,94,83,87,163,58,221,82,38,35,198,99,104,70,50],[4,121,224,83,199,26,134,67,33,136,196,250,209,213,172,133,237,245,234,96,171,117,60,152,254,130,77,223,203,16,95,202],[11,129,232,122,70,70,30,14,210,76,246,143,3,32,146,236,66,232,85,150,181,51,117,92,215,211,168,189,9,142,179,143],[190,57,192,252,242,120,46,19,106,190,15,24,26,58,94,19,147,220,143,85,222,82,59,190,63,133,223,81,182,63,29,178],[176,184,41,83,35,190,93,98,225,160,92,173,38,152,64,250,41,148,205,14,35,225,46,253,249,132,157,107,74,247,126,171],[154,109,91,59,153,170,27,84,73,123,189,14,122,27,94,133,148,199,211,9,170,91,44,143,148,29,13,159,68,242,243,217],[21,69,170,37,250,40,150,166,23,237,227,239,197,152,119,242,169,68,98,167,235,162,228,26,103,225,238,79,132,34,217,124],[135,12,19,214,193,204,246,58,1,85,234,196,37,190,141,42,42,220,80,48,124,249,155,57,134,249,51,71,67,3,131,153],[154,113,211,146,67,190,186,205,249,52,11,43,13,233,200,253,77,92,25,108,187,89,216,74,189,85,112,49,134,10,101,87],[67,200,191,96,86,224,76,250,197,142,221,63,121,63,22,64,139,159,196,124,98,5,69,240,175,108,194,221,31,154,250,155],[85,101,109,89,235,62,108,246,198,193,226,250,184,197,141,217,84,25,201,167,40,170,72,75,155,36,126,148,96,100,237,7],[12,57,140,254,185,70,1,215,15,232,142,169,240,112,157,44,82,40,40,25,2,221,17,214,132,105,198,12,218,226,174,127],[131,64,123,79,43,140,7,240,249,173,227,201,78,216,35,166,127,214,246,82,57,203,160,78,135,65,120,21,95,30,240,230],[0,168,31,30,15,92,187,219,40,204,139,49,18,178,101,2,130,112,177,157,225,94,108,73,86,110,227,56,191,94,7,100],[136,175,235,109,48,19,25,55,21,12,91,169,42,26,93,168,35,0,168,167,180,135,198,213,170,199,178,166,217,226,151,196],[193,0,221,209,151,191,131,239,252,215,160,136,237,164,97,91,97,254,170,190,22,211,152,108,93,182,75,172,76,142,210,168]], [[91,169,79,155,218,180,101,61,118,57,205,54,125,172,80,69,169,167,187,50,89,200,240,3,235,252,88,49,159,184,185,125],[102,125,200,18,18,34,155,67,110,254,7,114,125,93,27,223,212,199,175,124,231,163,255,58,175,70,248,183,188,109,82,190],[67,225,14,104,17,242,188,201,27,48,6,153,199,215,46,81,227,108,96,188,171,13,45,243,240,234,108,69,64,16,91,203],[150,21,172,184,137,157,74,138,49,240,142,77,78,66,138,7,254,97,201,141,238,13,170,188,204,128,221,228,168,199,53,12],[61,207,113,208,174,42,105,167,106,18,228,212,40,252,154,226,213,158,242,12,210,242,144,125,80,214,66,48,140,226,165,115],[62,77,183,197,118,225,131,255,159,23,232,76,35,245,96,199,110,180,104,145,92,4,243,178,129,0,96,249,139,69,88,199],[204,158,94,213,245,234,44,178,214,56,255,162,107,239,191,22,42,180,225,109,106,114,106,131,157,95,202,78,172,212,79,97],[203,249,174,40,193,250,228,18,169,115,127,52,12,157,155,187,0,235,163,215,47,169,17,36,234,253,88,220,3,236,229,242],[131,16,220,63,45,54,208,237,69,5,131,128,86,251,81,56,93,122,74,93,108,23,94,90,227,177,89,57,211,138,247,105],[106,143,200,139,11,159,149,205,65,15,159,169,166,164,122,227,106,80,190,17,132,72,112,64,215,254,126,189,176,158,52,114],[123,235,225,86,78,63,60,99,137,233,236,60,239,151,9,214,53,84,189,25,10,141,72,170,169,253,226,31,3,204,25,239],[50,27,194,169,204,125,0,28,123,176,211,234,187,162,121,210,91,251,234,68,149,26,255,113,35,63,72,183,30,97,56,175],[105,26,151,125,65,212,244,244,112,204,167,162,223,97,52,254,43,217,141,190,223,54,57,91,9,126,33,178,72,123,34,25],[31,50,117,228,229,105,88,123,84,180,178,130,139,44,250,183,133,97,28,24,165,168,44,52,21,149,172,137,216,82,4,116],[80,134,175,154,133,205,52,173,1,254,97,115,92,225,115,66,79,6,116,73,152,165,68,202,255,60,224,143,13,62,67,13],[46,162,26,33,51,231,104,245,228,177,166,15,102,18,190,74,234,132,234,18,19,176,28,135,173,233,224,170,71,233,183,25],[123,94,148,222,86,43,100,73,57,16,1,224,205,15,179,40,167,112,37,225,193,234,174,37,23,105,59,18,31,181,170,141],[68,85,14,130,143,136,242,28,130,113,96,42,247,39,124,40,224,10,7,194,150,93,61,97,89,23,189,7,6,113,174,248],[77,60,9,175,191,227,99,233,199,107,34,27,183,131,45,168,99,89,99,53,231,55,168,105,73,128,163,171,166,114,236,254],[237,76,177,90,54,60,25,201,207,93,195,105,144,94,152,116,20,41,73,227,5,162,218,30,110,238,57,117,35,41,125,170],[42,175,216,63,52,206,185,140,129,213,140,51,181,242,228,159,168,184,51,191,130,101,144,182,235,37,5,213,223,44,103,97],[234,137,103,94,151,170,13,69,157,223,5,245,75,5,214,36,30,63,49,208,23,39,220,119,139,25,245,129,208,171,216,73],[137,81,162,65,127,187,207,19,110,55,95,241,97,183,229,211,149,178,203,167,234,202,90,132,186,224,10,214,219,140,189,225],[154,176,182,199,125,4,15,219,63,163,228,66,92,22,129,88,183,119,92,248,20,29,25,155,169,194,113,173,1,215,0,60],[208,68,151,53,26,83,192,214,253,107,187,193,194,12,11,59,186,175,228,125,38,49,177,14,133,224,174,62,62,91,37,136],[5,89,255,33,87,78,218,125,82,93,40,110,207,128,65,117,187,103,95,96,11,36,136,63,217,219,223,88,6,4,96,219],[200,226,130,236,192,48,49,243,91,233,82,196,162,99,182,88,125,186,61,193,213,101,98,215,27,13,212,158,69,186,57,133],[153,123,213,68,11,104,177,167,116,158,84,104,79,128,165,102,216,156,218,77,199,149,40,215,131,120,68,193,230,165,247,88],[83,87,42,160,55,75,6,215,147,24,119,91,45,232,22,61,162,209,191,0,128,231,25,91,66,203,24,151,3,25,51,200],[4,11,148,22,74,112,220,128,12,141,99,25,209,124,237,50,37,136,41,163,115,194,197,254,166,170,195,236,69,60,181,87],[201,244,51,23,18,206,124,115,252,5,15,70,26,72,191,242,75,195,24,82,151,134,109,46,77,53,52,63,68,178,222,16],[16,114,203,3,63,182,144,12,88,155,207,20,22,194,78,177,8,21,241,32,194,237,90,224,5,136,20,177,136,112,206,22],[54,44,89,209,211,28,106,66,96,102,163,244,8,156,251,252,95,148,14,185,154,50,105,86,68,82,60,195,66,163,35,4],[154,84,59,182,198,89,225,92,24,219,150,218,142,152,217,141,193,204,64,204,237,239,201,247,8,255,229,90,125,73,25,173],[191,27,189,174,208,35,134,76,204,197,168,164,143,86,70,142,231,14,240,121,195,47,16,191,129,202,91,164,45,86,70,39],[149,184,45,31,72,7,248,200,15,41,9,185,69,3,113,172,63,241,181,12,161,198,83,38,164,56,144,237,51,23,18,111],[236,116,204,128,204,46,90,14,42,184,5,72,149,241,42,63,91,230,139,127,13,69,72,254,193,193,71,187,97,127,119,156],[198,226,105,218,189,184,103,132,12,179,175,251,78,168,209,201,90,239,107,89,82,21,202,230,106,123,42,78,229,3,252,66],[181,75,84,242,27,96,28,248,77,117,14,50,1,80,207,165,219,125,180,235,151,117,65,76,97,212,70,164,238,210,241,117],[160,29,67,163,36,3,170,138,170,20,196,36,77,120,120,37,231,214,164,109,37,174,161,180,129,0,105,140,183,194,0,1],[15,243,88,205,25,30,81,111,236,37,184,76,29,122,108,177,89,97,15,212,54,109,208,130,92,28,218,47,45,122,146,66],[47,62,92,180,10,216,72,127,120,7,241,2,147,38,143,9,235,198,216,197,82,232,139,174,207,200,240,14,2,218,159,66],[133,137,239,150,119,195,46,160,53,159,98,47,46,171,78,151,32,151,170,48,217,252,118,27,39,170,101,180,242,242,249,249],[191,129,6,52,30,46,228,73,175,67,2,255,134,131,243,88,254,229,107,142,187,91,72,197,234,236,40,88,240,161,119,125],[139,97,35,30,247,3,133,218,235,174,26,18,119,78,175,18,192,249,141,160,99,250,223,251,42,1,43,21,163,164,73,112],[172,13,249,43,44,168,2,130,168,232,237,158,205,90,212,38,153,122,223,155,84,207,93,163,150,184,167,50,18,212,172,58],[244,237,115,91,115,117,204,109,135,253,172,119,61,131,138,239,52,192,68,17,245,201,184,55,10,157,160,238,189,201,60,62],[131,240,169,49,4,247,107,44,114,41,90,170,114,187,153,53,51,51,158,3,104,24,164,122,26,83,202,187,214,82,13,228],[140,91,230,69,39,255,170,92,147,55,198,67,10,84,119,55,234,236,100,142,32,17,1,101,205,187,210,7,44,242,195,210],[41,75,231,228,164,218,130,219,135,129,240,78,122,180,118,237,107,134,82,176,116,77,62,120,184,10,56,102,24,24,184,78],[38,156,55,173,35,182,244,60,166,107,172,55,75,121,67,193,91,57,74,186,200,212,205,8,163,243,99,123,101,173,11,146],[112,221,131,194,115,90,71,207,57,198,136,233,57,142,29,5,161,246,230,214,217,157,78,71,21,114,7,154,127,138,29,62],[214,245,122,178,50,163,160,100,155,26,114,21,71,130,2,24,136,254,67,255,107,147,11,187,130,98,181,2,48,118,27,9],[197,76,90,142,144,140,238,182,152,58,145,4,22,43,31,16,16,3,155,246,114,124,161,53,166,197,5,76,12,44,175,222],[119,2,1,18,41,58,139,222,86,229,210,201,157,170,213,234,102,150,8,247,237,115,154,209,49,5,75,243,82,222,83,7],[139,246,4,208,167,100,10,236,199,228,203,118,178,0,136,112,129,250,98,133,221,41,158,115,250,95,42,231,201,187,49,41],[181,145,104,226,240,135,169,200,24,8,22,229,175,194,113,195,138,179,102,89,176,158,242,110,57,22,178,91,192,168,175,125],[24,49,12,84,234,67,1,189,154,17,43,54,155,251,17,225,66,4,37,186,106,62,90,15,167,4,73,28,229,227,154,142],[219,75,18,160,43,195,57,172,255,4,195,209,214,176,195,27,17,136,234,182,120,62,75,125,173,16,175,90,100,222,211,102],[130,142,118,113,85,249,100,227,44,182,9,138,67,203,116,45,24,156,248,67,231,89,172,111,180,128,207,238,137,91,164,100],[21,166,181,99,121,163,2,74,248,202,182,32,200,130,128,126,175,116,72,254,243,237,30,7,121,177,185,108,140,85,58,205],[42,226,182,84,191,166,16,199,84,226,133,122,254,30,25,159,190,139,56,109,174,20,245,38,11,38,36,188,188,141,30,229],[244,150,6,101,197,142,77,1,217,21,127,255,254,61,111,65,39,250,100,74,115,62,3,170,164,234,231,11,121,178,71,115],[107,218,187,119,38,123,171,213,30,49,64,72,187,254,154,251,187,57,84,181,109,150,69,32,104,33,28,67,209,2,38,85]],{from: accounts[9]}),'revert');
  });
  it('Should fail submitUserVotes(bytes32[],bytes32[]) when NOT comply with: _usersSaltHash.length == _usersVote.length', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractPaymentTokenMock.address,accounts[9],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+913,{from:accounts[2]});
    let result = await truffleAssert.fails(localOnChainVoting.submitUserVotes([[31,234,53,71,165,179,70,200,137,61,230,156,167,192,166,212,87,120,180,212,240,81,100,248,126,148,219,72,16,116,12,140],[133,14,238,141,243,99,221,89,101,128,7,23,49,248,180,133,35,129,162,116,110,149,59,19,12,157,135,7,44,20,151,42],[171,74,147,217,120,226,224,104,64,253,111,14,197,43,57,116,136,231,51,28,32,30,194,241,205,84,117,218,248,2,144,80],[51,227,245,60,207,70,136,171,82,59,208,235,143,113,200,129,100,199,207,66,154,18,119,127,52,125,139,27,96,65,200,186],[23,178,157,134,229,75,213,101,46,99,216,21,46,94,7,13,205,116,86,3,215,33,52,148,38,225,233,156,67,61,50,249],[241,170,159,117,2,157,238,236,162,251,121,82,40,236,242,37,243,163,214,82,5,74,25,114,190,71,43,210,137,202,44,191],[117,128,148,45,226,133,66,251,149,0,137,112,221,130,83,92,50,19,211,253,28,232,161,136,246,20,176,128,107,156,163,180],[186,206,35,118,131,55,164,77,18,9,105,48,111,226,139,201,20,99,47,219,124,179,95,121,153,73,246,15,95,57,122,21],[113,115,117,145,135,10,168,207,111,151,177,191,25,97,175,119,81,155,153,76,23,247,36,182,9,102,215,75,105,222,92,229],[122,106,153,194,134,36,253,254,59,91,55,126,161,90,196,81,153,67,31,66,119,12,246,222,90,25,111,7,56,230,37,161],[73,136,140,109,21,74,28,217,208,24,109,195,38,227,76,178,22,49,187,96,176,59,84,207,3,84,190,105,231,81,170,15],[127,14,148,220,19,252,129,236,76,33,63,166,57,234,151,248,78,46,85,247,82,196,155,36,196,182,144,11,2,214,75,188],[51,151,200,107,58,218,113,43,74,39,183,95,246,88,62,247,107,93,184,38,155,9,33,20,130,23,151,73,183,142,26,31],[128,217,217,185,90,217,2,37,110,123,243,156,138,201,82,22,62,15,53,10,34,45,246,73,118,178,11,171,112,21,173,106],[55,130,216,31,173,226,57,179,3,38,94,31,224,121,47,138,182,65,243,196,158,136,217,28,104,11,132,154,126,112,205,253],[7,55,115,253,35,248,19,97,65,167,188,147,168,232,164,220,104,61,247,81,235,19,156,251,217,3,152,61,93,12,181,23],[97,7,78,211,199,84,71,131,187,1,151,150,152,169,239,16,21,212,69,198,101,113,63,156,164,95,105,89,81,136,182,187],[243,196,212,203,56,190,86,198,116,70,183,62,148,150,10,124,163,201,247,106,5,46,108,190,161,4,181,10,216,69,167,201],[54,142,215,80,81,125,47,95,63,111,4,75,45,215,159,115,193,93,175,10,226,3,9,11,151,143,165,206,203,63,47,215],[36,32,216,199,19,134,182,227,160,4,127,238,66,164,105,1,242,228,57,1,239,6,223,10,195,210,167,111,195,14,46,26],[236,249,141,107,78,198,59,51,119,31,242,159,191,49,183,129,172,99,107,41,8,186,79,74,108,57,186,146,59,44,97,52],[140,31,137,193,0,129,149,240,239,113,163,208,93,248,228,185,159,66,129,1,142,224,253,142,142,181,109,234,11,193,82,159],[10,183,194,101,40,38,95,98,57,191,18,105,56,30,13,47,86,72,203,117,82,215,173,215,233,97,180,149,67,252,144,111],[12,58,167,96,73,79,128,28,104,129,119,71,9,74,54,172,205,116,102,118,197,57,96,180,123,128,78,142,39,231,88,72],[87,96,188,79,59,85,99,181,60,167,203,196,65,20,154,237,78,65,57,245,222,29,255,109,169,201,53,241,241,81,246,81],[182,99,22,239,7,185,8,131,186,236,175,74,165,200,186,111,36,117,183,143,205,60,139,198,58,58,214,156,139,36,216,60],[188,50,204,62,237,121,56,74,72,20,145,33,101,156,118,185,72,56,163,224,233,114,213,126,72,103,112,3,15,141,66,246],[195,63,120,210,163,117,254,84,118,63,210,181,110,180,86,142,27,100,142,130,217,193,250,255,126,171,27,80,140,192,27,136],[155,254,37,109,51,5,164,197,77,201,102,187,46,1,223,95,194,245,74,53,185,2,135,210,67,244,232,55,244,127,182,99],[72,120,157,202,167,204,190,41,238,149,98,21,168,179,95,14,50,226,49,131,49,38,231,153,93,240,217,241,137,179,1,64],[20,83,30,84,17,147,165,194,37,13,8,3,134,117,68,104,52,80,236,81,20,252,131,232,237,109,54,10,29,44,87,96],[44,95,65,71,43,118,21,82,64,54,187,5,50,78,125,32,248,31,214,166,172,102,163,93,119,71,52,102,214,9,0,65],[195,165,232,71,107,71,186,179,157,245,26,204,57,104,175,148,72,255,162,89,146,11,217,118,225,60,51,109,222,132,153,129],[110,74,236,106,233,179,202,113,239,137,185,154,193,253,185,53,105,135,236,13,35,192,254,15,214,24,240,52,90,249,3,192],[245,1,68,127,78,11,211,239,117,247,167,13,116,27,64,229,114,216,148,82,3,231,244,30,107,143,233,29,153,198,169,12],[107,244,74,151,81,186,200,112,219,176,69,37,36,248,158,174,129,236,132,142,211,221,127,228,84,219,172,12,165,183,150,226],[74,36,33,54,157,115,153,205,216,156,122,165,170,32,143,173,239,38,1,169,99,0,173,18,146,43,228,28,168,173,184,210],[182,243,138,40,80,15,142,62,173,39,137,1,30,187,154,149,96,32,172,3,110,189,194,190,224,175,233,156,66,194,172,53],[94,225,102,36,47,82,142,167,6,210,66,29,38,121,193,106,137,241,148,13,211,161,127,196,81,217,226,9,195,235,241,243],[201,82,98,57,238,181,113,105,65,200,174,220,250,50,131,43,61,74,201,3,84,93,46,40,127,44,15,37,178,255,145,181],[247,198,238,90,83,99,155,85,139,162,6,225,71,216,79,33,191,112,207,34,140,41,67,65,28,169,52,146,123,117,164,117],[65,221,137,135,51,76,62,176,213,192,177,3,29,172,149,74,130,42,154,24,128,213,36,117,243,85,98,161,104,31,153,215],[161,194,176,220,202,255,221,53,234,39,23,121,66,117,177,37,135,77,58,159,180,182,139,158,5,122,104,102,166,76,210,27],[46,107,196,230,131,235,160,40,212,193,15,220,58,125,255,194,101,155,68,244,96,25,250,181,120,44,219,198,193,89,73,210],[35,54,46,181,159,56,87,142,174,132,66,40,11,144,42,87,40,204,181,16,166,137,126,181,206,62,234,12,251,124,100,202],[173,187,14,186,4,0,23,22,159,74,215,24,215,62,83,0,219,205,158,70,211,48,153,184,122,128,172,12,150,251,161,146],[68,190,60,207,110,169,108,18,109,221,138,46,204,38,36,196,3,107,1,21,240,177,140,29,18,203,193,63,124,51,5,21],[243,90,98,31,8,195,122,240,91,166,173,217,232,1,248,246,135,42,182,54,65,105,133,123,153,99,232,155,7,92,114,220],[86,77,149,47,54,106,118,72,243,170,232,197,139,220,223,21,172,202,81,37,167,250,85,134,191,124,84,118,54,90,42,195],[226,125,42,184,92,73,229,214,164,84,28,212,166,192,33,175,71,47,98,126,68,160,71,131,79,15,249,91,49,118,244,193],[136,169,181,155,32,151,217,244,11,232,31,132,233,192,169,119,66,187,30,65,72,80,169,217,102,85,150,95,182,192,167,115],[91,175,121,156,19,36,94,250,162,73,189,17,135,233,155,21,206,65,166,43,153,214,83,168,13,234,192,131,182,210,209,217],[24,182,64,214,227,80,13,190,46,192,255,240,98,173,38,72,244,189,243,68,152,219,61,41,121,12,171,99,171,161,128,179],[226,217,28,216,105,135,207,122,191,168,98,67,248,74,193,230,82,48,22,250,85,19,251,228,226,91,99,7,239,169,107,209],[171,69,46,210,236,160,249,213,128,219,208,19,116,51,54,252,98,90,164,72,244,224,86,66,203,156,67,14,124,203,53,60],[190,234,25,77,246,148,155,66,76,83,84,241,193,43,169,156,137,147,189,206,199,123,236,17,78,67,185,182,76,75,28,96],[228,87,234,15,208,56,170,19,73,184,11,66,20,184,179,87,52,84,71,100,139,163,100,85,4,11,124,63,91,109,151,64],[83,150,115,228,34,217,180,65,98,198,22,212,89,228,173,131,44,157,233,134,146,14,243,237,51,209,126,162,123,105,69,166],[212,206,88,31,218,14,129,40,131,124,241,166,130,47,99,237,106,23,169,23,161,210,78,179,106,15,134,84,231,124,158,13],[158,69,146,166,230,126,236,98,187,29,211,20,53,10,66,98,29,235,61,234,9,105,5,55,220,36,33,248,136,154,68,3],[248,213,127,60,12,56,253,21,52,53,171,252,247,186,8,64,151,23,114,227,70,44,244,146,30,214,121,113,178,62,244,121],[94,36,219,11,125,180,222,141,145,143,209,104,101,9,224,129,58,118,23,146,35,98,109,77,231,175,86,185,68,125,151,57],[144,207,224,249,83,86,17,186,171,138,74,71,246,102,254,122,171,236,221,208,214,17,143,244,191,1,199,249,177,55,114,180],[158,232,14,207,232,160,234,243,160,242,42,165,87,132,8,146,131,40,52,127,86,117,181,51,200,44,32,237,11,156,224,40],[190,64,164,165,158,138,40,253,246,14,53,181,36,66,240,124,79,197,207,69,42,199,214,76,148,58,135,133,248,52,22,43]], [[91,169,79,155,218,180,101,61,118,57,205,54,125,172,80,69,169,167,187,50,89,200,240,3,235,252,88,49,159,184,185,125],[102,125,200,18,18,34,155,67,110,254,7,114,125,93,27,223,212,199,175,124,231,163,255,58,175,70,248,183,188,109,82,190],[67,225,14,104,17,242,188,201,27,48,6,153,199,215,46,81,227,108,96,188,171,13,45,243,240,234,108,69,64,16,91,203],[150,21,172,184,137,157,74,138,49,240,142,77,78,66,138,7,254,97,201,141,238,13,170,188,204,128,221,228,168,199,53,12],[61,207,113,208,174,42,105,167,106,18,228,212,40,252,154,226,213,158,242,12,210,242,144,125,80,214,66,48,140,226,165,115],[62,77,183,197,118,225,131,255,159,23,232,76,35,245,96,199,110,180,104,145,92,4,243,178,129,0,96,249,139,69,88,199],[204,158,94,213,245,234,44,178,214,56,255,162,107,239,191,22,42,180,225,109,106,114,106,131,157,95,202,78,172,212,79,97],[203,249,174,40,193,250,228,18,169,115,127,52,12,157,155,187,0,235,163,215,47,169,17,36,234,253,88,220,3,236,229,242],[131,16,220,63,45,54,208,237,69,5,131,128,86,251,81,56,93,122,74,93,108,23,94,90,227,177,89,57,211,138,247,105],[106,143,200,139,11,159,149,205,65,15,159,169,166,164,122,227,106,80,190,17,132,72,112,64,215,254,126,189,176,158,52,114],[123,235,225,86,78,63,60,99,137,233,236,60,239,151,9,214,53,84,189,25,10,141,72,170,169,253,226,31,3,204,25,239],[50,27,194,169,204,125,0,28,123,176,211,234,187,162,121,210,91,251,234,68,149,26,255,113,35,63,72,183,30,97,56,175],[105,26,151,125,65,212,244,244,112,204,167,162,223,97,52,254,43,217,141,190,223,54,57,91,9,126,33,178,72,123,34,25],[31,50,117,228,229,105,88,123,84,180,178,130,139,44,250,183,133,97,28,24,165,168,44,52,21,149,172,137,216,82,4,116],[80,134,175,154,133,205,52,173,1,254,97,115,92,225,115,66,79,6,116,73,152,165,68,202,255,60,224,143,13,62,67,13],[46,162,26,33,51,231,104,245,228,177,166,15,102,18,190,74,234,132,234,18,19,176,28,135,173,233,224,170,71,233,183,25],[123,94,148,222,86,43,100,73,57,16,1,224,205,15,179,40,167,112,37,225,193,234,174,37,23,105,59,18,31,181,170,141],[68,85,14,130,143,136,242,28,130,113,96,42,247,39,124,40,224,10,7,194,150,93,61,97,89,23,189,7,6,113,174,248],[77,60,9,175,191,227,99,233,199,107,34,27,183,131,45,168,99,89,99,53,231,55,168,105,73,128,163,171,166,114,236,254],[237,76,177,90,54,60,25,201,207,93,195,105,144,94,152,116,20,41,73,227,5,162,218,30,110,238,57,117,35,41,125,170],[42,175,216,63,52,206,185,140,129,213,140,51,181,242,228,159,168,184,51,191,130,101,144,182,235,37,5,213,223,44,103,97],[234,137,103,94,151,170,13,69,157,223,5,245,75,5,214,36,30,63,49,208,23,39,220,119,139,25,245,129,208,171,216,73],[137,81,162,65,127,187,207,19,110,55,95,241,97,183,229,211,149,178,203,167,234,202,90,132,186,224,10,214,219,140,189,225],[154,176,182,199,125,4,15,219,63,163,228,66,92,22,129,88,183,119,92,248,20,29,25,155,169,194,113,173,1,215,0,60],[208,68,151,53,26,83,192,214,253,107,187,193,194,12,11,59,186,175,228,125,38,49,177,14,133,224,174,62,62,91,37,136],[5,89,255,33,87,78,218,125,82,93,40,110,207,128,65,117,187,103,95,96,11,36,136,63,217,219,223,88,6,4,96,219],[200,226,130,236,192,48,49,243,91,233,82,196,162,99,182,88,125,186,61,193,213,101,98,215,27,13,212,158,69,186,57,133],[153,123,213,68,11,104,177,167,116,158,84,104,79,128,165,102,216,156,218,77,199,149,40,215,131,120,68,193,230,165,247,88],[83,87,42,160,55,75,6,215,147,24,119,91,45,232,22,61,162,209,191,0,128,231,25,91,66,203,24,151,3,25,51,200],[4,11,148,22,74,112,220,128,12,141,99,25,209,124,237,50,37,136,41,163,115,194,197,254,166,170,195,236,69,60,181,87],[201,244,51,23,18,206,124,115,252,5,15,70,26,72,191,242,75,195,24,82,151,134,109,46,77,53,52,63,68,178,222,16],[16,114,203,3,63,182,144,12,88,155,207,20,22,194,78,177,8,21,241,32,194,237,90,224,5,136,20,177,136,112,206,22],[54,44,89,209,211,28,106,66,96,102,163,244,8,156,251,252,95,148,14,185,154,50,105,86,68,82,60,195,66,163,35,4],[154,84,59,182,198,89,225,92,24,219,150,218,142,152,217,141,193,204,64,204,237,239,201,247,8,255,229,90,125,73,25,173],[191,27,189,174,208,35,134,76,204,197,168,164,143,86,70,142,231,14,240,121,195,47,16,191,129,202,91,164,45,86,70,39],[149,184,45,31,72,7,248,200,15,41,9,185,69,3,113,172,63,241,181,12,161,198,83,38,164,56,144,237,51,23,18,111],[236,116,204,128,204,46,90,14,42,184,5,72,149,241,42,63,91,230,139,127,13,69,72,254,193,193,71,187,97,127,119,156],[198,226,105,218,189,184,103,132,12,179,175,251,78,168,209,201,90,239,107,89,82,21,202,230,106,123,42,78,229,3,252,66],[181,75,84,242,27,96,28,248,77,117,14,50,1,80,207,165,219,125,180,235,151,117,65,76,97,212,70,164,238,210,241,117],[160,29,67,163,36,3,170,138,170,20,196,36,77,120,120,37,231,214,164,109,37,174,161,180,129,0,105,140,183,194,0,1],[15,243,88,205,25,30,81,111,236,37,184,76,29,122,108,177,89,97,15,212,54,109,208,130,92,28,218,47,45,122,146,66],[47,62,92,180,10,216,72,127,120,7,241,2,147,38,143,9,235,198,216,197,82,232,139,174,207,200,240,14,2,218,159,66],[133,137,239,150,119,195,46,160,53,159,98,47,46,171,78,151,32,151,170,48,217,252,118,27,39,170,101,180,242,242,249,249],[191,129,6,52,30,46,228,73,175,67,2,255,134,131,243,88,254,229,107,142,187,91,72,197,234,236,40,88,240,161,119,125],[139,97,35,30,247,3,133,218,235,174,26,18,119,78,175,18,192,249,141,160,99,250,223,251,42,1,43,21,163,164,73,112],[172,13,249,43,44,168,2,130,168,232,237,158,205,90,212,38,153,122,223,155,84,207,93,163,150,184,167,50,18,212,172,58],[244,237,115,91,115,117,204,109,135,253,172,119,61,131,138,239,52,192,68,17,245,201,184,55,10,157,160,238,189,201,60,62],[131,240,169,49,4,247,107,44,114,41,90,170,114,187,153,53,51,51,158,3,104,24,164,122,26,83,202,187,214,82,13,228],[140,91,230,69,39,255,170,92,147,55,198,67,10,84,119,55,234,236,100,142,32,17,1,101,205,187,210,7,44,242,195,210],[41,75,231,228,164,218,130,219,135,129,240,78,122,180,118,237,107,134,82,176,116,77,62,120,184,10,56,102,24,24,184,78],[38,156,55,173,35,182,244,60,166,107,172,55,75,121,67,193,91,57,74,186,200,212,205,8,163,243,99,123,101,173,11,146],[112,221,131,194,115,90,71,207,57,198,136,233,57,142,29,5,161,246,230,214,217,157,78,71,21,114,7,154,127,138,29,62],[214,245,122,178,50,163,160,100,155,26,114,21,71,130,2,24,136,254,67,255,107,147,11,187,130,98,181,2,48,118,27,9],[197,76,90,142,144,140,238,182,152,58,145,4,22,43,31,16,16,3,155,246,114,124,161,53,166,197,5,76,12,44,175,222],[119,2,1,18,41,58,139,222,86,229,210,201,157,170,213,234,102,150,8,247,237,115,154,209,49,5,75,243,82,222,83,7],[139,246,4,208,167,100,10,236,199,228,203,118,178,0,136,112,129,250,98,133,221,41,158,115,250,95,42,231,201,187,49,41],[181,145,104,226,240,135,169,200,24,8,22,229,175,194,113,195,138,179,102,89,176,158,242,110,57,22,178,91,192,168,175,125],[24,49,12,84,234,67,1,189,154,17,43,54,155,251,17,225,66,4,37,186,106,62,90,15,167,4,73,28,229,227,154,142],[219,75,18,160,43,195,57,172,255,4,195,209,214,176,195,27,17,136,234,182,120,62,75,125,173,16,175,90,100,222,211,102],[130,142,118,113,85,249,100,227,44,182,9,138,67,203,116,45,24,156,248,67,231,89,172,111,180,128,207,238,137,91,164,100],[21,166,181,99,121,163,2,74,248,202,182,32,200,130,128,126,175,116,72,254,243,237,30,7,121,177,185,108,140,85,58,205],[42,226,182,84,191,166,16,199,84,226,133,122,254,30,25,159,190,139,56,109,174,20,245,38,11,38,36,188,188,141,30,229],[244,150,6,101,197,142,77,1,217,21,127,255,254,61,111,65,39,250,100,74,115,62,3,170,164,234,231,11,121,178,71,115],[107,218,187,119,38,123,171,213,30,49,64,72,187,254,154,251,187,57,84,181,109,150,69,32,104,33,28,67,209,2,38,85]],{from: accounts[2]}),'revert');
  });
  it('Should fail submitUserVotes(bytes32[],bytes32[]) when NOT comply with: _usersSaltHash.length != 0', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractPaymentTokenMock.address,accounts[9],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+913,{from:accounts[2]});
    let result = await truffleAssert.fails(localOnChainVoting.submitUserVotes([], [[91,169,79,155,218,180,101,61,118,57,205,54,125,172,80,69,169,167,187,50,89,200,240,3,235,252,88,49,159,184,185,125],[102,125,200,18,18,34,155,67,110,254,7,114,125,93,27,223,212,199,175,124,231,163,255,58,175,70,248,183,188,109,82,190],[67,225,14,104,17,242,188,201,27,48,6,153,199,215,46,81,227,108,96,188,171,13,45,243,240,234,108,69,64,16,91,203],[150,21,172,184,137,157,74,138,49,240,142,77,78,66,138,7,254,97,201,141,238,13,170,188,204,128,221,228,168,199,53,12],[61,207,113,208,174,42,105,167,106,18,228,212,40,252,154,226,213,158,242,12,210,242,144,125,80,214,66,48,140,226,165,115],[62,77,183,197,118,225,131,255,159,23,232,76,35,245,96,199,110,180,104,145,92,4,243,178,129,0,96,249,139,69,88,199],[204,158,94,213,245,234,44,178,214,56,255,162,107,239,191,22,42,180,225,109,106,114,106,131,157,95,202,78,172,212,79,97],[203,249,174,40,193,250,228,18,169,115,127,52,12,157,155,187,0,235,163,215,47,169,17,36,234,253,88,220,3,236,229,242],[131,16,220,63,45,54,208,237,69,5,131,128,86,251,81,56,93,122,74,93,108,23,94,90,227,177,89,57,211,138,247,105],[106,143,200,139,11,159,149,205,65,15,159,169,166,164,122,227,106,80,190,17,132,72,112,64,215,254,126,189,176,158,52,114],[123,235,225,86,78,63,60,99,137,233,236,60,239,151,9,214,53,84,189,25,10,141,72,170,169,253,226,31,3,204,25,239],[50,27,194,169,204,125,0,28,123,176,211,234,187,162,121,210,91,251,234,68,149,26,255,113,35,63,72,183,30,97,56,175],[105,26,151,125,65,212,244,244,112,204,167,162,223,97,52,254,43,217,141,190,223,54,57,91,9,126,33,178,72,123,34,25],[31,50,117,228,229,105,88,123,84,180,178,130,139,44,250,183,133,97,28,24,165,168,44,52,21,149,172,137,216,82,4,116],[80,134,175,154,133,205,52,173,1,254,97,115,92,225,115,66,79,6,116,73,152,165,68,202,255,60,224,143,13,62,67,13],[46,162,26,33,51,231,104,245,228,177,166,15,102,18,190,74,234,132,234,18,19,176,28,135,173,233,224,170,71,233,183,25],[123,94,148,222,86,43,100,73,57,16,1,224,205,15,179,40,167,112,37,225,193,234,174,37,23,105,59,18,31,181,170,141],[68,85,14,130,143,136,242,28,130,113,96,42,247,39,124,40,224,10,7,194,150,93,61,97,89,23,189,7,6,113,174,248],[77,60,9,175,191,227,99,233,199,107,34,27,183,131,45,168,99,89,99,53,231,55,168,105,73,128,163,171,166,114,236,254],[237,76,177,90,54,60,25,201,207,93,195,105,144,94,152,116,20,41,73,227,5,162,218,30,110,238,57,117,35,41,125,170],[42,175,216,63,52,206,185,140,129,213,140,51,181,242,228,159,168,184,51,191,130,101,144,182,235,37,5,213,223,44,103,97],[234,137,103,94,151,170,13,69,157,223,5,245,75,5,214,36,30,63,49,208,23,39,220,119,139,25,245,129,208,171,216,73],[137,81,162,65,127,187,207,19,110,55,95,241,97,183,229,211,149,178,203,167,234,202,90,132,186,224,10,214,219,140,189,225],[154,176,182,199,125,4,15,219,63,163,228,66,92,22,129,88,183,119,92,248,20,29,25,155,169,194,113,173,1,215,0,60],[208,68,151,53,26,83,192,214,253,107,187,193,194,12,11,59,186,175,228,125,38,49,177,14,133,224,174,62,62,91,37,136],[5,89,255,33,87,78,218,125,82,93,40,110,207,128,65,117,187,103,95,96,11,36,136,63,217,219,223,88,6,4,96,219],[200,226,130,236,192,48,49,243,91,233,82,196,162,99,182,88,125,186,61,193,213,101,98,215,27,13,212,158,69,186,57,133],[153,123,213,68,11,104,177,167,116,158,84,104,79,128,165,102,216,156,218,77,199,149,40,215,131,120,68,193,230,165,247,88],[83,87,42,160,55,75,6,215,147,24,119,91,45,232,22,61,162,209,191,0,128,231,25,91,66,203,24,151,3,25,51,200],[4,11,148,22,74,112,220,128,12,141,99,25,209,124,237,50,37,136,41,163,115,194,197,254,166,170,195,236,69,60,181,87],[201,244,51,23,18,206,124,115,252,5,15,70,26,72,191,242,75,195,24,82,151,134,109,46,77,53,52,63,68,178,222,16],[16,114,203,3,63,182,144,12,88,155,207,20,22,194,78,177,8,21,241,32,194,237,90,224,5,136,20,177,136,112,206,22],[54,44,89,209,211,28,106,66,96,102,163,244,8,156,251,252,95,148,14,185,154,50,105,86,68,82,60,195,66,163,35,4],[154,84,59,182,198,89,225,92,24,219,150,218,142,152,217,141,193,204,64,204,237,239,201,247,8,255,229,90,125,73,25,173],[191,27,189,174,208,35,134,76,204,197,168,164,143,86,70,142,231,14,240,121,195,47,16,191,129,202,91,164,45,86,70,39],[149,184,45,31,72,7,248,200,15,41,9,185,69,3,113,172,63,241,181,12,161,198,83,38,164,56,144,237,51,23,18,111],[236,116,204,128,204,46,90,14,42,184,5,72,149,241,42,63,91,230,139,127,13,69,72,254,193,193,71,187,97,127,119,156],[198,226,105,218,189,184,103,132,12,179,175,251,78,168,209,201,90,239,107,89,82,21,202,230,106,123,42,78,229,3,252,66],[181,75,84,242,27,96,28,248,77,117,14,50,1,80,207,165,219,125,180,235,151,117,65,76,97,212,70,164,238,210,241,117],[160,29,67,163,36,3,170,138,170,20,196,36,77,120,120,37,231,214,164,109,37,174,161,180,129,0,105,140,183,194,0,1],[15,243,88,205,25,30,81,111,236,37,184,76,29,122,108,177,89,97,15,212,54,109,208,130,92,28,218,47,45,122,146,66],[47,62,92,180,10,216,72,127,120,7,241,2,147,38,143,9,235,198,216,197,82,232,139,174,207,200,240,14,2,218,159,66],[133,137,239,150,119,195,46,160,53,159,98,47,46,171,78,151,32,151,170,48,217,252,118,27,39,170,101,180,242,242,249,249],[191,129,6,52,30,46,228,73,175,67,2,255,134,131,243,88,254,229,107,142,187,91,72,197,234,236,40,88,240,161,119,125],[139,97,35,30,247,3,133,218,235,174,26,18,119,78,175,18,192,249,141,160,99,250,223,251,42,1,43,21,163,164,73,112],[172,13,249,43,44,168,2,130,168,232,237,158,205,90,212,38,153,122,223,155,84,207,93,163,150,184,167,50,18,212,172,58],[244,237,115,91,115,117,204,109,135,253,172,119,61,131,138,239,52,192,68,17,245,201,184,55,10,157,160,238,189,201,60,62],[131,240,169,49,4,247,107,44,114,41,90,170,114,187,153,53,51,51,158,3,104,24,164,122,26,83,202,187,214,82,13,228],[140,91,230,69,39,255,170,92,147,55,198,67,10,84,119,55,234,236,100,142,32,17,1,101,205,187,210,7,44,242,195,210],[41,75,231,228,164,218,130,219,135,129,240,78,122,180,118,237,107,134,82,176,116,77,62,120,184,10,56,102,24,24,184,78],[38,156,55,173,35,182,244,60,166,107,172,55,75,121,67,193,91,57,74,186,200,212,205,8,163,243,99,123,101,173,11,146],[112,221,131,194,115,90,71,207,57,198,136,233,57,142,29,5,161,246,230,214,217,157,78,71,21,114,7,154,127,138,29,62],[214,245,122,178,50,163,160,100,155,26,114,21,71,130,2,24,136,254,67,255,107,147,11,187,130,98,181,2,48,118,27,9],[197,76,90,142,144,140,238,182,152,58,145,4,22,43,31,16,16,3,155,246,114,124,161,53,166,197,5,76,12,44,175,222],[119,2,1,18,41,58,139,222,86,229,210,201,157,170,213,234,102,150,8,247,237,115,154,209,49,5,75,243,82,222,83,7],[139,246,4,208,167,100,10,236,199,228,203,118,178,0,136,112,129,250,98,133,221,41,158,115,250,95,42,231,201,187,49,41],[181,145,104,226,240,135,169,200,24,8,22,229,175,194,113,195,138,179,102,89,176,158,242,110,57,22,178,91,192,168,175,125],[24,49,12,84,234,67,1,189,154,17,43,54,155,251,17,225,66,4,37,186,106,62,90,15,167,4,73,28,229,227,154,142],[219,75,18,160,43,195,57,172,255,4,195,209,214,176,195,27,17,136,234,182,120,62,75,125,173,16,175,90,100,222,211,102],[130,142,118,113,85,249,100,227,44,182,9,138,67,203,116,45,24,156,248,67,231,89,172,111,180,128,207,238,137,91,164,100],[21,166,181,99,121,163,2,74,248,202,182,32,200,130,128,126,175,116,72,254,243,237,30,7,121,177,185,108,140,85,58,205],[42,226,182,84,191,166,16,199,84,226,133,122,254,30,25,159,190,139,56,109,174,20,245,38,11,38,36,188,188,141,30,229],[244,150,6,101,197,142,77,1,217,21,127,255,254,61,111,65,39,250,100,74,115,62,3,170,164,234,231,11,121,178,71,115],[107,218,187,119,38,123,171,213,30,49,64,72,187,254,154,251,187,57,84,181,109,150,69,32,104,33,28,67,209,2,38,85]],{from: accounts[2]}),'revert');
  });
  it('Should execute finalizeVote(string) WHEN msg.sender==_owner,(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp>=endTime,submissionsCount==votesCount', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractRedeemableTokenMock.address,accounts[1],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+514,{from:accounts[2]});
    let result = await localOnChainVoting.finalizeVote("\x19Ethereum Signed Message:\n32",{from: accounts[2]});
  });
  it('Should fail finalizeVote(string) when NOT comply with: msg.sender == _owner', async () => {
    let localOnChainVoting = await OnChainVoting.new(contractRedeemableTokenMock.address,accounts[1],(await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp+514,{from:accounts[2]});
    let result = await truffleAssert.fails(localOnChainVoting.finalizeVote("\x19Ethereum Signed Message:\n32",{from: accounts[9]}),'revert');
  });
});
