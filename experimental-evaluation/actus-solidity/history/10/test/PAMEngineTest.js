const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 1,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [235,119,67,153,142,1,156,176,228,43,64,195,168,215,179,43,213,134,225,155,64,59,75,200,190,74,228,147,209,141,15,229],"legalEntityIdCounterparty": [27,184,91,224,195,210,21,116,110,10,217,234,39,80,96,224,225,136,157,30,27,224,82,164,187,241,31,4,133,59,177,90],"dayCountConvention": 5,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 27,"statusDate": 59,"initialExchangeDate": 90,"maturityDate": 131,"terminationDate": 365,"purchaseDate": 1970,"capitalizationEndDate": 86401,"cycleAnchorDateOfInterestPayment": 110,"cycleAnchorDateOfRateReset": 49,"cycleAnchorDateOfScalingIndex": 4,"cycleAnchorDateOfFee": 2440588,"notionalPrincipal": 3999,"nominalInterestRate": 146099,"feeAccrued": 1969,"accruedInterest": 146097,"rateMultiplier": 65,"rateSpread": 146098,"feeRate": 1969,"nextResetRate": 26,"penaltyRate": 14,"premiumDiscountAtIED": 109,"priceAtPurchaseDate": 2440588,"cycleOfInterestPayment": {"i": 2440589,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 86401,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 950,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 28,"p": 2,"s": 0,"isSet": true},"lifeCap": 12,"lifeFloor": 949,"periodCap": 99,"periodFloor": 99},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 7,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [49,37,219,149,140,157,118,203,19,204,138,54,149,190,253,226,131,83,215,184,64,58,162,219,47,189,16,95,122,161,154,165],"legalEntityIdCounterparty": [113,127,61,60,63,5,220,176,99,250,127,121,186,189,123,157,164,79,9,103,93,151,60,60,90,13,41,6,240,88,24,173],"dayCountConvention": 4,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 80,"statusDate": 101,"initialExchangeDate": 97,"maturityDate": 99,"terminationDate": 401,"purchaseDate": 59,"capitalizationEndDate": 30,"cycleAnchorDateOfInterestPayment": 24,"cycleAnchorDateOfRateReset": 2440587,"cycleAnchorDateOfScalingIndex": 146098,"cycleAnchorDateOfFee": 27,"notionalPrincipal": 1461,"nominalInterestRate": 4900,"feeAccrued": 401,"accruedInterest": 161,"rateMultiplier": 70,"rateSpread": 146097,"feeRate": 41,"nextResetRate": 400,"penaltyRate": 130,"premiumDiscountAtIED": 25,"priceAtPurchaseDate": 68570,"cycleOfInterestPayment": {"i": 13,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 64,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 364,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 900,"p": 0,"s": 1,"isSet": false},"lifeCap": 41,"lifeFloor": 23,"periodCap": 1971,"periodFloor": 161}, {"lastEventTime": 361,"contractStatus": 1,"timeFromLastEvent": 7,"nominalValue": 1461001,"nominalAccrued": -1,"feeAccrued": 256,"nominalRate": 900,"interestScalingMultiplier": 51,"nominalScalingMultiplier": 4899,"contractRoleSign": 1}, 4899,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 12,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [227,218,57,85,229,115,125,116,95,187,110,250,173,26,69,128,1,249,66,187,148,114,70,119,177,34,187,251,69,204,32,230],"legalEntityIdCounterparty": [37,177,109,67,191,32,47,245,210,110,146,99,224,32,81,56,62,11,135,73,33,17,141,119,21,210,128,45,245,185,212,254],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 1,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 49,"statusDate": 901,"initialExchangeDate": 16,"maturityDate": 900,"terminationDate": 110,"purchaseDate": 1970,"capitalizationEndDate": 2446,"cycleAnchorDateOfInterestPayment": 7,"cycleAnchorDateOfRateReset": 14,"cycleAnchorDateOfScalingIndex": 110,"cycleAnchorDateOfFee": 32076,"notionalPrincipal": 1971,"nominalInterestRate": 4899,"feeAccrued": 100,"accruedInterest": 4900,"rateMultiplier": 21,"rateSpread": 1461001,"feeRate": 141,"nextResetRate": 50,"penaltyRate": 51,"premiumDiscountAtIED": 31,"priceAtPurchaseDate": -1,"cycleOfInterestPayment": {"i": 86400,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 101,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 255,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 68569,"p": 5,"s": 1,"isSet": false},"lifeCap": 257,"lifeFloor": 399,"periodCap": 63,"periodFloor": 6}, {"lastEventTime": 86401,"contractStatus": 1,"timeFromLastEvent": 10001,"nominalValue": 51,"nominalAccrued": 2446,"feeAccrued": 64,"nominalRate": 1,"interestScalingMultiplier": 6,"nominalScalingMultiplier": 120,"contractRoleSign": 3}, {"eventTime": 2440589,"eventTimeWithEpochOffset": 50,"scheduleTime": 2448,"eventType": 0,"currency": accounts[4],"pofType": 20,"stfType": 14}, 361,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [163,9,86,194,209,192,139,27,99,245,41,127,146,184,70,107,40,138,62,114,78,150,56,87,64,2,73,44,169,217,41,66],"legalEntityIdCounterparty": [144,113,118,53,175,17,247,141,241,90,103,123,131,252,200,236,142,6,116,112,252,39,40,243,39,136,108,219,143,140,243,135],"dayCountConvention": 3,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 1462,"statusDate": 101,"initialExchangeDate": 25,"maturityDate": 12,"terminationDate": 95,"purchaseDate": 80,"capitalizationEndDate": 8,"cycleAnchorDateOfInterestPayment": 4800,"cycleAnchorDateOfRateReset": 50,"cycleAnchorDateOfScalingIndex": 255,"cycleAnchorDateOfFee": 79,"notionalPrincipal": 365,"nominalInterestRate": 68569,"feeAccrued": 20,"accruedInterest": 4801,"rateMultiplier": 18,"rateSpread": 95,"feeRate": 1461,"nextResetRate": 129,"penaltyRate": 6,"premiumDiscountAtIED": 23,"priceAtPurchaseDate": 50,"cycleOfInterestPayment": {"i": 11,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 146099,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 130,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 17,"p": 2,"s": 1,"isSet": true},"lifeCap": 24,"lifeFloor": 361,"periodCap": 31,"periodFloor": 80}, 40, 79,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [70,136,189,104,161,35,153,187,114,108,134,236,198,94,85,64,152,79,19,4,253,44,184,23,24,131,67,182,184,37,125,127],"legalEntityIdCounterparty": [94,134,154,38,187,205,50,239,254,139,159,147,108,151,251,133,143,216,143,218,55,98,64,58,228,201,225,83,66,209,48,9],"dayCountConvention": 6,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 10000,"statusDate": 111,"initialExchangeDate": 9,"maturityDate": 1461001,"terminationDate": 79,"purchaseDate": 10,"capitalizationEndDate": 32075,"cycleAnchorDateOfInterestPayment": 14,"cycleAnchorDateOfRateReset": 365,"cycleAnchorDateOfScalingIndex": 40,"cycleAnchorDateOfFee": 32075,"notionalPrincipal": 368,"nominalInterestRate": 10001,"feeAccrued": 27,"accruedInterest": 361,"rateMultiplier": 5,"rateSpread": 4801,"feeRate": 1461002,"nextResetRate": 80,"penaltyRate": 49,"premiumDiscountAtIED": 1461002,"priceAtPurchaseDate": 1338,"cycleOfInterestPayment": {"i": 50,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 79,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 48,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 899,"p": 5,"s": 0,"isSet": true},"lifeCap": 901,"lifeFloor": 31,"periodCap": 2448,"periodFloor": 10001}, 2014223714, 96,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [125,8,149,213,142,120,250,123,96,228,145,37,227,132,86,246,36,221,149,200,228,20,132,222,146,72,120,237,59,209,78,255],"legalEntityIdCounterparty": [171,23,67,153,240,18,115,174,197,212,45,247,238,228,193,2,144,5,232,5,34,249,164,223,185,42,222,100,15,23,226,43],"dayCountConvention": 1,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 365,"statusDate": 15,"initialExchangeDate": 949,"maturityDate": 66,"terminationDate": 80,"purchaseDate": 365,"capitalizationEndDate": 110,"cycleAnchorDateOfInterestPayment": 110,"cycleAnchorDateOfRateReset": 139,"cycleAnchorDateOfScalingIndex": 146096,"cycleAnchorDateOfFee": 1460,"notionalPrincipal": 1532892064,"nominalInterestRate": 11,"feeAccrued": 159,"accruedInterest": 1460,"rateMultiplier": 68568,"rateSpread": 2446,"feeRate": 4900,"nextResetRate": 1970,"penaltyRate": 48,"premiumDiscountAtIED": 32074,"priceAtPurchaseDate": 400,"cycleOfInterestPayment": {"i": 949,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 86399,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 95,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 14,"p": 4,"s": 0,"isSet": true},"lifeCap": 2446,"lifeFloor": 131,"periodCap": 65,"periodFloor": 2014223716}, 146099, 2448,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [155,41,127,176,15,118,24,168,194,168,93,41,112,135,217,69,144,86,195,249,108,31,122,32,36,59,91,37,206,88,177,36],"legalEntityIdCounterparty": [41,3,198,186,76,206,218,228,10,222,34,174,52,217,143,122,130,229,123,87,253,88,42,223,41,83,27,248,204,139,148,108],"dayCountConvention": 5,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 40,"statusDate": 15,"initialExchangeDate": 31,"maturityDate": 18,"terminationDate": 59,"purchaseDate": 2014223714,"capitalizationEndDate": 4901,"cycleAnchorDateOfInterestPayment": 79,"cycleAnchorDateOfRateReset": 1460,"cycleAnchorDateOfScalingIndex": 19,"cycleAnchorDateOfFee": 5,"notionalPrincipal": 255,"nominalInterestRate": 14,"feeAccrued": 49,"accruedInterest": 1461000,"rateMultiplier": 10000,"rateSpread": 141,"feeRate": 65,"nextResetRate": 39,"penaltyRate": 131,"premiumDiscountAtIED": 2446,"priceAtPurchaseDate": 50,"cycleOfInterestPayment": {"i": 10,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 4800,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 950,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 110,"p": 4,"s": 1,"isSet": false},"lifeCap": 1337,"lifeFloor": 7,"periodCap": 951,"periodFloor": 146099}, 146096, 4899,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [132,236,230,66,123,195,128,40,16,235,199,152,205,250,216,188,114,132,253,224,119,4,204,246,80,96,112,107,15,16,66,134],"legalEntityIdCounterparty": [4,74,29,218,242,139,67,190,185,89,171,212,240,187,197,158,128,19,21,41,194,116,201,18,238,218,40,235,120,200,46,54],"dayCountConvention": 2,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 4,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 10001,"statusDate": 30,"initialExchangeDate": 901,"maturityDate": 80,"terminationDate": 2440589,"purchaseDate": 0,"capitalizationEndDate": 950,"cycleAnchorDateOfInterestPayment": 51,"cycleAnchorDateOfRateReset": 28,"cycleAnchorDateOfScalingIndex": 80,"cycleAnchorDateOfFee": 899,"notionalPrincipal": 10,"nominalInterestRate": 50,"feeAccrued": 1461,"accruedInterest": 2440588,"rateMultiplier": 119,"rateSpread": 1460,"feeRate": 1970,"nextResetRate": 146099,"penaltyRate": 28,"premiumDiscountAtIED": 146097,"priceAtPurchaseDate": 68570,"cycleOfInterestPayment": {"i": 4799,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 900,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 31,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 28,"p": 4,"s": 0,"isSet": true},"lifeCap": 111,"lifeFloor": 1,"periodCap": 1971,"periodFloor": 2}, 16, 26,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [21,240,155,154,31,66,67,86,34,80,3,184,174,215,35,108,85,94,22,62,163,203,68,19,72,131,231,243,157,252,3,179],"legalEntityIdCounterparty": [82,66,40,242,231,179,145,108,0,249,170,211,32,18,244,89,16,244,52,214,36,57,184,122,161,49,34,83,112,130,179,180],"dayCountConvention": 5,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 8,"statusDate": 50,"initialExchangeDate": 66,"maturityDate": 59,"terminationDate": 49,"purchaseDate": 1338,"capitalizationEndDate": 86400,"cycleAnchorDateOfInterestPayment": 2447,"cycleAnchorDateOfRateReset": 50,"cycleAnchorDateOfScalingIndex": 96,"cycleAnchorDateOfFee": 81,"notionalPrincipal": 949,"nominalInterestRate": 1532892064,"feeAccrued": 2014223715,"accruedInterest": 367,"rateMultiplier": 2446,"rateSpread": 4899,"feeRate": 21,"nextResetRate": 1971,"penaltyRate": 900,"premiumDiscountAtIED": 1462,"priceAtPurchaseDate": 32,"cycleOfInterestPayment": {"i": 32076,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 130,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 60,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 2440588,"p": 5,"s": 1,"isSet": true},"lifeCap": 40,"lifeFloor": 16,"periodCap": 146099,"periodFloor": 13}, 901, 901,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [119,32,195,117,205,35,20,151,171,218,78,156,75,133,131,42,107,134,118,210,209,55,162,192,247,41,58,143,20,1,18,13],"legalEntityIdCounterparty": [209,126,31,141,238,65,146,17,215,172,126,192,220,85,80,79,151,201,10,106,205,74,16,219,6,55,64,169,254,112,198,29],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 6,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 129,"statusDate": 91,"initialExchangeDate": 139,"maturityDate": 24,"terminationDate": 1970,"purchaseDate": 12,"capitalizationEndDate": 60,"cycleAnchorDateOfInterestPayment": 15,"cycleAnchorDateOfRateReset": 255,"cycleAnchorDateOfScalingIndex": 64,"cycleAnchorDateOfFee": 1532892063,"notionalPrincipal": 368,"nominalInterestRate": 65,"feeAccrued": 28,"accruedInterest": 950,"rateMultiplier": 1338,"rateSpread": 109,"feeRate": 949,"nextResetRate": 151,"penaltyRate": 4899,"premiumDiscountAtIED": 146097,"priceAtPurchaseDate": 10,"cycleOfInterestPayment": {"i": 400,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 39,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1461,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 367,"p": 0,"s": 0,"isSet": false},"lifeCap": 32075,"lifeFloor": 1461000,"periodCap": 4800,"periodFloor": 146096}, 101, 64,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [106,48,21,0,111,4,67,70,139,91,129,195,140,66,60,146,186,196,247,250,50,145,65,145,75,38,71,157,236,83,108,9],"legalEntityIdCounterparty": [160,37,243,91,250,183,73,206,99,252,60,151,96,53,206,136,11,250,236,191,108,198,7,138,143,219,24,112,154,139,136,87],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 110,"statusDate": 19,"initialExchangeDate": 951,"maturityDate": 141,"terminationDate": 2448,"purchaseDate": 10001,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 65,"cycleAnchorDateOfRateReset": 109,"cycleAnchorDateOfScalingIndex": 1337,"cycleAnchorDateOfFee": 110,"notionalPrincipal": 150,"nominalInterestRate": 368,"feeAccrued": 400,"accruedInterest": 51,"rateMultiplier": 1532892064,"rateSpread": 129,"feeRate": 97,"nextResetRate": 146097,"penaltyRate": 89,"premiumDiscountAtIED": 367,"priceAtPurchaseDate": 96,"cycleOfInterestPayment": {"i": 13,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 12,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 4899,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 68570,"p": 0,"s": 0,"isSet": false},"lifeCap": 1532892062,"lifeFloor": 6,"periodCap": 2440589,"periodFloor": 86399}, 10001, 86399,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [181,128,183,226,123,245,229,139,77,164,110,71,166,106,80,150,201,81,105,208,149,194,34,191,174,218,197,225,130,33,60,226],"legalEntityIdCounterparty": [20,183,57,63,161,121,178,51,35,227,161,196,220,101,205,51,239,94,156,207,150,133,75,233,64,231,229,132,50,162,98,94],"dayCountConvention": 5,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 71,"statusDate": 32076,"initialExchangeDate": 368,"maturityDate": 39,"terminationDate": 39,"purchaseDate": 1462,"capitalizationEndDate": 15,"cycleAnchorDateOfInterestPayment": 1532892063,"cycleAnchorDateOfRateReset": 18,"cycleAnchorDateOfScalingIndex": 32,"cycleAnchorDateOfFee": 2440588,"notionalPrincipal": 109,"nominalInterestRate": 17,"feeAccrued": 950,"accruedInterest": 59,"rateMultiplier": 21,"rateSpread": 9,"feeRate": 1532892062,"nextResetRate": 400,"penaltyRate": 4900,"premiumDiscountAtIED": 2440589,"priceAtPurchaseDate": 40,"cycleOfInterestPayment": {"i": 2440588,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 9,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 899,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 2440589,"p": 0,"s": 1,"isSet": true},"lifeCap": 26,"lifeFloor": 14,"periodCap": 64,"periodFloor": 1461000}, 51, 121,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [121,129,169,238,96,167,175,50,192,240,113,241,67,244,170,66,81,127,114,250,252,183,184,128,48,169,47,176,123,246,96,41],"legalEntityIdCounterparty": [181,185,76,24,105,182,100,76,179,209,150,254,60,23,114,188,235,200,133,195,192,73,48,190,0,243,166,33,71,97,141,182],"dayCountConvention": 2,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 150,"statusDate": 31,"initialExchangeDate": 146098,"maturityDate": 63,"terminationDate": 40,"purchaseDate": 90,"capitalizationEndDate": 7,"cycleAnchorDateOfInterestPayment": 65,"cycleAnchorDateOfRateReset": 32074,"cycleAnchorDateOfScalingIndex": 21,"cycleAnchorDateOfFee": 50,"notionalPrincipal": 17,"nominalInterestRate": 2,"feeAccrued": 1460,"accruedInterest": 401,"rateMultiplier": 101,"rateSpread": 2446,"feeRate": 140,"nextResetRate": 68570,"penaltyRate": 109,"premiumDiscountAtIED": 4800,"priceAtPurchaseDate": 86400,"cycleOfInterestPayment": {"i": 367,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1969,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 3,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 367,"p": 1,"s": 0,"isSet": false},"lifeCap": 51,"lifeFloor": 161,"periodCap": 40,"periodFloor": 86399}, 2440587, 19,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [142,181,75,13,182,137,68,120,53,167,251,158,111,51,118,151,70,30,133,34,175,122,135,116,31,91,164,29,101,96,80,235],"legalEntityIdCounterparty": [188,107,189,156,58,62,231,207,111,145,141,193,179,253,84,252,122,211,245,167,135,115,3,120,144,140,231,163,31,9,106,67],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 68569,"statusDate": 2440587,"initialExchangeDate": 2447,"maturityDate": 30,"terminationDate": 18,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 131,"cycleAnchorDateOfRateReset": 255,"cycleAnchorDateOfScalingIndex": 4,"cycleAnchorDateOfFee": 2447,"notionalPrincipal": 17,"nominalInterestRate": 0,"feeAccrued": 3999,"accruedInterest": 130,"rateMultiplier": 9999,"rateSpread": 97,"feeRate": 4901,"nextResetRate": 31,"penaltyRate": 365,"premiumDiscountAtIED": 4800,"priceAtPurchaseDate": 3,"cycleOfInterestPayment": {"i": 4801,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 359,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 3999,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 24,"p": 4,"s": 0,"isSet": false},"lifeCap": 4000,"lifeFloor": 3,"periodCap": 99,"periodFloor": 17}, 41, 2,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [241,22,98,126,184,205,216,40,201,79,26,233,218,11,66,168,50,238,112,22,25,14,134,145,73,164,166,186,104,56,21,208],"legalEntityIdCounterparty": [106,231,252,156,248,89,101,83,125,30,60,151,30,9,46,239,87,147,146,72,3,195,118,165,251,111,52,32,221,132,128,128],"dayCountConvention": 1,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 1338,"statusDate": 1461,"initialExchangeDate": 63,"maturityDate": 86399,"terminationDate": 11,"purchaseDate": 129,"capitalizationEndDate": 359,"cycleAnchorDateOfInterestPayment": 119,"cycleAnchorDateOfRateReset": 400,"cycleAnchorDateOfScalingIndex": 141,"cycleAnchorDateOfFee": 121,"notionalPrincipal": 10,"nominalInterestRate": 68570,"feeAccrued": 4799,"accruedInterest": 13,"rateMultiplier": 66,"rateSpread": 951,"feeRate": 129,"nextResetRate": 1336,"penaltyRate": 2446,"premiumDiscountAtIED": 25,"priceAtPurchaseDate": 121,"cycleOfInterestPayment": {"i": 96,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 60,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 121,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 71,"p": 5,"s": 1,"isSet": false},"lifeCap": 70,"lifeFloor": 30,"periodCap": 1532892062,"periodFloor": 2014223714}, 71, 361,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [61,83,188,130,67,225,218,190,169,177,168,156,16,143,248,251,193,232,241,204,89,234,35,184,173,155,35,9,60,212,85,38],"legalEntityIdCounterparty": [159,125,177,137,89,111,113,154,103,142,235,26,46,117,199,1,62,201,77,23,62,39,171,58,195,234,12,240,175,148,248,231],"dayCountConvention": 6,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 7,"statusDate": 360,"initialExchangeDate": 25,"maturityDate": 10000,"terminationDate": 14,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 2446,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 146097,"cycleAnchorDateOfFee": 32074,"notionalPrincipal": 63,"nominalInterestRate": 0,"feeAccrued": 50,"accruedInterest": 360,"rateMultiplier": 161,"rateSpread": 14,"feeRate": 2440587,"nextResetRate": 1460,"penaltyRate": 19,"premiumDiscountAtIED": 400,"priceAtPurchaseDate": 68570,"cycleOfInterestPayment": {"i": 256,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 65,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 48,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 10000,"p": 4,"s": 0,"isSet": true},"lifeCap": 1969,"lifeFloor": 2440588,"periodCap": 86399,"periodFloor": 2014223716}, 65, 81,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [113,62,43,76,112,148,147,137,131,137,34,46,43,201,114,114,7,142,191,134,8,171,87,45,8,43,197,145,232,84,3,184],"legalEntityIdCounterparty": [100,31,106,53,246,35,109,99,129,186,29,232,202,221,57,69,160,234,1,45,195,115,4,51,161,193,83,136,248,24,103,113],"dayCountConvention": 6,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 1969,"statusDate": 95,"initialExchangeDate": 30,"maturityDate": 20,"terminationDate": 399,"purchaseDate": 16,"capitalizationEndDate": 139,"cycleAnchorDateOfInterestPayment": 160,"cycleAnchorDateOfRateReset": 2014223716,"cycleAnchorDateOfScalingIndex": 2014223714,"cycleAnchorDateOfFee": 19,"notionalPrincipal": -1,"nominalInterestRate": 365,"feeAccrued": 2014223714,"accruedInterest": 90,"rateMultiplier": 364,"rateSpread": 18,"feeRate": 366,"nextResetRate": 131,"penaltyRate": 69,"premiumDiscountAtIED": 40,"priceAtPurchaseDate": 4899,"cycleOfInterestPayment": {"i": 364,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1970,"p": 5,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 368,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 28,"p": 0,"s": 0,"isSet": false},"lifeCap": 950,"lifeFloor": 50,"periodCap": 31,"periodFloor": 4801}, 79, 131,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [187,16,87,56,57,233,238,102,186,223,164,173,168,173,137,84,114,61,39,16,156,88,227,182,133,20,208,205,234,214,171,167],"legalEntityIdCounterparty": [162,230,27,209,121,149,175,116,222,95,27,147,225,135,92,70,62,42,189,147,89,176,85,22,59,11,182,93,184,137,213,223],"dayCountConvention": 4,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 23,"statusDate": 5,"initialExchangeDate": 366,"maturityDate": 110,"terminationDate": 901,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 359,"cycleAnchorDateOfRateReset": 91,"cycleAnchorDateOfScalingIndex": 81,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 361,"nominalInterestRate": 0,"feeAccrued": 86401,"accruedInterest": 1460,"rateMultiplier": 4899,"rateSpread": 28,"feeRate": 68570,"nextResetRate": 79,"penaltyRate": 26,"premiumDiscountAtIED": 1460,"priceAtPurchaseDate": 89,"cycleOfInterestPayment": {"i": 20,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 16,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 360,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 39,"p": 5,"s": 0,"isSet": false},"lifeCap": 5,"lifeFloor": 23,"periodCap": 66,"periodFloor": 899}, 109, 81,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [252,9,108,138,108,51,46,110,84,231,133,219,21,34,189,16,37,190,22,209,155,7,140,44,247,36,244,175,212,247,61,157],"legalEntityIdCounterparty": [39,53,222,184,205,83,182,17,9,128,61,12,1,247,88,61,243,242,86,52,187,101,73,106,87,154,86,242,171,126,126,242],"dayCountConvention": 1,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 4,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 100,"statusDate": 10,"initialExchangeDate": 39,"maturityDate": 32075,"terminationDate": 4801,"purchaseDate": 141,"capitalizationEndDate": 71,"cycleAnchorDateOfInterestPayment": 24,"cycleAnchorDateOfRateReset": 1532892062,"cycleAnchorDateOfScalingIndex": 11,"cycleAnchorDateOfFee": 97,"notionalPrincipal": 401,"nominalInterestRate": 4,"feeAccrued": 68569,"accruedInterest": 14,"rateMultiplier": 30,"rateSpread": 7,"feeRate": 32076,"nextResetRate": 51,"penaltyRate": 160,"premiumDiscountAtIED": 161,"priceAtPurchaseDate": 10000,"cycleOfInterestPayment": {"i": 257,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 255,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1461,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 27,"p": 5,"s": 0,"isSet": true},"lifeCap": 39,"lifeFloor": 2440588,"periodCap": 10,"periodFloor": 1461}, 1460, 399,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [83,183,29,62,47,88,52,26,65,211,60,214,131,98,232,168,57,99,91,116,145,248,101,70,143,23,44,127,81,231,243,157],"legalEntityIdCounterparty": [137,120,4,204,161,243,140,255,200,213,225,49,217,73,44,216,11,68,99,92,220,179,39,106,74,172,213,178,118,83,213,252],"dayCountConvention": 4,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 6,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 66,"statusDate": 89,"initialExchangeDate": 109,"maturityDate": 368,"terminationDate": 111,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 901,"cycleAnchorDateOfRateReset": 1461,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 109,"notionalPrincipal": 400,"nominalInterestRate": 0,"feeAccrued": 949,"accruedInterest": 29,"rateMultiplier": 146097,"rateSpread": 101,"feeRate": 59,"nextResetRate": 5,"penaltyRate": 25,"premiumDiscountAtIED": 150,"priceAtPurchaseDate": 91,"cycleOfInterestPayment": {"i": 254,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 71,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 48,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 2440587,"p": 0,"s": 1,"isSet": false},"lifeCap": 129,"lifeFloor": 139,"periodCap": 68568,"periodFloor": 79}, 5, 146099,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [100,22,152,140,155,245,187,154,130,232,30,178,209,18,129,92,226,0,255,66,25,207,150,157,253,235,163,19,251,153,216,176],"legalEntityIdCounterparty": [46,109,4,80,65,117,203,192,86,167,138,66,237,39,157,21,35,245,5,4,172,241,19,21,96,176,28,59,177,104,227,202],"dayCountConvention": 3,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 3,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 30,"statusDate": 28,"initialExchangeDate": 91,"maturityDate": 131,"terminationDate": 131,"purchaseDate": 1970,"capitalizationEndDate": 146096,"cycleAnchorDateOfInterestPayment": 11,"cycleAnchorDateOfRateReset": 60,"cycleAnchorDateOfScalingIndex": 900,"cycleAnchorDateOfFee": 110,"notionalPrincipal": 9,"nominalInterestRate": 61,"feeAccrued": 16,"accruedInterest": 2447,"rateMultiplier": 4,"rateSpread": 110,"feeRate": 399,"nextResetRate": 110,"penaltyRate": 399,"premiumDiscountAtIED": 368,"priceAtPurchaseDate": 30,"cycleOfInterestPayment": {"i": 1461002,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 25,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 2448,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 899,"p": 2,"s": 1,"isSet": false},"lifeCap": 109,"lifeFloor": 160,"periodCap": 68569,"periodFloor": 951}, 66, 1336,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [248,84,233,176,201,42,177,144,134,119,221,85,43,213,14,139,24,43,108,211,58,138,249,88,156,182,6,224,150,182,254,16],"legalEntityIdCounterparty": [187,165,164,84,61,95,13,235,151,217,133,120,219,73,215,255,151,60,232,238,43,40,225,95,88,222,66,83,137,91,34,138],"dayCountConvention": 6,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 4,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 11,"statusDate": 1461,"initialExchangeDate": 365,"maturityDate": 4901,"terminationDate": 364,"purchaseDate": 1338,"capitalizationEndDate": 367,"cycleAnchorDateOfInterestPayment": 146099,"cycleAnchorDateOfRateReset": 61,"cycleAnchorDateOfScalingIndex": 110,"cycleAnchorDateOfFee": 20,"notionalPrincipal": 1337,"nominalInterestRate": 140,"feeAccrued": 1532892062,"accruedInterest": 1461,"rateMultiplier": 4899,"rateSpread": 2014223714,"feeRate": 1460,"nextResetRate": 39,"penaltyRate": 139,"premiumDiscountAtIED": 28,"priceAtPurchaseDate": 367,"cycleOfInterestPayment": {"i": 9,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 4899,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 2447,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 1338,"p": 0,"s": 1,"isSet": false},"lifeCap": 1461002,"lifeFloor": 41,"periodCap": 146098,"periodFloor": 1532892062}, 2, 86400,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [76,214,41,152,247,183,0,208,108,184,137,174,118,248,70,170,239,150,50,138,9,183,182,83,40,146,185,111,67,44,140,0],"legalEntityIdCounterparty": [245,153,71,45,145,138,50,115,24,194,82,113,60,20,95,141,43,142,68,237,29,134,27,167,226,140,81,108,102,93,74,215],"dayCountConvention": 0,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 146098,"statusDate": 2014223714,"initialExchangeDate": 18,"maturityDate": 89,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 2440589,"cycleAnchorDateOfRateReset": 68569,"cycleAnchorDateOfScalingIndex": 139,"cycleAnchorDateOfFee": 160,"notionalPrincipal": 161,"nominalInterestRate": 0,"feeAccrued": 951,"accruedInterest": 32075,"rateMultiplier": 2014223716,"rateSpread": 60,"feeRate": 0,"nextResetRate": 5,"penaltyRate": 2440588,"premiumDiscountAtIED": 399,"priceAtPurchaseDate": 900,"cycleOfInterestPayment": {"i": 68568,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 60,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 2014223714,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 4,"p": 1,"s": 1,"isSet": true},"lifeCap": 161,"lifeFloor": 900,"periodCap": 5,"periodFloor": 32}, 5, 17,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [247,75,76,173,158,183,73,11,214,30,143,51,117,250,118,90,193,37,117,61,120,121,92,126,184,244,129,178,85,188,249,224],"legalEntityIdCounterparty": [26,119,33,119,240,27,121,236,177,15,47,129,176,99,68,139,35,170,210,125,44,48,120,106,145,15,44,25,130,66,253,156],"dayCountConvention": 4,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 359,"statusDate": 2448,"initialExchangeDate": 48,"maturityDate": 69,"terminationDate": 63,"purchaseDate": 1337,"capitalizationEndDate": 32075,"cycleAnchorDateOfInterestPayment": 39,"cycleAnchorDateOfRateReset": 90,"cycleAnchorDateOfScalingIndex": 95,"cycleAnchorDateOfFee": 86400,"notionalPrincipal": 1532892063,"nominalInterestRate": 119,"feeAccrued": 140,"accruedInterest": 97,"rateMultiplier": 11,"rateSpread": 901,"feeRate": 146098,"nextResetRate": 1461000,"penaltyRate": 2014223715,"premiumDiscountAtIED": 1336,"priceAtPurchaseDate": 49,"cycleOfInterestPayment": {"i": 160,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 50,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 30,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 66,"p": 0,"s": 0,"isSet": false},"lifeCap": 89,"lifeFloor": 4,"periodCap": 2446,"periodFloor": 119}, 80, 12,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [161,18,132,250,186,69,128,137,212,201,108,67,160,131,167,248,46,217,172,55,80,160,96,246,169,77,164,164,16,146,27,196],"legalEntityIdCounterparty": [115,34,62,151,109,162,162,55,217,117,146,115,52,161,215,65,252,109,166,215,224,58,173,23,186,104,113,3,190,55,45,6],"dayCountConvention": 4,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 101,"statusDate": 20,"initialExchangeDate": 2014223714,"maturityDate": 256,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 15,"cycleAnchorDateOfRateReset": 160,"cycleAnchorDateOfScalingIndex": 2448,"cycleAnchorDateOfFee": 160,"notionalPrincipal": 95,"nominalInterestRate": 0,"feeAccrued": 19,"accruedInterest": 139,"rateMultiplier": 86399,"rateSpread": 2014223714,"feeRate": 151,"nextResetRate": 367,"penaltyRate": 68569,"premiumDiscountAtIED": 29,"priceAtPurchaseDate": 51,"cycleOfInterestPayment": {"i": 10001,"p": 3,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 1460,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 367,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 1338,"p": 5,"s": 1,"isSet": false},"lifeCap": 91,"lifeFloor": 119,"periodCap": 24,"periodFloor": 10}, 1461002, 81,{from: accounts[0]});
  });
});
