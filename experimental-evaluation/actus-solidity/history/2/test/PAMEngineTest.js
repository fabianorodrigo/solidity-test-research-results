const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 2,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [25,132,178,232,143,120,29,41,140,142,153,93,157,115,250,191,172,105,11,0,58,22,129,69,41,1,220,240,234,32,0,246],"legalEntityIdCounterparty": [91,36,134,243,43,98,217,162,40,203,198,144,158,78,11,107,121,5,134,245,219,191,14,100,129,98,228,117,226,143,181,32],"dayCountConvention": 0,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 7,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 255,"statusDate": 4899,"initialExchangeDate": 4001,"maturityDate": 51,"terminationDate": 1337,"purchaseDate": 131,"capitalizationEndDate": 32076,"cycleAnchorDateOfInterestPayment": 399,"cycleAnchorDateOfRateReset": 71,"cycleAnchorDateOfScalingIndex": 4901,"cycleAnchorDateOfFee": 255,"notionalPrincipal": 1532892062,"nominalInterestRate": 368,"feeAccrued": 2014223717,"accruedInterest": 4001,"rateMultiplier": 361,"rateSpread": 2014223714,"feeRate": 1532892062,"nextResetRate": 150,"penaltyRate": 30,"premiumDiscountAtIED": 151,"priceAtPurchaseDate": 16,"cycleOfInterestPayment": {"i": 949,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 2014223717,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 366,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 1971,"p": 0,"s": 0,"isSet": true},"lifeCap": 111,"lifeFloor": 2014223715,"periodCap": 89,"periodFloor": 2014223715},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 6,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [31,215,134,68,140,76,41,128,24,38,191,172,236,41,36,213,164,52,28,136,65,183,14,140,39,144,215,106,10,96,245,149],"legalEntityIdCounterparty": [32,159,38,146,236,190,93,5,210,91,30,61,11,29,174,158,29,153,118,237,205,116,104,3,165,208,209,14,116,166,43,108],"dayCountConvention": 2,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 4,"statusDate": 64,"initialExchangeDate": 13,"maturityDate": 1971,"terminationDate": 1461,"purchaseDate": 950,"capitalizationEndDate": 254,"cycleAnchorDateOfInterestPayment": 2446,"cycleAnchorDateOfRateReset": 2446,"cycleAnchorDateOfScalingIndex": 2014223714,"cycleAnchorDateOfFee": 25,"notionalPrincipal": 951,"nominalInterestRate": 368,"feeAccrued": 101,"accruedInterest": 1461002,"rateMultiplier": 1461000,"rateSpread": 19,"feeRate": 32074,"nextResetRate": 4900,"penaltyRate": 111,"premiumDiscountAtIED": 4000,"priceAtPurchaseDate": 2,"cycleOfInterestPayment": {"i": 12,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 96,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 4799,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 10,"p": 5,"s": 1,"isSet": false},"lifeCap": 10,"lifeFloor": 399,"periodCap": 119,"periodFloor": 254}, {"lastEventTime": 120,"contractStatus": 3,"timeFromLastEvent": 111,"nominalValue": 3999,"nominalAccrued": 17,"feeAccrued": 19,"nominalRate": 80,"interestScalingMultiplier": 400,"nominalScalingMultiplier": 10001,"contractRoleSign": 2}, 10000,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 4,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [76,121,94,70,84,254,103,90,60,210,19,0,151,51,46,234,76,192,91,178,168,207,196,181,210,150,237,152,173,238,45,102],"legalEntityIdCounterparty": [10,248,73,168,187,40,17,211,151,205,95,134,197,189,128,157,208,243,149,23,143,129,91,45,239,106,232,255,171,23,239,238],"dayCountConvention": 0,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 68569,"statusDate": 1336,"initialExchangeDate": 63,"maturityDate": 86401,"terminationDate": 5,"purchaseDate": 949,"capitalizationEndDate": 4,"cycleAnchorDateOfInterestPayment": 120,"cycleAnchorDateOfRateReset": 140,"cycleAnchorDateOfScalingIndex": 2014223715,"cycleAnchorDateOfFee": 400,"notionalPrincipal": 900,"nominalInterestRate": 51,"feeAccrued": 21,"accruedInterest": 32074,"rateMultiplier": 19,"rateSpread": 1461,"feeRate": 119,"nextResetRate": 257,"penaltyRate": 95,"premiumDiscountAtIED": 31,"priceAtPurchaseDate": 89,"cycleOfInterestPayment": {"i": 64,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 4,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 951,"p": 4,"s": 0,"isSet": false},"cycleOfFee": {"i": 81,"p": 2,"s": 1,"isSet": true},"lifeCap": 1532892063,"lifeFloor": 365,"periodCap": 141,"periodFloor": 150}, {"lastEventTime": 15,"contractStatus": 3,"timeFromLastEvent": 2440589,"nominalValue": 51,"nominalAccrued": 110,"feeAccrued": 149,"nominalRate": 257,"interestScalingMultiplier": 68569,"nominalScalingMultiplier": 2014223717,"contractRoleSign": 7}, {"eventTime": 149,"eventTimeWithEpochOffset": 4899,"scheduleTime": 91,"eventType": 15,"currency": accounts[5],"pofType": 3,"stfType": 20}, 364,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [30,240,156,255,171,111,236,218,189,247,112,179,208,45,204,200,13,175,102,56,241,150,126,143,67,194,243,162,108,140,91,208],"legalEntityIdCounterparty": [85,198,7,198,144,94,41,18,95,33,201,131,139,37,107,136,88,11,142,45,21,163,167,173,32,240,109,238,137,49,58,37],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 51,"statusDate": 95,"initialExchangeDate": 64,"maturityDate": 1,"terminationDate": 100,"purchaseDate": 1461000,"capitalizationEndDate": 129,"cycleAnchorDateOfInterestPayment": 64,"cycleAnchorDateOfRateReset": 50,"cycleAnchorDateOfScalingIndex": 2014223715,"cycleAnchorDateOfFee": 949,"notionalPrincipal": 1969,"nominalInterestRate": 79,"feeAccrued": 50,"accruedInterest": 4800,"rateMultiplier": 4801,"rateSpread": 901,"feeRate": 1461,"nextResetRate": 64,"penaltyRate": 257,"premiumDiscountAtIED": 4,"priceAtPurchaseDate": 3999,"cycleOfInterestPayment": {"i": 1,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 2448,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 2,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 1969,"p": 2,"s": 1,"isSet": false},"lifeCap": 60,"lifeFloor": 63,"periodCap": 31,"periodFloor": 1532892064}, 28, 150,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [252,224,25,97,92,206,10,115,53,243,252,55,213,17,130,30,134,1,135,203,58,73,211,216,116,68,22,195,238,189,170,26],"legalEntityIdCounterparty": [31,65,41,125,167,90,246,169,69,3,252,141,227,205,230,217,158,173,170,132,216,11,221,118,164,243,50,4,31,5,96,105],"dayCountConvention": 5,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 3,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 367,"statusDate": 86400,"initialExchangeDate": 17,"maturityDate": 2447,"terminationDate": 4,"purchaseDate": 86399,"capitalizationEndDate": 10000,"cycleAnchorDateOfInterestPayment": 81,"cycleAnchorDateOfRateReset": 257,"cycleAnchorDateOfScalingIndex": 70,"cycleAnchorDateOfFee": 360,"notionalPrincipal": 39,"nominalInterestRate": 120,"feeAccrued": 2440588,"accruedInterest": 80,"rateMultiplier": 1532892063,"rateSpread": 366,"feeRate": 86399,"nextResetRate": 13,"penaltyRate": 140,"premiumDiscountAtIED": 86400,"priceAtPurchaseDate": 60,"cycleOfInterestPayment": {"i": 1969,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 951,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 399,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 364,"p": 3,"s": 1,"isSet": false},"lifeCap": 11,"lifeFloor": 96,"periodCap": 4901,"periodFloor": 80}, 86401, 21,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [149,49,27,5,51,119,11,24,69,159,1,115,203,194,178,154,220,215,5,56,143,230,28,221,209,243,127,197,218,111,155,33],"legalEntityIdCounterparty": [76,79,111,174,122,27,166,118,68,202,183,202,80,239,129,183,159,88,234,76,64,108,79,76,152,225,14,157,22,58,144,222],"dayCountConvention": 1,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 95,"statusDate": 900,"initialExchangeDate": 15,"maturityDate": 1336,"terminationDate": 4799,"purchaseDate": 32,"capitalizationEndDate": 1460,"cycleAnchorDateOfInterestPayment": 10000,"cycleAnchorDateOfRateReset": 9999,"cycleAnchorDateOfScalingIndex": 119,"cycleAnchorDateOfFee": 2014223715,"notionalPrincipal": 101,"nominalInterestRate": 3,"feeAccrued": 32076,"accruedInterest": 21,"rateMultiplier": 4001,"rateSpread": 2014223715,"feeRate": 49,"nextResetRate": 80,"penaltyRate": 111,"premiumDiscountAtIED": 101,"priceAtPurchaseDate": 1462,"cycleOfInterestPayment": {"i": 139,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 10000,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 24,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 2448,"p": 3,"s": 0,"isSet": true},"lifeCap": 96,"lifeFloor": 951,"periodCap": 361,"periodFloor": 100}, 400, 1461000,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [176,98,132,119,163,203,238,39,23,209,136,80,152,156,252,106,84,87,220,21,177,189,137,166,131,237,29,213,57,56,186,63],"legalEntityIdCounterparty": [186,189,41,110,153,134,204,35,223,175,115,22,63,233,47,8,27,64,155,49,169,157,182,164,144,72,112,140,216,130,8,242],"dayCountConvention": 4,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 11,"statusDate": 9,"initialExchangeDate": 32074,"maturityDate": 4801,"terminationDate": 71,"purchaseDate": 2447,"capitalizationEndDate": 10,"cycleAnchorDateOfInterestPayment": 1337,"cycleAnchorDateOfRateReset": 2448,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 66,"notionalPrincipal": 4900,"nominalInterestRate": 1338,"feeAccrued": 361,"accruedInterest": 63,"rateMultiplier": 111,"rateSpread": 100,"feeRate": 64,"nextResetRate": 2448,"penaltyRate": 14,"premiumDiscountAtIED": 86400,"priceAtPurchaseDate": 1461000,"cycleOfInterestPayment": {"i": 8,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 10001,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1532892062,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 361,"p": 5,"s": 1,"isSet": false},"lifeCap": -1,"lifeFloor": 149,"periodCap": 119,"periodFloor": 1462}, 151, 10000,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [213,50,35,68,97,174,129,193,254,185,110,251,202,168,20,170,105,91,212,166,224,60,9,195,221,219,51,120,116,128,193,152],"legalEntityIdCounterparty": [126,216,37,190,44,188,148,22,163,43,55,53,114,17,172,104,46,237,88,221,180,63,31,180,240,253,237,7,54,227,188,130],"dayCountConvention": 1,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 100,"statusDate": 60,"initialExchangeDate": 11,"maturityDate": 256,"terminationDate": 31,"purchaseDate": 0,"capitalizationEndDate": 1,"cycleAnchorDateOfInterestPayment": 360,"cycleAnchorDateOfRateReset": 19,"cycleAnchorDateOfScalingIndex": 255,"cycleAnchorDateOfFee": 400,"notionalPrincipal": 19,"nominalInterestRate": 86399,"feeAccrued": 2440589,"accruedInterest": 31,"rateMultiplier": 2440589,"rateSpread": 31,"feeRate": 365,"nextResetRate": 11,"penaltyRate": 401,"premiumDiscountAtIED": 151,"priceAtPurchaseDate": 18,"cycleOfInterestPayment": {"i": 399,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 24,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 9999,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 68569,"p": 5,"s": 1,"isSet": true},"lifeCap": 2014223716,"lifeFloor": 1,"periodCap": 86400,"periodFloor": 32}, 360, 1532892062,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [211,23,57,27,96,125,4,218,140,186,174,208,67,168,70,41,90,15,111,197,146,224,197,136,238,197,154,92,199,196,1,146],"legalEntityIdCounterparty": [39,79,146,109,182,89,36,122,80,115,210,229,169,185,178,8,185,214,16,46,110,244,2,242,158,223,211,242,12,195,34,102],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 3,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 1461,"statusDate": 140,"initialExchangeDate": 1462,"maturityDate": 26,"terminationDate": 361,"purchaseDate": 256,"capitalizationEndDate": 4000,"cycleAnchorDateOfInterestPayment": 130,"cycleAnchorDateOfRateReset": 2014223714,"cycleAnchorDateOfScalingIndex": 8,"cycleAnchorDateOfFee": 28,"notionalPrincipal": 949,"nominalInterestRate": 2014223714,"feeAccrued": 41,"accruedInterest": 2448,"rateMultiplier": 97,"rateSpread": 129,"feeRate": 401,"nextResetRate": 14,"penaltyRate": 901,"premiumDiscountAtIED": 399,"priceAtPurchaseDate": 9,"cycleOfInterestPayment": {"i": 6,"p": 1,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 360,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1971,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 4001,"p": 4,"s": 0,"isSet": false},"lifeCap": 146097,"lifeFloor": 129,"periodCap": 2448,"periodFloor": 150}, 146098, 9999,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [218,92,35,80,64,227,162,118,64,175,181,159,145,126,180,41,243,121,12,238,17,51,175,180,54,95,172,33,118,49,187,247],"legalEntityIdCounterparty": [43,36,148,119,227,85,138,177,23,71,174,207,104,195,114,14,186,200,75,113,55,20,209,203,40,16,116,145,12,23,242,4],"dayCountConvention": 0,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 7,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 21,"statusDate": 70,"initialExchangeDate": 4,"maturityDate": 86400,"terminationDate": 4800,"purchaseDate": 4800,"capitalizationEndDate": 2,"cycleAnchorDateOfInterestPayment": 9999,"cycleAnchorDateOfRateReset": 3999,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 16,"notionalPrincipal": 79,"nominalInterestRate": 2447,"feeAccrued": 40,"accruedInterest": 1,"rateMultiplier": 17,"rateSpread": 10,"feeRate": 3,"nextResetRate": 2448,"penaltyRate": 256,"premiumDiscountAtIED": 4001,"priceAtPurchaseDate": 40,"cycleOfInterestPayment": {"i": 63,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 29,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 4001,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 10,"p": 1,"s": 0,"isSet": true},"lifeCap": 951,"lifeFloor": 359,"periodCap": 39,"periodFloor": 1460}, 2014223716, 49,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [53,92,214,21,170,58,179,46,181,1,209,79,114,67,119,173,66,40,234,164,59,138,1,152,133,174,167,215,115,114,109,104],"legalEntityIdCounterparty": [184,137,153,24,212,136,34,42,50,245,90,20,92,171,200,174,102,161,40,217,72,61,131,73,231,17,72,111,62,56,255,85],"dayCountConvention": 1,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 3,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 150,"statusDate": 255,"initialExchangeDate": 401,"maturityDate": 48,"terminationDate": 1338,"purchaseDate": 2014223717,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 5,"cycleAnchorDateOfRateReset": 365,"cycleAnchorDateOfScalingIndex": 97,"cycleAnchorDateOfFee": 4901,"notionalPrincipal": 4000,"nominalInterestRate": 59,"feeAccrued": 91,"accruedInterest": 368,"rateMultiplier": 254,"rateSpread": 21,"feeRate": 68568,"nextResetRate": 7,"penaltyRate": 69,"premiumDiscountAtIED": 146097,"priceAtPurchaseDate": 2014223714,"cycleOfInterestPayment": {"i": 3,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 2014223716,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1971,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 18,"p": 2,"s": 1,"isSet": true},"lifeCap": 7,"lifeFloor": 368,"periodCap": 1532892062,"periodFloor": 39}, 2440589, 32074,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [17,15,238,238,114,249,62,235,169,36,176,86,27,222,87,122,138,81,28,157,83,32,24,131,223,123,95,74,175,127,128,154],"legalEntityIdCounterparty": [210,172,172,254,51,133,242,241,104,211,206,30,134,101,119,160,116,5,241,119,202,15,252,3,137,41,149,93,179,34,207,249],"dayCountConvention": 5,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 1461,"statusDate": 2,"initialExchangeDate": 4000,"maturityDate": 4799,"terminationDate": 111,"purchaseDate": 950,"capitalizationEndDate": 7,"cycleAnchorDateOfInterestPayment": 2014223714,"cycleAnchorDateOfRateReset": 2446,"cycleAnchorDateOfScalingIndex": 2014223717,"cycleAnchorDateOfFee": 951,"notionalPrincipal": 6,"nominalInterestRate": 86400,"feeAccrued": 48,"accruedInterest": 1336,"rateMultiplier": 86399,"rateSpread": 161,"feeRate": 100,"nextResetRate": 12,"penaltyRate": 8,"premiumDiscountAtIED": 1461001,"priceAtPurchaseDate": 146098,"cycleOfInterestPayment": {"i": 366,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 368,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 79,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 79,"p": 1,"s": 1,"isSet": true},"lifeCap": 23,"lifeFloor": 2448,"periodCap": 254,"periodFloor": 257}, 97, 131,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [61,252,207,197,125,160,244,76,121,181,47,195,42,37,20,208,17,206,151,2,243,121,216,184,67,227,180,178,226,165,139,206],"legalEntityIdCounterparty": [26,40,142,58,182,42,51,167,124,31,189,126,59,87,147,44,59,55,180,183,151,2,216,196,32,168,76,31,73,192,93,21],"dayCountConvention": 5,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 7,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 161,"statusDate": 86399,"initialExchangeDate": 50,"maturityDate": 2,"terminationDate": 109,"purchaseDate": 1532892062,"capitalizationEndDate": 3,"cycleAnchorDateOfInterestPayment": 159,"cycleAnchorDateOfRateReset": 1461,"cycleAnchorDateOfScalingIndex": 257,"cycleAnchorDateOfFee": 1532892063,"notionalPrincipal": 29,"nominalInterestRate": 949,"feeAccrued": 10,"accruedInterest": 2014223714,"rateMultiplier": 24,"rateSpread": 81,"feeRate": 1460,"nextResetRate": 4799,"penaltyRate": 2440589,"premiumDiscountAtIED": 12,"priceAtPurchaseDate": 1461000,"cycleOfInterestPayment": {"i": 131,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 12,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 41,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 9,"p": 0,"s": 1,"isSet": false},"lifeCap": 367,"lifeFloor": 2014223716,"periodCap": 2014223715,"periodFloor": 1461}, 101, 19,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [46,204,226,155,145,79,194,248,31,47,206,17,234,12,113,167,43,245,189,242,97,152,239,72,148,244,212,176,229,164,6,129],"legalEntityIdCounterparty": [6,216,122,111,110,190,72,176,58,148,21,156,9,151,132,233,251,22,43,250,54,153,137,252,194,182,158,241,237,104,52,133],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 7,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 1462,"statusDate": 2446,"initialExchangeDate": 119,"maturityDate": 10000,"terminationDate": 119,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 69,"cycleAnchorDateOfRateReset": 12,"cycleAnchorDateOfScalingIndex": 899,"cycleAnchorDateOfFee": 59,"notionalPrincipal": 17,"nominalInterestRate": 0,"feeAccrued": 16,"accruedInterest": 50,"rateMultiplier": 400,"rateSpread": 32076,"feeRate": 360,"nextResetRate": 141,"penaltyRate": 24,"premiumDiscountAtIED": 24,"priceAtPurchaseDate": 96,"cycleOfInterestPayment": {"i": 91,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 70,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 2440589,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 16,"p": 4,"s": 1,"isSet": false},"lifeCap": 63,"lifeFloor": 15,"periodCap": 2446,"periodFloor": 139}, 360, 150,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [43,202,19,7,249,203,99,39,249,85,226,157,254,165,17,44,113,175,58,180,159,198,11,4,137,54,15,166,218,172,55,50],"legalEntityIdCounterparty": [72,70,156,92,70,172,3,101,162,1,0,86,173,32,83,210,201,178,220,156,170,158,227,183,178,66,24,231,202,119,141,15],"dayCountConvention": 6,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 1461000,"statusDate": 86400,"initialExchangeDate": 66,"maturityDate": 31,"terminationDate": 69,"purchaseDate": 3,"capitalizationEndDate": 27,"cycleAnchorDateOfInterestPayment": 146098,"cycleAnchorDateOfRateReset": 131,"cycleAnchorDateOfScalingIndex": 12,"cycleAnchorDateOfFee": 1,"notionalPrincipal": 14,"nominalInterestRate": 19,"feeAccrued": 18,"accruedInterest": 59,"rateMultiplier": 1970,"rateSpread": 86401,"feeRate": 28,"nextResetRate": 899,"penaltyRate": 146096,"premiumDiscountAtIED": 140,"priceAtPurchaseDate": 10001,"cycleOfInterestPayment": {"i": 30,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 2440588,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 39,"p": 3,"s": 0,"isSet": true},"lifeCap": 24,"lifeFloor": 949,"periodCap": 949,"periodFloor": 139}, 139, 6,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [19,161,178,162,99,200,15,235,41,146,27,131,147,235,226,63,191,111,213,25,103,118,189,39,30,102,195,24,94,136,3,248],"legalEntityIdCounterparty": [27,51,30,43,102,41,209,92,121,225,234,208,42,218,159,100,226,47,172,27,248,113,60,18,57,84,40,11,127,189,131,151],"dayCountConvention": 6,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 110,"statusDate": 255,"initialExchangeDate": 15,"maturityDate": 146097,"terminationDate": 2014223714,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 140,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 5,"cycleAnchorDateOfFee": 368,"notionalPrincipal": 159,"nominalInterestRate": 0,"feeAccrued": 61,"accruedInterest": 2440589,"rateMultiplier": 1337,"rateSpread": 71,"feeRate": 9,"nextResetRate": 26,"penaltyRate": 1338,"premiumDiscountAtIED": 121,"priceAtPurchaseDate": 59,"cycleOfInterestPayment": {"i": 111,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 120,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 19,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 71,"p": 1,"s": 1,"isSet": true},"lifeCap": 146097,"lifeFloor": 18,"periodCap": 951,"periodFloor": 2440589}, 2014223714, 4,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [50,23,183,209,32,46,34,72,112,67,117,2,35,66,220,141,118,19,255,185,201,248,11,8,34,15,185,234,204,94,15,103],"legalEntityIdCounterparty": [209,105,211,51,200,21,124,41,14,146,181,131,252,127,3,3,247,152,91,52,42,145,79,36,201,23,83,192,236,246,250,32],"dayCountConvention": 2,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 121,"statusDate": 63,"initialExchangeDate": 69,"maturityDate": 1971,"terminationDate": 4000,"purchaseDate": 6,"capitalizationEndDate": 1336,"cycleAnchorDateOfInterestPayment": 120,"cycleAnchorDateOfRateReset": 149,"cycleAnchorDateOfScalingIndex": 80,"cycleAnchorDateOfFee": 111,"notionalPrincipal": 257,"nominalInterestRate": 4000,"feeAccrued": 96,"accruedInterest": 4800,"rateMultiplier": 1,"rateSpread": 59,"feeRate": 1461,"nextResetRate": 4001,"penaltyRate": 17,"premiumDiscountAtIED": 364,"priceAtPurchaseDate": 25,"cycleOfInterestPayment": {"i": 24,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1970,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 4900,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 30,"p": 2,"s": 0,"isSet": true},"lifeCap": 2446,"lifeFloor": 41,"periodCap": 3999,"periodFloor": 110}, 2440589, 109,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [209,252,7,174,169,34,122,41,42,166,126,79,137,57,227,102,143,62,150,43,188,176,224,252,118,42,254,107,57,103,46,144],"legalEntityIdCounterparty": [85,213,7,230,192,17,194,168,234,236,202,17,193,118,212,178,140,21,203,210,208,145,76,81,218,134,40,44,30,0,21,196],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 4801,"statusDate": 6,"initialExchangeDate": 7,"maturityDate": 2440589,"terminationDate": 2014223715,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 12,"cycleAnchorDateOfRateReset": 1336,"cycleAnchorDateOfScalingIndex": 50,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 2448,"nominalInterestRate": 0,"feeAccrued": 359,"accruedInterest": 96,"rateMultiplier": 2440589,"rateSpread": 254,"feeRate": 1462,"nextResetRate": 41,"penaltyRate": 255,"premiumDiscountAtIED": 140,"priceAtPurchaseDate": 1336,"cycleOfInterestPayment": {"i": 39,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 2447,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 32075,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 49,"p": 3,"s": 0,"isSet": true},"lifeCap": 130,"lifeFloor": 4799,"periodCap": 368,"periodFloor": 900}, 79, 32076,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [96,12,161,101,60,43,125,17,28,123,52,75,58,224,160,60,64,185,55,202,14,43,199,158,151,90,172,237,193,107,208,206],"legalEntityIdCounterparty": [56,21,107,196,160,237,11,23,3,248,209,25,64,115,177,5,224,13,142,50,255,128,80,88,99,180,30,44,117,80,25,171],"dayCountConvention": 1,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 3,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 139,"statusDate": 364,"initialExchangeDate": 900,"maturityDate": 4,"terminationDate": 28,"purchaseDate": 0,"capitalizationEndDate": 30,"cycleAnchorDateOfInterestPayment": 255,"cycleAnchorDateOfRateReset": 159,"cycleAnchorDateOfScalingIndex": 1970,"cycleAnchorDateOfFee": 64,"notionalPrincipal": 71,"nominalInterestRate": 2014223715,"feeAccrued": 1532892063,"accruedInterest": 21,"rateMultiplier": 91,"rateSpread": 3,"feeRate": 97,"nextResetRate": 119,"penaltyRate": 146098,"premiumDiscountAtIED": 81,"priceAtPurchaseDate": 20,"cycleOfInterestPayment": {"i": 130,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 32074,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 69,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 1461001,"p": 2,"s": 0,"isSet": false},"lifeCap": 131,"lifeFloor": 365,"periodCap": 5,"periodFloor": 4000}, 4001, 3999,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [1,45,94,39,46,4,214,38,87,19,204,37,108,95,229,105,57,53,182,101,243,205,21,176,20,8,149,13,151,39,254,66],"legalEntityIdCounterparty": [139,168,132,191,216,189,217,39,242,250,223,77,193,118,181,57,115,32,153,234,229,95,14,210,158,87,140,151,15,38,189,150],"dayCountConvention": 3,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 2440589,"statusDate": 1338,"initialExchangeDate": 14,"maturityDate": 141,"terminationDate": 1337,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 4799,"cycleAnchorDateOfRateReset": 110,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 141,"notionalPrincipal": 129,"nominalInterestRate": 0,"feeAccrued": 32076,"accruedInterest": 110,"rateMultiplier": 1461,"rateSpread": 146098,"feeRate": 365,"nextResetRate": 2446,"penaltyRate": 3999,"premiumDiscountAtIED": 91,"priceAtPurchaseDate": 32075,"cycleOfInterestPayment": {"i": 111,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 12,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1461000,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 48,"p": 3,"s": 0,"isSet": true},"lifeCap": 27,"lifeFloor": 9,"periodCap": 160,"periodFloor": 71}, 1336, 96,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [65,205,50,2,115,100,156,95,4,254,7,42,4,236,182,169,197,136,123,63,135,51,117,105,7,99,185,177,125,68,95,197],"legalEntityIdCounterparty": [194,44,55,228,14,230,228,43,47,108,55,203,103,246,69,124,102,221,102,90,95,186,46,67,112,57,4,38,245,188,39,93],"dayCountConvention": 5,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 364,"statusDate": 401,"initialExchangeDate": 2014223714,"maturityDate": 9,"terminationDate": 109,"purchaseDate": 51,"capitalizationEndDate": 2014223714,"cycleAnchorDateOfInterestPayment": 68570,"cycleAnchorDateOfRateReset": 32076,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 129,"notionalPrincipal": 951,"nominalInterestRate": 2014223714,"feeAccrued": 140,"accruedInterest": 1461,"rateMultiplier": 160,"rateSpread": 14,"feeRate": 160,"nextResetRate": 161,"penaltyRate": 2446,"premiumDiscountAtIED": 1461002,"priceAtPurchaseDate": 121,"cycleOfInterestPayment": {"i": 2014223717,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 80,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 15,"p": 3,"s": 0,"isSet": false},"lifeCap": 1462,"lifeFloor": 1970,"periodCap": 119,"periodFloor": 1532892063}, 95, 4899,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [19,152,183,136,166,28,199,61,231,82,111,58,82,183,182,43,9,105,128,48,253,219,144,153,146,88,89,104,79,189,201,191],"legalEntityIdCounterparty": [88,194,49,253,210,155,44,84,251,146,174,189,105,43,180,51,77,93,157,112,138,250,129,219,11,157,254,153,7,137,205,206],"dayCountConvention": 6,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 101,"statusDate": 3999,"initialExchangeDate": 4799,"maturityDate": 3999,"terminationDate": 16,"purchaseDate": 80,"capitalizationEndDate": 7,"cycleAnchorDateOfInterestPayment": 2446,"cycleAnchorDateOfRateReset": 364,"cycleAnchorDateOfScalingIndex": 1336,"cycleAnchorDateOfFee": 71,"notionalPrincipal": 140,"nominalInterestRate": 3,"feeAccrued": 10000,"accruedInterest": 79,"rateMultiplier": 1461001,"rateSpread": 48,"feeRate": 139,"nextResetRate": 1461000,"penaltyRate": 1461002,"premiumDiscountAtIED": 139,"priceAtPurchaseDate": 161,"cycleOfInterestPayment": {"i": 9,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 4799,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 399,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 2440588,"p": 3,"s": 0,"isSet": false},"lifeCap": 32075,"lifeFloor": 63,"periodCap": 86400,"periodFloor": 9999}, 9, 1,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [35,161,151,82,100,159,157,216,198,94,82,0,94,169,65,17,213,87,151,193,5,58,58,136,57,101,251,243,112,94,205,130],"legalEntityIdCounterparty": [244,177,80,32,50,20,76,130,6,242,67,147,136,3,126,197,179,195,192,13,86,43,101,48,235,228,217,226,54,130,179,236],"dayCountConvention": 0,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 1461,"statusDate": 97,"initialExchangeDate": 256,"maturityDate": 10000,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 121,"cycleAnchorDateOfRateReset": 15,"cycleAnchorDateOfScalingIndex": 2014223714,"cycleAnchorDateOfFee": 160,"notionalPrincipal": 27,"nominalInterestRate": 0,"feeAccrued": 1461001,"accruedInterest": 1338,"rateMultiplier": 3999,"rateSpread": 16,"feeRate": 71,"nextResetRate": 89,"penaltyRate": 4800,"premiumDiscountAtIED": 86401,"priceAtPurchaseDate": 151,"cycleOfInterestPayment": {"i": 949,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 111,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 79,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 10001,"p": 4,"s": 0,"isSet": true},"lifeCap": 66,"lifeFloor": 23,"periodCap": 70,"periodFloor": 899}, 950, 1462,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [202,214,214,211,114,229,153,243,107,203,239,26,7,237,200,176,26,183,207,178,4,89,221,49,52,185,245,194,187,103,57,223],"legalEntityIdCounterparty": [213,136,100,237,193,236,196,114,228,241,130,47,10,172,111,29,139,226,209,60,60,10,58,94,55,108,53,44,136,217,72,200],"dayCountConvention": 1,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 1,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 10001,"statusDate": 4001,"initialExchangeDate": 4899,"maturityDate": 2440587,"terminationDate": 1336,"purchaseDate": 11,"capitalizationEndDate": 96,"cycleAnchorDateOfInterestPayment": 24,"cycleAnchorDateOfRateReset": 1460,"cycleAnchorDateOfScalingIndex": 4799,"cycleAnchorDateOfFee": 50,"notionalPrincipal": 66,"nominalInterestRate": 140,"feeAccrued": 901,"accruedInterest": 95,"rateMultiplier": 81,"rateSpread": 900,"feeRate": 23,"nextResetRate": 4799,"penaltyRate": 68570,"premiumDiscountAtIED": 1532892063,"priceAtPurchaseDate": 4799,"cycleOfInterestPayment": {"i": 159,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 89,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 29,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 69,"p": 0,"s": 0,"isSet": false},"lifeCap": 159,"lifeFloor": 6,"periodCap": 71,"periodFloor": 110}, 81, 86400,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [59,171,60,28,153,197,185,224,67,107,81,180,147,16,148,103,197,216,116,97,187,110,139,125,7,6,37,230,246,99,233,152],"legalEntityIdCounterparty": [119,115,128,38,200,122,99,71,231,183,107,180,247,219,165,252,101,54,232,120,130,92,181,194,204,230,42,106,215,121,114,216],"dayCountConvention": 3,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 0,"statusDate": 361,"initialExchangeDate": 20,"maturityDate": 80,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 109,"cycleAnchorDateOfRateReset": 80,"cycleAnchorDateOfScalingIndex": 63,"cycleAnchorDateOfFee": 32076,"notionalPrincipal": 1532892064,"nominalInterestRate": 0,"feeAccrued": 30,"accruedInterest": 61,"rateMultiplier": 99,"rateSpread": 364,"feeRate": 65,"nextResetRate": 130,"penaltyRate": 1532892064,"premiumDiscountAtIED": 19,"priceAtPurchaseDate": 86401,"cycleOfInterestPayment": {"i": 90,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 80,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 71,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 71,"p": 1,"s": 1,"isSet": true},"lifeCap": 159,"lifeFloor": 159,"periodCap": 2447,"periodFloor": 950}, 3999, 361,{from: accounts[0]});
  });
});
