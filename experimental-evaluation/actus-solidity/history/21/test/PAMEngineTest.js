const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 16,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [221,250,233,249,40,192,86,34,131,170,146,50,48,197,228,252,7,240,158,18,99,12,3,212,166,93,125,35,183,238,45,180],"legalEntityIdCounterparty": [247,178,24,187,99,216,238,52,64,154,121,250,54,75,152,165,227,130,134,227,74,189,175,213,159,187,56,77,207,214,219,160],"dayCountConvention": 4,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 141,"statusDate": 20,"initialExchangeDate": 10000,"maturityDate": 159,"terminationDate": 401,"purchaseDate": 119,"capitalizationEndDate": 949,"cycleAnchorDateOfInterestPayment": 23,"cycleAnchorDateOfRateReset": 9999,"cycleAnchorDateOfScalingIndex": 32,"cycleAnchorDateOfFee": 1338,"notionalPrincipal": 951,"nominalInterestRate": 2014223716,"feeAccrued": 6,"accruedInterest": 48,"rateMultiplier": 8,"rateSpread": 256,"feeRate": 2,"nextResetRate": 60,"penaltyRate": 1971,"premiumDiscountAtIED": 68570,"priceAtPurchaseDate": 2448,"cycleOfInterestPayment": {"i": 130,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 89,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 149,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 70,"p": 0,"s": 1,"isSet": false},"lifeCap": 364,"lifeFloor": 24,"periodCap": 63,"periodFloor": 4799},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 17,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [237,212,32,210,41,71,27,15,170,112,112,246,115,178,136,43,66,88,249,195,112,169,112,77,42,207,136,66,162,198,114,245],"legalEntityIdCounterparty": [228,111,219,196,11,70,109,122,36,75,28,118,80,25,94,106,140,64,48,137,109,32,84,133,68,159,22,0,67,246,141,105],"dayCountConvention": 3,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 1337,"statusDate": 32,"initialExchangeDate": 149,"maturityDate": 10000,"terminationDate": 1337,"purchaseDate": 2448,"capitalizationEndDate": 141,"cycleAnchorDateOfInterestPayment": 95,"cycleAnchorDateOfRateReset": 86400,"cycleAnchorDateOfScalingIndex": 1532892062,"cycleAnchorDateOfFee": 2014223714,"notionalPrincipal": 367,"nominalInterestRate": 1970,"feeAccrued": 899,"accruedInterest": 8,"rateMultiplier": 1,"rateSpread": 146098,"feeRate": 119,"nextResetRate": 19,"penaltyRate": 364,"premiumDiscountAtIED": 899,"priceAtPurchaseDate": 4,"cycleOfInterestPayment": {"i": 81,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 1969,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 61,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 64,"p": 1,"s": 0,"isSet": false},"lifeCap": 3,"lifeFloor": 255,"periodCap": 2014223714,"periodFloor": 1462}, {"lastEventTime": 254,"contractStatus": 0,"timeFromLastEvent": 400,"nominalValue": 19,"nominalAccrued": 4,"feeAccrued": 23,"nominalRate": 86399,"interestScalingMultiplier": 2448,"nominalScalingMultiplier": 365,"contractRoleSign": 8}, 1461,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 4,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [81,192,74,11,132,87,236,177,96,77,159,187,90,142,50,133,166,36,72,201,188,30,221,127,183,173,146,118,113,237,38,161],"legalEntityIdCounterparty": [67,144,163,11,55,70,233,171,198,9,47,81,143,161,68,188,139,233,113,248,68,171,202,157,204,137,18,201,217,141,138,142],"dayCountConvention": 1,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 1461,"statusDate": 161,"initialExchangeDate": 69,"maturityDate": 71,"terminationDate": 2014223714,"purchaseDate": 70,"capitalizationEndDate": 141,"cycleAnchorDateOfInterestPayment": 65,"cycleAnchorDateOfRateReset": 32074,"cycleAnchorDateOfScalingIndex": 91,"cycleAnchorDateOfFee": 29,"notionalPrincipal": 141,"nominalInterestRate": 11,"feeAccrued": -1,"accruedInterest": 18,"rateMultiplier": 61,"rateSpread": 68569,"feeRate": 40,"nextResetRate": 131,"penaltyRate": 96,"premiumDiscountAtIED": 3,"priceAtPurchaseDate": 119,"cycleOfInterestPayment": {"i": 11,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1461001,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 17,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 2448,"p": 5,"s": 0,"isSet": false},"lifeCap": 0,"lifeFloor": 8,"periodCap": 65,"periodFloor": 64}, {"lastEventTime": 254,"contractStatus": 2,"timeFromLastEvent": -1,"nominalValue": 86400,"nominalAccrued": 86400,"feeAccrued": 1336,"nominalRate": 949,"interestScalingMultiplier": 3,"nominalScalingMultiplier": 95,"contractRoleSign": 3}, {"eventTime": 101,"eventTimeWithEpochOffset": 28,"scheduleTime": 89,"eventType": 3,"currency": accounts[2],"pofType": 16,"stfType": 1}, 89,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [16,164,38,125,73,28,242,251,86,128,49,215,165,229,242,217,88,156,16,31,178,83,245,236,7,249,182,220,172,58,209,237],"legalEntityIdCounterparty": [188,78,241,89,255,189,145,195,121,185,166,132,221,213,66,44,84,34,39,49,230,132,138,62,126,217,238,177,102,211,66,147],"dayCountConvention": 1,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 161,"statusDate": 3999,"initialExchangeDate": 257,"maturityDate": 129,"terminationDate": 66,"purchaseDate": 71,"capitalizationEndDate": 7,"cycleAnchorDateOfInterestPayment": 68569,"cycleAnchorDateOfRateReset": 13,"cycleAnchorDateOfScalingIndex": 30,"cycleAnchorDateOfFee": 141,"notionalPrincipal": 4801,"nominalInterestRate": 2440587,"feeAccrued": 2014223716,"accruedInterest": 3999,"rateMultiplier": 81,"rateSpread": 91,"feeRate": 20,"nextResetRate": 18,"penaltyRate": 32075,"premiumDiscountAtIED": 900,"priceAtPurchaseDate": 69,"cycleOfInterestPayment": {"i": 86399,"p": 3,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 30,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 2,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 27,"p": 5,"s": 1,"isSet": true},"lifeCap": 41,"lifeFloor": 1461000,"periodCap": 86400,"periodFloor": 950}, 129, 160,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [9,37,219,175,138,20,74,88,27,83,163,213,90,232,223,149,58,67,102,2,169,170,157,71,9,233,169,15,146,238,71,245],"legalEntityIdCounterparty": [97,206,193,146,203,48,235,194,201,82,50,177,183,229,112,248,6,29,76,131,204,132,243,35,70,5,155,223,64,49,45,116],"dayCountConvention": 0,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 2447,"statusDate": 7,"initialExchangeDate": 4899,"maturityDate": 1532892064,"terminationDate": 146098,"purchaseDate": 365,"capitalizationEndDate": 49,"cycleAnchorDateOfInterestPayment": 68570,"cycleAnchorDateOfRateReset": 901,"cycleAnchorDateOfScalingIndex": 899,"cycleAnchorDateOfFee": 89,"notionalPrincipal": 96,"nominalInterestRate": 255,"feeAccrued": 361,"accruedInterest": 120,"rateMultiplier": 1,"rateSpread": 10001,"feeRate": 20,"nextResetRate": 2440588,"penaltyRate": 140,"premiumDiscountAtIED": 146096,"priceAtPurchaseDate": 160,"cycleOfInterestPayment": {"i": 10000,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1532892062,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 86399,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 41,"p": 0,"s": 1,"isSet": true},"lifeCap": 10,"lifeFloor": 10001,"periodCap": 9999,"periodFloor": 161}, 2447, 99,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [10,81,115,42,233,197,224,201,0,73,218,120,108,198,175,115,196,52,225,136,196,177,95,44,195,140,93,83,14,204,117,175],"legalEntityIdCounterparty": [2,26,34,54,137,230,117,184,63,211,107,15,99,225,7,157,11,2,196,61,161,127,167,57,175,90,8,12,36,30,38,146],"dayCountConvention": 4,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 1461002,"statusDate": 68569,"initialExchangeDate": 2448,"maturityDate": 2440588,"terminationDate": 32,"purchaseDate": 32,"capitalizationEndDate": 119,"cycleAnchorDateOfInterestPayment": 257,"cycleAnchorDateOfRateReset": 254,"cycleAnchorDateOfScalingIndex": 1,"cycleAnchorDateOfFee": 68569,"notionalPrincipal": 64,"nominalInterestRate": 95,"feeAccrued": 86401,"accruedInterest": 64,"rateMultiplier": 4901,"rateSpread": -1,"feeRate": 80,"nextResetRate": 2014223715,"penaltyRate": 1532892063,"premiumDiscountAtIED": 899,"priceAtPurchaseDate": 4001,"cycleOfInterestPayment": {"i": 68570,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 2440587,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 949,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 1337,"p": 5,"s": 1,"isSet": false},"lifeCap": 96,"lifeFloor": 64,"periodCap": 4799,"periodFloor": 367}, 20, 32074,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [49,66,12,161,101,141,72,24,175,15,243,93,54,109,123,47,170,104,222,200,147,43,23,94,204,237,132,252,162,129,41,234],"legalEntityIdCounterparty": [205,51,35,6,200,211,41,158,32,74,40,9,149,139,16,209,97,205,84,130,91,106,186,113,172,205,101,60,119,167,43,173],"dayCountConvention": 6,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 86401,"statusDate": 257,"initialExchangeDate": 89,"maturityDate": 1461001,"terminationDate": 96,"purchaseDate": 29,"capitalizationEndDate": 10000,"cycleAnchorDateOfInterestPayment": 2446,"cycleAnchorDateOfRateReset": 111,"cycleAnchorDateOfScalingIndex": 131,"cycleAnchorDateOfFee": 32074,"notionalPrincipal": 101,"nominalInterestRate": 81,"feeAccrued": 4001,"accruedInterest": 10000,"rateMultiplier": 68568,"rateSpread": 80,"feeRate": 256,"nextResetRate": 368,"penaltyRate": 9999,"premiumDiscountAtIED": 159,"priceAtPurchaseDate": 32076,"cycleOfInterestPayment": {"i": 69,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 130,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 80,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 129,"p": 1,"s": 0,"isSet": true},"lifeCap": 901,"lifeFloor": 109,"periodCap": 24,"periodFloor": 89}, 901, 257,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [79,251,145,93,108,226,146,210,245,39,242,16,174,58,241,143,107,9,109,128,24,207,130,80,23,60,60,248,65,137,138,153],"legalEntityIdCounterparty": [43,125,143,158,249,71,9,7,248,163,241,181,89,186,31,45,208,52,3,116,85,137,4,149,14,75,242,247,68,188,9,142],"dayCountConvention": 6,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 4,"statusDate": 400,"initialExchangeDate": 32075,"maturityDate": 25,"terminationDate": 256,"purchaseDate": 0,"capitalizationEndDate": 1532892062,"cycleAnchorDateOfInterestPayment": 899,"cycleAnchorDateOfRateReset": 367,"cycleAnchorDateOfScalingIndex": 120,"cycleAnchorDateOfFee": 111,"notionalPrincipal": 4901,"nominalInterestRate": 25,"feeAccrued": 68570,"accruedInterest": 23,"rateMultiplier": 131,"rateSpread": 2,"feeRate": 1461001,"nextResetRate": 11,"penaltyRate": 100,"premiumDiscountAtIED": 1461,"priceAtPurchaseDate": 61,"cycleOfInterestPayment": {"i": 141,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 141,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 89,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 96,"p": 3,"s": 0,"isSet": true},"lifeCap": 20,"lifeFloor": 32,"periodCap": 4901,"periodFloor": 161}, 10000, 24,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [173,203,159,189,64,142,12,19,220,235,38,66,228,122,134,36,119,149,203,25,2,154,229,55,236,162,233,202,101,148,155,171],"legalEntityIdCounterparty": [198,110,96,40,68,48,171,200,241,66,236,124,192,96,15,5,164,57,76,232,243,132,113,57,103,6,3,191,209,132,182,13],"dayCountConvention": 3,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 64,"statusDate": 1338,"initialExchangeDate": 32075,"maturityDate": 359,"terminationDate": 1,"purchaseDate": 399,"capitalizationEndDate": 4801,"cycleAnchorDateOfInterestPayment": 365,"cycleAnchorDateOfRateReset": 368,"cycleAnchorDateOfScalingIndex": 257,"cycleAnchorDateOfFee": 2446,"notionalPrincipal": 151,"nominalInterestRate": 60,"feeAccrued": 80,"accruedInterest": 1462,"rateMultiplier": 51,"rateSpread": 1461000,"feeRate": 951,"nextResetRate": 17,"penaltyRate": 4900,"premiumDiscountAtIED": 899,"priceAtPurchaseDate": 4800,"cycleOfInterestPayment": {"i": 95,"p": 0,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 1461,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 81,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 66,"p": 3,"s": 0,"isSet": true},"lifeCap": 368,"lifeFloor": 950,"periodCap": 1461,"periodFloor": 399}, 899, 41,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [25,215,157,15,88,177,62,240,58,80,52,199,246,175,220,255,144,135,42,12,39,125,88,200,126,168,154,38,77,67,54,130],"legalEntityIdCounterparty": [113,89,1,91,103,20,107,147,157,128,3,40,237,64,39,194,220,126,241,158,12,183,88,82,59,122,103,88,163,80,75,168],"dayCountConvention": 1,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 1,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 0,"statusDate": 13,"initialExchangeDate": 1,"maturityDate": 5,"terminationDate": 13,"purchaseDate": 25,"capitalizationEndDate": 119,"cycleAnchorDateOfInterestPayment": 367,"cycleAnchorDateOfRateReset": 399,"cycleAnchorDateOfScalingIndex": 1969,"cycleAnchorDateOfFee": 900,"notionalPrincipal": 96,"nominalInterestRate": 1969,"feeAccrued": 8,"accruedInterest": 146097,"rateMultiplier": 66,"rateSpread": 63,"feeRate": 2448,"nextResetRate": 21,"penaltyRate": 96,"premiumDiscountAtIED": 3,"priceAtPurchaseDate": 2440588,"cycleOfInterestPayment": {"i": 8,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 15,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1532892062,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 17,"p": 0,"s": 0,"isSet": false},"lifeCap": 129,"lifeFloor": 79,"periodCap": 1532892063,"periodFloor": 159}, 900, 15,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [55,98,119,108,229,201,191,116,75,251,48,243,193,195,147,132,93,164,42,69,204,245,198,188,237,107,172,53,124,249,151,149],"legalEntityIdCounterparty": [194,3,11,227,162,87,231,98,104,0,51,248,163,21,195,174,209,118,233,94,82,91,11,97,93,49,24,54,223,22,114,248],"dayCountConvention": 2,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 90,"statusDate": 129,"initialExchangeDate": 60,"maturityDate": 68570,"terminationDate": 121,"purchaseDate": 81,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 121,"cycleAnchorDateOfRateReset": 146097,"cycleAnchorDateOfScalingIndex": 71,"cycleAnchorDateOfFee": 64,"notionalPrincipal": 32074,"nominalInterestRate": 901,"feeAccrued": 254,"accruedInterest": 99,"rateMultiplier": 901,"rateSpread": 1,"feeRate": 1,"nextResetRate": 1461002,"penaltyRate": -1,"premiumDiscountAtIED": 97,"priceAtPurchaseDate": 23,"cycleOfInterestPayment": {"i": 109,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 68569,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 160,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 86400,"p": 4,"s": 0,"isSet": true},"lifeCap": 4001,"lifeFloor": 24,"periodCap": 146097,"periodFloor": 1532892064}, 2014223715, 66,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [130,229,164,168,74,235,68,244,101,253,245,61,70,37,4,143,3,180,142,104,27,141,32,108,54,51,81,29,201,217,27,252],"legalEntityIdCounterparty": [14,145,136,219,146,57,54,18,3,204,50,90,19,206,188,205,229,58,191,218,141,55,34,159,64,133,29,83,101,182,94,234],"dayCountConvention": 2,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 80,"statusDate": 368,"initialExchangeDate": 10000,"maturityDate": 399,"terminationDate": 16,"purchaseDate": 32,"capitalizationEndDate": 160,"cycleAnchorDateOfInterestPayment": 68570,"cycleAnchorDateOfRateReset": 131,"cycleAnchorDateOfScalingIndex": 32075,"cycleAnchorDateOfFee": 949,"notionalPrincipal": 360,"nominalInterestRate": 949,"feeAccrued": 141,"accruedInterest": 17,"rateMultiplier": 2014223716,"rateSpread": 89,"feeRate": 4,"nextResetRate": 11,"penaltyRate": 361,"premiumDiscountAtIED": 1461001,"priceAtPurchaseDate": 24,"cycleOfInterestPayment": {"i": 1461001,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 51,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 29,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 2440589,"p": 2,"s": 0,"isSet": true},"lifeCap": 1460,"lifeFloor": 900,"periodCap": 0,"periodFloor": 60}, 2014223716, 68569,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [89,158,135,11,66,252,192,39,226,154,123,142,127,190,238,96,27,32,159,136,106,152,17,133,211,36,56,137,205,104,66,176],"legalEntityIdCounterparty": [224,175,59,14,196,20,160,196,225,165,190,242,62,166,157,8,246,40,184,26,39,177,160,231,190,226,105,58,1,60,99,92],"dayCountConvention": 4,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 3,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 950,"statusDate": 1461,"initialExchangeDate": 1,"maturityDate": 68569,"terminationDate": 119,"purchaseDate": 14,"capitalizationEndDate": 89,"cycleAnchorDateOfInterestPayment": 9999,"cycleAnchorDateOfRateReset": 86399,"cycleAnchorDateOfScalingIndex": 4900,"cycleAnchorDateOfFee": 26,"notionalPrincipal": 96,"nominalInterestRate": 10001,"feeAccrued": 61,"accruedInterest": 111,"rateMultiplier": 40,"rateSpread": 95,"feeRate": 18,"nextResetRate": 146098,"penaltyRate": 81,"premiumDiscountAtIED": 68570,"priceAtPurchaseDate": 257,"cycleOfInterestPayment": {"i": 49,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 2440588,"p": 5,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 64,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 96,"p": 1,"s": 1,"isSet": true},"lifeCap": 51,"lifeFloor": 3999,"periodCap": 1970,"periodFloor": 1461}, 899, 15,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [230,52,3,227,193,228,119,226,107,129,195,145,128,114,163,89,86,221,122,77,118,136,128,195,192,83,15,152,86,24,169,124],"legalEntityIdCounterparty": [76,114,2,76,42,87,177,8,26,134,10,4,145,36,128,209,92,243,198,226,47,45,38,232,135,84,218,111,190,4,215,15],"dayCountConvention": 2,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 50,"statusDate": 2447,"initialExchangeDate": 5,"maturityDate": 365,"terminationDate": 101,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 2,"cycleAnchorDateOfRateReset": 1971,"cycleAnchorDateOfScalingIndex": 32,"cycleAnchorDateOfFee": 12,"notionalPrincipal": 90,"nominalInterestRate": 0,"feeAccrued": 68570,"accruedInterest": 361,"rateMultiplier": 401,"rateSpread": 13,"feeRate": 11,"nextResetRate": 2014223715,"penaltyRate": 48,"premiumDiscountAtIED": 13,"priceAtPurchaseDate": 51,"cycleOfInterestPayment": {"i": 1337,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 17,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1532892064,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 23,"p": 4,"s": 1,"isSet": true},"lifeCap": 949,"lifeFloor": 19,"periodCap": 1969,"periodFloor": -1}, 68570, 96,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [224,158,227,131,128,116,175,27,98,242,35,2,223,84,152,197,228,57,94,111,202,205,132,112,202,227,153,171,13,103,66,222],"legalEntityIdCounterparty": [255,99,27,55,74,225,54,67,0,191,83,63,170,163,164,44,218,17,144,171,220,179,2,159,25,93,172,34,134,4,131,46],"dayCountConvention": 6,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 64,"statusDate": 367,"initialExchangeDate": 366,"maturityDate": 3,"terminationDate": 1969,"purchaseDate": 1970,"capitalizationEndDate": 4799,"cycleAnchorDateOfInterestPayment": 4800,"cycleAnchorDateOfRateReset": 32,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 89,"notionalPrincipal": 25,"nominalInterestRate": 20,"feeAccrued": 89,"accruedInterest": 1461001,"rateMultiplier": 10000,"rateSpread": 25,"feeRate": 111,"nextResetRate": 99,"penaltyRate": 80,"premiumDiscountAtIED": 110,"priceAtPurchaseDate": 130,"cycleOfInterestPayment": {"i": 61,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 951,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 10000,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 32,"p": 3,"s": 1,"isSet": false},"lifeCap": 131,"lifeFloor": 2440589,"periodCap": 96,"periodFloor": 69}, 31, 86401,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [67,139,211,208,155,50,50,154,98,189,108,130,252,227,255,8,154,171,67,89,201,70,53,151,135,89,57,248,162,124,191,171],"legalEntityIdCounterparty": [111,3,93,224,232,98,139,125,247,166,158,249,81,118,9,227,0,101,168,130,183,219,191,126,64,227,161,239,160,226,13,180],"dayCountConvention": 0,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 4899,"statusDate": 140,"initialExchangeDate": 4,"maturityDate": 9999,"terminationDate": 1532892062,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 1,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 11,"cycleAnchorDateOfFee": 23,"notionalPrincipal": 68568,"nominalInterestRate": 0,"feeAccrued": 150,"accruedInterest": 65,"rateMultiplier": 4800,"rateSpread": 11,"feeRate": 32074,"nextResetRate": 68570,"penaltyRate": 12,"premiumDiscountAtIED": 4000,"priceAtPurchaseDate": 64,"cycleOfInterestPayment": {"i": 2446,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 89,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1461002,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 23,"p": 0,"s": 0,"isSet": true},"lifeCap": 63,"lifeFloor": 3999,"periodCap": 1,"periodFloor": 6}, 10000, 161,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [170,253,54,121,76,109,41,67,3,133,224,168,229,27,196,243,235,168,79,168,224,141,161,244,223,169,135,17,51,165,153,103],"legalEntityIdCounterparty": [2,146,170,244,83,124,162,235,214,78,23,133,3,70,130,2,211,32,15,206,167,31,90,52,37,62,54,215,217,214,206,68],"dayCountConvention": 6,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 68569,"statusDate": 2014223714,"initialExchangeDate": 96,"maturityDate": 1970,"terminationDate": 81,"purchaseDate": 89,"capitalizationEndDate": 2014223715,"cycleAnchorDateOfInterestPayment": 7,"cycleAnchorDateOfRateReset": 65,"cycleAnchorDateOfScalingIndex": 120,"cycleAnchorDateOfFee": 4,"notionalPrincipal": 64,"nominalInterestRate": 40,"feeAccrued": 0,"accruedInterest": 25,"rateMultiplier": 149,"rateSpread": 66,"feeRate": 86400,"nextResetRate": 66,"penaltyRate": 1,"premiumDiscountAtIED": 18,"priceAtPurchaseDate": 97,"cycleOfInterestPayment": {"i": 150,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 2014223714,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 30,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 130,"p": 1,"s": 1,"isSet": true},"lifeCap": 28,"lifeFloor": 2440587,"periodCap": 2014223716,"periodFloor": 2440589}, 129, 10001,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [149,55,200,216,17,53,113,16,62,6,234,165,43,152,143,142,31,213,204,41,1,224,178,91,182,146,65,56,158,138,239,90],"legalEntityIdCounterparty": [12,149,173,40,198,142,109,195,151,163,93,222,57,50,163,101,85,222,123,154,253,138,162,186,87,196,251,221,96,244,201,94],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 27,"statusDate": 400,"initialExchangeDate": 68570,"maturityDate": 24,"terminationDate": 24,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 131,"cycleAnchorDateOfRateReset": 151,"cycleAnchorDateOfScalingIndex": 4900,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 26,"nominalInterestRate": 0,"feeAccrued": 146096,"accruedInterest": 255,"rateMultiplier": 4899,"rateSpread": 1338,"feeRate": 96,"nextResetRate": 2014223714,"penaltyRate": 14,"premiumDiscountAtIED": 365,"priceAtPurchaseDate": 7,"cycleOfInterestPayment": {"i": 68570,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 15,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 17,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 399,"p": 3,"s": 0,"isSet": true},"lifeCap": 17,"lifeFloor": 121,"periodCap": 1970,"periodFloor": 13}, 80, 18,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [84,169,3,208,53,204,64,22,39,3,142,109,211,56,231,41,34,237,101,240,227,49,194,126,41,124,41,186,194,34,211,23],"legalEntityIdCounterparty": [207,155,10,211,187,231,32,119,227,105,201,131,240,183,191,28,172,206,189,152,72,162,100,36,172,46,126,9,148,25,213,114],"dayCountConvention": 1,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 99,"statusDate": 1532892063,"initialExchangeDate": 2448,"maturityDate": 64,"terminationDate": 8,"purchaseDate": 950,"capitalizationEndDate": 90,"cycleAnchorDateOfInterestPayment": 2014223714,"cycleAnchorDateOfRateReset": 51,"cycleAnchorDateOfScalingIndex": 12,"cycleAnchorDateOfFee": 39,"notionalPrincipal": 32,"nominalInterestRate": 32075,"feeAccrued": 31,"accruedInterest": -1,"rateMultiplier": 2440587,"rateSpread": 131,"feeRate": 130,"nextResetRate": 68569,"penaltyRate": 86400,"premiumDiscountAtIED": 32,"priceAtPurchaseDate": 130,"cycleOfInterestPayment": {"i": 68569,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 2448,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 63,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 21,"p": 0,"s": 1,"isSet": true},"lifeCap": 91,"lifeFloor": 31,"periodCap": 27,"periodFloor": 48}, 399, 1461002,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [170,207,249,114,137,36,173,237,168,200,102,151,227,25,13,66,195,241,205,186,214,94,229,118,139,10,35,165,13,127,70,198],"legalEntityIdCounterparty": [172,177,111,148,189,191,146,154,137,245,15,133,236,1,35,212,153,222,201,253,71,188,85,57,239,38,93,209,18,138,79,110],"dayCountConvention": 0,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 41,"statusDate": 1461001,"initialExchangeDate": 1,"maturityDate": 159,"terminationDate": 32,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 60,"cycleAnchorDateOfRateReset": 17,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 7,"notionalPrincipal": 2440589,"nominalInterestRate": 0,"feeAccrued": 150,"accruedInterest": 1,"rateMultiplier": 4901,"rateSpread": 11,"feeRate": 2,"nextResetRate": 2440587,"penaltyRate": 14,"premiumDiscountAtIED": 25,"priceAtPurchaseDate": 12,"cycleOfInterestPayment": {"i": 24,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 149,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 28,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 2,"p": 3,"s": 0,"isSet": false},"lifeCap": 151,"lifeFloor": 21,"periodCap": 97,"periodFloor": 99}, 26, 21,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [84,60,229,247,175,240,215,32,109,123,141,116,212,28,35,106,8,187,89,142,62,220,225,75,9,191,152,99,230,79,115,223],"legalEntityIdCounterparty": [200,29,210,79,175,10,253,209,81,235,232,201,54,49,103,238,44,162,219,140,6,227,155,197,223,117,209,247,79,122,137,71],"dayCountConvention": 5,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 18,"statusDate": 1532892063,"initialExchangeDate": 139,"maturityDate": 17,"terminationDate": 2014223716,"purchaseDate": 1532892062,"capitalizationEndDate": 60,"cycleAnchorDateOfInterestPayment": 4900,"cycleAnchorDateOfRateReset": 141,"cycleAnchorDateOfScalingIndex": 400,"cycleAnchorDateOfFee": 96,"notionalPrincipal": 13,"nominalInterestRate": 1338,"feeAccrued": 1462,"accruedInterest": 70,"rateMultiplier": 4900,"rateSpread": 24,"feeRate": 2448,"nextResetRate": 4901,"penaltyRate": 2014223716,"premiumDiscountAtIED": 2,"priceAtPurchaseDate": 151,"cycleOfInterestPayment": {"i": 9999,"p": 2,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1460,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 949,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 0,"p": 2,"s": 0,"isSet": true},"lifeCap": 146096,"lifeFloor": 10000,"periodCap": 91,"periodFloor": 69}, 86401, 68568,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [102,66,167,33,231,0,73,31,216,20,15,95,15,90,28,82,116,152,183,90,51,120,73,100,213,209,50,162,32,90,93,55],"legalEntityIdCounterparty": [141,87,192,55,28,148,219,255,156,209,6,101,131,54,198,142,22,237,174,20,39,51,200,32,79,121,140,245,108,29,64,229],"dayCountConvention": 1,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 254,"statusDate": 400,"initialExchangeDate": 4001,"maturityDate": 120,"terminationDate": 68569,"purchaseDate": 51,"capitalizationEndDate": 11,"cycleAnchorDateOfInterestPayment": 1,"cycleAnchorDateOfRateReset": 90,"cycleAnchorDateOfScalingIndex": 31,"cycleAnchorDateOfFee": 96,"notionalPrincipal": 68570,"nominalInterestRate": 110,"feeAccrued": 25,"accruedInterest": 366,"rateMultiplier": 2014223716,"rateSpread": 50,"feeRate": 4900,"nextResetRate": 96,"penaltyRate": 20,"premiumDiscountAtIED": 129,"priceAtPurchaseDate": 4901,"cycleOfInterestPayment": {"i": 10001,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 949,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 141,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 11,"p": 0,"s": 0,"isSet": false},"lifeCap": 129,"lifeFloor": 4,"periodCap": 1970,"periodFloor": 951}, 1532892063, 2447,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [129,70,19,100,98,231,3,46,43,157,138,193,201,35,221,129,85,122,178,207,198,221,153,242,204,118,204,32,238,208,143,235],"legalEntityIdCounterparty": [133,207,105,143,169,255,69,85,67,58,86,92,45,24,18,171,120,209,41,72,152,157,174,14,118,187,54,76,142,88,25,202],"dayCountConvention": 0,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 0,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 86401,"statusDate": 86399,"initialExchangeDate": 110,"maturityDate": 86401,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 40,"cycleAnchorDateOfRateReset": 79,"cycleAnchorDateOfScalingIndex": 1461,"cycleAnchorDateOfFee": 1336,"notionalPrincipal": 86400,"nominalInterestRate": 0,"feeAccrued": 150,"accruedInterest": 29,"rateMultiplier": 86399,"rateSpread": 96,"feeRate": 2014223715,"nextResetRate": 89,"penaltyRate": 951,"premiumDiscountAtIED": 1,"priceAtPurchaseDate": 30,"cycleOfInterestPayment": {"i": 91,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 2440587,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1461002,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 4800,"p": 2,"s": 0,"isSet": false},"lifeCap": 0,"lifeFloor": 2,"periodCap": 149,"periodFloor": 151}, 26, 10001,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [71,31,242,173,74,6,236,71,125,100,23,153,120,20,224,31,157,44,246,136,129,9,110,114,215,87,252,250,48,215,237,178],"legalEntityIdCounterparty": [170,127,204,215,139,89,233,170,197,122,144,56,2,77,25,192,100,137,38,3,171,3,118,213,213,239,72,236,29,216,197,116],"dayCountConvention": 3,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 96,"statusDate": 68568,"initialExchangeDate": 40,"maturityDate": 899,"terminationDate": 1461001,"purchaseDate": 24,"capitalizationEndDate": 1461,"cycleAnchorDateOfInterestPayment": 1461002,"cycleAnchorDateOfRateReset": 17,"cycleAnchorDateOfScalingIndex": 11,"cycleAnchorDateOfFee": 159,"notionalPrincipal": 69,"nominalInterestRate": 80,"feeAccrued": 20,"accruedInterest": 1969,"rateMultiplier": 68569,"rateSpread": 2014223714,"feeRate": 96,"nextResetRate": 150,"penaltyRate": 4,"premiumDiscountAtIED": 31,"priceAtPurchaseDate": 130,"cycleOfInterestPayment": {"i": 10000,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 401,"p": 5,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 3,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 86400,"p": 2,"s": 0,"isSet": true},"lifeCap": 11,"lifeFloor": 80,"periodCap": 1337,"periodFloor": 19}, 32, 10000,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [47,251,8,218,38,16,84,76,51,206,247,215,32,193,83,2,193,16,93,223,19,255,51,66,96,119,113,209,202,161,233,21],"legalEntityIdCounterparty": [99,124,174,254,72,35,253,203,18,31,10,54,35,223,174,245,180,100,75,29,28,69,0,188,160,67,45,124,8,98,14,33],"dayCountConvention": 1,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 2447,"statusDate": 11,"initialExchangeDate": 14,"maturityDate": 1461002,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 141,"cycleAnchorDateOfRateReset": 900,"cycleAnchorDateOfScalingIndex": 2447,"cycleAnchorDateOfFee": 901,"notionalPrincipal": 109,"nominalInterestRate": 0,"feeAccrued": 399,"accruedInterest": 4899,"rateMultiplier": 2014223716,"rateSpread": 2014223714,"feeRate": 1461001,"nextResetRate": 0,"penaltyRate": 90,"premiumDiscountAtIED": 1532892062,"priceAtPurchaseDate": 2014223714,"cycleOfInterestPayment": {"i": 4799,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 95,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 130,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 41,"p": 0,"s": 1,"isSet": true},"lifeCap": 1969,"lifeFloor": 901,"periodCap": 1532892063,"periodFloor": 141}, 1970, 101,{from: accounts[0]});
  });
});
