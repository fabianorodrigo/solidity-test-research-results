const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 15,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [250,217,210,55,76,24,228,145,20,184,147,100,156,98,65,225,245,118,145,3,246,145,139,165,64,12,180,147,239,204,7,141],"legalEntityIdCounterparty": [128,137,64,153,74,245,185,23,37,95,114,100,13,24,103,3,156,240,42,244,144,80,122,202,206,144,118,194,15,95,119,97],"dayCountConvention": 4,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 360,"statusDate": 4800,"initialExchangeDate": 951,"maturityDate": 1969,"terminationDate": 21,"purchaseDate": 48,"capitalizationEndDate": 2448,"cycleAnchorDateOfInterestPayment": 90,"cycleAnchorDateOfRateReset": 71,"cycleAnchorDateOfScalingIndex": 95,"cycleAnchorDateOfFee": 1461,"notionalPrincipal": 13,"nominalInterestRate": 139,"feeAccrued": 2440588,"accruedInterest": 2014223714,"rateMultiplier": 9,"rateSpread": 2014223715,"feeRate": 4801,"nextResetRate": 18,"penaltyRate": 64,"premiumDiscountAtIED": 19,"priceAtPurchaseDate": 32074,"cycleOfInterestPayment": {"i": 20,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 951,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1461000,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 32076,"p": 0,"s": 1,"isSet": true},"lifeCap": 31,"lifeFloor": 360,"periodCap": 2448,"periodFloor": 21},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 3,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [243,234,103,236,220,38,240,50,187,175,204,248,206,212,106,11,50,64,249,152,238,172,252,154,106,111,109,87,73,252,117,11],"legalEntityIdCounterparty": [211,133,226,179,61,228,98,52,5,85,171,210,193,21,194,60,250,227,52,89,218,149,47,200,23,153,111,168,153,89,95,197],"dayCountConvention": 4,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 1,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 89,"statusDate": 32074,"initialExchangeDate": 110,"maturityDate": 159,"terminationDate": 360,"purchaseDate": 10,"capitalizationEndDate": 160,"cycleAnchorDateOfInterestPayment": 110,"cycleAnchorDateOfRateReset": 81,"cycleAnchorDateOfScalingIndex": 399,"cycleAnchorDateOfFee": 66,"notionalPrincipal": 951,"nominalInterestRate": 149,"feeAccrued": 91,"accruedInterest": 27,"rateMultiplier": 4901,"rateSpread": 32,"feeRate": 139,"nextResetRate": 1971,"penaltyRate": 68570,"premiumDiscountAtIED": 17,"priceAtPurchaseDate": 1971,"cycleOfInterestPayment": {"i": 91,"p": 0,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 950,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 68568,"p": 4,"s": 0,"isSet": false},"cycleOfFee": {"i": 146098,"p": 4,"s": 0,"isSet": false},"lifeCap": 1461,"lifeFloor": 399,"periodCap": 2440589,"periodFloor": 1970}, {"lastEventTime": 59,"contractStatus": 1,"timeFromLastEvent": 2014223714,"nominalValue": 101,"nominalAccrued": 14,"feeAccrued": 111,"nominalRate": 1532892063,"interestScalingMultiplier": 4799,"nominalScalingMultiplier": 2,"contractRoleSign": 6}, 49,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 13,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [216,184,233,67,151,81,240,123,46,69,21,84,224,95,171,51,232,174,146,2,159,177,105,229,143,194,104,72,254,14,134,75],"legalEntityIdCounterparty": [86,10,200,251,92,176,221,186,41,45,219,170,139,118,154,22,56,13,217,224,105,110,112,236,191,225,14,196,101,138,184,85],"dayCountConvention": 4,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 60,"statusDate": 4000,"initialExchangeDate": 13,"maturityDate": 121,"terminationDate": 111,"purchaseDate": 18,"capitalizationEndDate": 141,"cycleAnchorDateOfInterestPayment": 1461002,"cycleAnchorDateOfRateReset": 68569,"cycleAnchorDateOfScalingIndex": 110,"cycleAnchorDateOfFee": 32074,"notionalPrincipal": 2446,"nominalInterestRate": 2,"feeAccrued": 1970,"accruedInterest": 60,"rateMultiplier": 96,"rateSpread": 110,"feeRate": 361,"nextResetRate": 129,"penaltyRate": 1970,"premiumDiscountAtIED": 1461,"priceAtPurchaseDate": 65,"cycleOfInterestPayment": {"i": 1461001,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 899,"p": 5,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 949,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 120,"p": 5,"s": 0,"isSet": true},"lifeCap": 28,"lifeFloor": 86399,"periodCap": 86400,"periodFloor": 901}, {"lastEventTime": 254,"contractStatus": 0,"timeFromLastEvent": 4000,"nominalValue": 1971,"nominalAccrued": 32074,"feeAccrued": 59,"nominalRate": 96,"interestScalingMultiplier": 1971,"nominalScalingMultiplier": 1461,"contractRoleSign": 7}, {"eventTime": 111,"eventTimeWithEpochOffset": 23,"scheduleTime": 1971,"eventType": 12,"currency": accounts[7],"pofType": 0,"stfType": 17}, 96,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [113,161,220,95,100,216,77,244,165,174,248,149,188,155,1,70,155,158,129,171,239,130,241,90,115,123,145,140,47,38,84,55],"legalEntityIdCounterparty": [105,25,237,120,252,183,55,53,140,34,17,81,116,229,143,18,117,237,138,87,180,145,250,223,193,183,245,113,129,244,123,239],"dayCountConvention": 5,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 950,"statusDate": 400,"initialExchangeDate": 950,"maturityDate": 48,"terminationDate": 951,"purchaseDate": 68569,"capitalizationEndDate": 16,"cycleAnchorDateOfInterestPayment": 1532892062,"cycleAnchorDateOfRateReset": 366,"cycleAnchorDateOfScalingIndex": 119,"cycleAnchorDateOfFee": 110,"notionalPrincipal": 97,"nominalInterestRate": 13,"feeAccrued": 68570,"accruedInterest": 4,"rateMultiplier": 130,"rateSpread": 2447,"feeRate": 70,"nextResetRate": 4901,"penaltyRate": 949,"premiumDiscountAtIED": 4,"priceAtPurchaseDate": 95,"cycleOfInterestPayment": {"i": 1337,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 950,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 20,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 63,"p": 0,"s": 0,"isSet": false},"lifeCap": 4900,"lifeFloor": 110,"periodCap": 110,"periodFloor": 900}, 120, 360,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [87,197,135,116,170,199,152,102,234,91,45,235,9,234,218,24,105,237,235,135,60,48,161,251,247,10,102,150,241,14,55,179],"legalEntityIdCounterparty": [52,141,201,72,60,77,48,206,199,102,6,145,81,178,67,204,177,33,222,28,45,121,219,27,3,53,47,210,121,172,72,101],"dayCountConvention": 3,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 1461,"statusDate": 6,"initialExchangeDate": 91,"maturityDate": 19,"terminationDate": 14,"purchaseDate": 90,"capitalizationEndDate": 27,"cycleAnchorDateOfInterestPayment": 9,"cycleAnchorDateOfRateReset": 86401,"cycleAnchorDateOfScalingIndex": 48,"cycleAnchorDateOfFee": 64,"notionalPrincipal": 18,"nominalInterestRate": 119,"feeAccrued": 95,"accruedInterest": 81,"rateMultiplier": 96,"rateSpread": 4000,"feeRate": 901,"nextResetRate": 95,"penaltyRate": 21,"premiumDiscountAtIED": 2014223716,"priceAtPurchaseDate": 368,"cycleOfInterestPayment": {"i": 8,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 130,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 151,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 365,"p": 1,"s": 1,"isSet": true},"lifeCap": 1971,"lifeFloor": 21,"periodCap": 160,"periodFloor": 2448}, 1461002, 1532892064,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [28,83,164,199,188,181,157,187,68,238,213,251,90,44,233,146,232,249,86,1,211,148,2,175,79,117,123,63,200,8,87,88],"legalEntityIdCounterparty": [255,232,114,22,107,232,22,85,26,88,75,15,122,123,165,253,35,132,27,34,120,182,192,227,3,168,170,225,58,89,45,5],"dayCountConvention": 1,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 129,"statusDate": 254,"initialExchangeDate": 39,"maturityDate": 1461,"terminationDate": 2014223715,"purchaseDate": 1,"capitalizationEndDate": 1461000,"cycleAnchorDateOfInterestPayment": 2446,"cycleAnchorDateOfRateReset": 951,"cycleAnchorDateOfScalingIndex": 110,"cycleAnchorDateOfFee": 4901,"notionalPrincipal": 1532892064,"nominalInterestRate": 140,"feeAccrued": 4801,"accruedInterest": 13,"rateMultiplier": 364,"rateSpread": 401,"feeRate": 11,"nextResetRate": 50,"penaltyRate": 0,"premiumDiscountAtIED": 4899,"priceAtPurchaseDate": 4000,"cycleOfInterestPayment": {"i": 25,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 31,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 68568,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 101,"p": 1,"s": 0,"isSet": true},"lifeCap": 5,"lifeFloor": 101,"periodCap": 19,"periodFloor": 95}, 4899, 50,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [111,229,15,208,16,236,242,30,223,61,70,113,200,0,198,71,194,32,186,115,139,172,75,124,149,178,159,65,75,77,163,219],"legalEntityIdCounterparty": [123,245,87,99,195,73,33,235,13,215,129,97,210,161,171,151,170,160,227,147,139,114,146,255,222,104,177,211,43,73,57,14],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 32,"statusDate": 27,"initialExchangeDate": 2440587,"maturityDate": 5,"terminationDate": 10000,"purchaseDate": 2014223716,"capitalizationEndDate": 4901,"cycleAnchorDateOfInterestPayment": 96,"cycleAnchorDateOfRateReset": 1461,"cycleAnchorDateOfScalingIndex": 401,"cycleAnchorDateOfFee": 90,"notionalPrincipal": 71,"nominalInterestRate": 17,"feeAccrued": 1970,"accruedInterest": 364,"rateMultiplier": 401,"rateSpread": 101,"feeRate": 19,"nextResetRate": 899,"penaltyRate": 32074,"premiumDiscountAtIED": 99,"priceAtPurchaseDate": 359,"cycleOfInterestPayment": {"i": 1336,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 48,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 149,"p": 4,"s": 0,"isSet": false},"cycleOfFee": {"i": 4000,"p": 3,"s": 1,"isSet": true},"lifeCap": 90,"lifeFloor": 146098,"periodCap": 21,"periodFloor": 68569}, 1461, 1532892063,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [170,102,241,215,84,163,103,235,25,102,163,234,216,225,249,78,232,35,147,18,155,10,209,50,69,211,125,156,54,203,140,149],"legalEntityIdCounterparty": [11,76,229,205,136,19,22,18,120,153,214,142,155,167,20,174,35,29,247,160,106,87,165,211,28,158,234,191,12,42,189,254],"dayCountConvention": 0,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 7,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 68569,"statusDate": 6,"initialExchangeDate": 100,"maturityDate": 81,"terminationDate": 109,"purchaseDate": 0,"capitalizationEndDate": 6,"cycleAnchorDateOfInterestPayment": 8,"cycleAnchorDateOfRateReset": 140,"cycleAnchorDateOfScalingIndex": 20,"cycleAnchorDateOfFee": 130,"notionalPrincipal": 161,"nominalInterestRate": 11,"feeAccrued": 71,"accruedInterest": 367,"rateMultiplier": 110,"rateSpread": 100,"feeRate": 32076,"nextResetRate": 4,"penaltyRate": 81,"premiumDiscountAtIED": 150,"priceAtPurchaseDate": 368,"cycleOfInterestPayment": {"i": 146096,"p": 3,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 368,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 401,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 361,"p": 3,"s": 0,"isSet": false},"lifeCap": 41,"lifeFloor": 20,"periodCap": 4799,"periodFloor": 17}, 257, 361,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [201,54,161,45,24,112,38,21,62,131,142,197,202,246,58,45,178,23,199,23,16,36,172,225,29,14,104,215,175,253,200,214],"legalEntityIdCounterparty": [10,173,86,68,193,90,53,212,200,123,34,211,69,204,96,179,106,234,9,138,228,242,15,32,80,102,186,140,6,75,21,91],"dayCountConvention": 6,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 3,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 7,"statusDate": 1532892063,"initialExchangeDate": 366,"maturityDate": 110,"terminationDate": 90,"purchaseDate": 69,"capitalizationEndDate": 70,"cycleAnchorDateOfInterestPayment": 150,"cycleAnchorDateOfRateReset": 1971,"cycleAnchorDateOfScalingIndex": 19,"cycleAnchorDateOfFee": 1337,"notionalPrincipal": 89,"nominalInterestRate": 131,"feeAccrued": 161,"accruedInterest": 367,"rateMultiplier": 14,"rateSpread": 4,"feeRate": 69,"nextResetRate": 71,"penaltyRate": 95,"premiumDiscountAtIED": 1338,"priceAtPurchaseDate": 10,"cycleOfInterestPayment": {"i": 4799,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 24,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 256,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 359,"p": 3,"s": 0,"isSet": false},"lifeCap": 15,"lifeFloor": 256,"periodCap": 366,"periodFloor": 26}, 49, 364,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [189,69,224,43,121,76,54,224,140,199,173,147,88,215,159,151,142,18,189,15,214,228,30,221,77,60,16,90,132,49,170,203],"legalEntityIdCounterparty": [90,215,236,102,193,80,236,137,117,232,166,64,203,116,16,220,155,223,210,124,98,147,226,128,194,206,65,67,92,241,222,105],"dayCountConvention": 1,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 0,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 5,"statusDate": 18,"initialExchangeDate": 80,"maturityDate": 950,"terminationDate": 1462,"purchaseDate": 368,"capitalizationEndDate": 24,"cycleAnchorDateOfInterestPayment": 79,"cycleAnchorDateOfRateReset": 1532892062,"cycleAnchorDateOfScalingIndex": 4901,"cycleAnchorDateOfFee": 68570,"notionalPrincipal": 399,"nominalInterestRate": 11,"feeAccrued": 40,"accruedInterest": 10000,"rateMultiplier": 109,"rateSpread": 119,"feeRate": 24,"nextResetRate": 146096,"penaltyRate": 40,"premiumDiscountAtIED": 32074,"priceAtPurchaseDate": 51,"cycleOfInterestPayment": {"i": 10000,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 79,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 131,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 146096,"p": 2,"s": 1,"isSet": false},"lifeCap": 18,"lifeFloor": 19,"periodCap": 80,"periodFloor": 1461001}, 89, 367,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [29,182,244,31,152,137,194,211,214,107,182,212,111,90,133,123,224,112,11,208,151,43,180,209,21,182,65,147,148,190,179,206],"legalEntityIdCounterparty": [205,142,139,100,224,28,66,93,133,231,224,207,99,171,113,147,161,88,30,21,213,94,148,71,2,74,186,79,43,249,83,131],"dayCountConvention": 2,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 70,"statusDate": 48,"initialExchangeDate": 3999,"maturityDate": 950,"terminationDate": 146097,"purchaseDate": 159,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 97,"cycleAnchorDateOfRateReset": 65,"cycleAnchorDateOfScalingIndex": 3999,"cycleAnchorDateOfFee": 90,"notionalPrincipal": 86399,"nominalInterestRate": 25,"feeAccrued": 23,"accruedInterest": 146098,"rateMultiplier": 4900,"rateSpread": 257,"feeRate": 7,"nextResetRate": 399,"penaltyRate": 2014223716,"premiumDiscountAtIED": 68569,"priceAtPurchaseDate": 150,"cycleOfInterestPayment": {"i": 0,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 401,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 2440587,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 141,"p": 2,"s": 1,"isSet": false},"lifeCap": 149,"lifeFloor": 151,"periodCap": 361,"periodFloor": 8}, 11, 24,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [40,10,74,142,19,74,113,206,253,254,117,59,206,251,205,37,115,145,186,111,71,125,27,250,129,233,67,233,147,201,45,42],"legalEntityIdCounterparty": [96,162,73,210,45,210,29,91,28,136,179,158,189,37,100,73,191,228,12,218,36,84,6,9,159,146,146,211,150,245,114,146],"dayCountConvention": 1,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 0,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 4899,"statusDate": 146098,"initialExchangeDate": 18,"maturityDate": 1971,"terminationDate": 31,"purchaseDate": 1532892063,"capitalizationEndDate": 146097,"cycleAnchorDateOfInterestPayment": 1532892064,"cycleAnchorDateOfRateReset": 96,"cycleAnchorDateOfScalingIndex": 59,"cycleAnchorDateOfFee": 39,"notionalPrincipal": 129,"nominalInterestRate": 256,"feeAccrued": 951,"accruedInterest": 900,"rateMultiplier": 4,"rateSpread": 24,"feeRate": 159,"nextResetRate": 86400,"penaltyRate": 99,"premiumDiscountAtIED": 4900,"priceAtPurchaseDate": 81,"cycleOfInterestPayment": {"i": 1337,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 66,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 20,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 1,"p": 2,"s": 1,"isSet": true},"lifeCap": 31,"lifeFloor": 10001,"periodCap": 13,"periodFloor": 129}, 2440589, 29,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [4,110,153,198,167,40,214,29,112,11,143,7,225,205,178,29,245,63,191,239,238,126,139,5,199,212,157,175,15,122,190,99],"legalEntityIdCounterparty": [87,233,162,222,233,111,88,43,156,200,2,67,51,184,209,163,155,122,249,152,120,65,184,57,136,108,206,42,154,235,78,20],"dayCountConvention": 1,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 7,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 1532892062,"statusDate": 1532892062,"initialExchangeDate": 4799,"maturityDate": 2446,"terminationDate": 32075,"purchaseDate": 2014223714,"capitalizationEndDate": 97,"cycleAnchorDateOfInterestPayment": 360,"cycleAnchorDateOfRateReset": 70,"cycleAnchorDateOfScalingIndex": 4,"cycleAnchorDateOfFee": 86401,"notionalPrincipal": 99,"nominalInterestRate": 149,"feeAccrued": 66,"accruedInterest": 59,"rateMultiplier": 364,"rateSpread": 64,"feeRate": 140,"nextResetRate": 109,"penaltyRate": 21,"premiumDiscountAtIED": 39,"priceAtPurchaseDate": 949,"cycleOfInterestPayment": {"i": 2,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 361,"p": 5,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 2440589,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 366,"p": 2,"s": 1,"isSet": false},"lifeCap": 24,"lifeFloor": 3999,"periodCap": 32074,"periodFloor": 19}, 28, 96,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [16,125,132,130,192,16,141,0,36,159,156,71,121,113,55,246,174,127,133,253,158,242,44,134,181,43,156,222,223,163,0,198],"legalEntityIdCounterparty": [99,104,135,248,217,34,64,219,41,133,1,48,168,236,149,112,29,99,241,191,167,227,52,120,198,9,127,140,62,228,221,19],"dayCountConvention": 6,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 68568,"statusDate": 86399,"initialExchangeDate": 257,"maturityDate": 4899,"terminationDate": 4001,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 256,"cycleAnchorDateOfRateReset": 1461,"cycleAnchorDateOfScalingIndex": 32,"cycleAnchorDateOfFee": 120,"notionalPrincipal": 96,"nominalInterestRate": 0,"feeAccrued": 2,"accruedInterest": 96,"rateMultiplier": 150,"rateSpread": 365,"feeRate": 8,"nextResetRate": 91,"penaltyRate": 367,"premiumDiscountAtIED": 2440589,"priceAtPurchaseDate": 1461,"cycleOfInterestPayment": {"i": 1461,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 2014223715,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1461,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 86400,"p": 0,"s": 0,"isSet": true},"lifeCap": 254,"lifeFloor": 4901,"periodCap": 70,"periodFloor": 20}, 19, 120,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [25,120,235,224,125,163,81,104,206,49,108,164,78,78,1,206,246,100,138,63,56,57,113,27,33,177,232,70,90,219,181,123],"legalEntityIdCounterparty": [87,182,164,105,104,179,157,249,8,179,184,31,98,224,244,248,81,10,174,13,62,155,164,193,86,184,21,50,66,208,26,199],"dayCountConvention": 1,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 48,"statusDate": 401,"initialExchangeDate": 86399,"maturityDate": 901,"terminationDate": 95,"purchaseDate": 101,"capitalizationEndDate": 2,"cycleAnchorDateOfInterestPayment": 3999,"cycleAnchorDateOfRateReset": 1,"cycleAnchorDateOfScalingIndex": 146098,"cycleAnchorDateOfFee": 111,"notionalPrincipal": 30,"nominalInterestRate": 399,"feeAccrued": 18,"accruedInterest": 1461002,"rateMultiplier": 18,"rateSpread": 3999,"feeRate": 80,"nextResetRate": 89,"penaltyRate": 9,"premiumDiscountAtIED": 146098,"priceAtPurchaseDate": 146098,"cycleOfInterestPayment": {"i": 25,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 4000,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 160,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 1461001,"p": 0,"s": 0,"isSet": true},"lifeCap": 150,"lifeFloor": 9999,"periodCap": 50,"periodFloor": 51}, 901, 1461002,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [74,22,115,144,99,238,119,90,106,127,249,193,200,99,225,35,200,226,177,247,7,180,214,70,252,107,120,105,31,229,185,65],"legalEntityIdCounterparty": [26,76,140,200,154,15,208,150,182,117,222,158,75,249,45,151,225,198,168,82,169,140,153,129,105,108,211,31,138,162,79,85],"dayCountConvention": 0,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 151,"statusDate": 2014223715,"initialExchangeDate": 90,"maturityDate": 2440587,"terminationDate": 95,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 10,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 2,"cycleAnchorDateOfFee": 4799,"notionalPrincipal": 901,"nominalInterestRate": 0,"feeAccrued": 149,"accruedInterest": 129,"rateMultiplier": 61,"rateSpread": 257,"feeRate": 96,"nextResetRate": 6,"penaltyRate": 2014223716,"premiumDiscountAtIED": 140,"priceAtPurchaseDate": 86401,"cycleOfInterestPayment": {"i": 60,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1969,"p": 2,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 64,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 141,"p": 3,"s": 0,"isSet": true},"lifeCap": 4001,"lifeFloor": 160,"periodCap": 2440587,"periodFloor": 255}, 4801, 64,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 16,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [107,236,56,214,236,20,169,255,8,99,184,199,112,201,108,45,24,116,37,75,155,227,191,62,13,172,142,118,56,33,53,63],"legalEntityIdCounterparty": [197,168,103,172,60,127,26,244,20,88,31,34,29,147,214,95,111,127,199,196,79,193,137,205,200,11,42,14,213,246,94,209],"dayCountConvention": 6,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 4001,"statusDate": 110,"initialExchangeDate": 400,"maturityDate": 360,"terminationDate": 1969,"purchaseDate": 28,"capitalizationEndDate": 9,"cycleAnchorDateOfInterestPayment": 255,"cycleAnchorDateOfRateReset": 12,"cycleAnchorDateOfScalingIndex": 30,"cycleAnchorDateOfFee": 68569,"notionalPrincipal": 95,"nominalInterestRate": 4901,"feeAccrued": 49,"accruedInterest": 140,"rateMultiplier": 139,"rateSpread": 160,"feeRate": 13,"nextResetRate": 39,"penaltyRate": 400,"premiumDiscountAtIED": 1970,"priceAtPurchaseDate": 159,"cycleOfInterestPayment": {"i": 48,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 96,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 4800,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 4,"p": 5,"s": 1,"isSet": true},"lifeCap": 121,"lifeFloor": 1532892062,"periodCap": 80,"periodFloor": 368}, 97, 368,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [206,97,47,220,134,111,224,91,116,246,214,24,70,37,248,139,54,33,40,221,73,226,194,81,59,134,185,236,46,192,88,246],"legalEntityIdCounterparty": [65,118,161,48,205,204,201,206,25,174,41,44,73,24,93,124,57,23,197,91,205,24,125,136,237,21,11,142,83,100,180,110],"dayCountConvention": 3,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 60,"statusDate": 25,"initialExchangeDate": 368,"maturityDate": 120,"terminationDate": 4,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 130,"cycleAnchorDateOfRateReset": 96,"cycleAnchorDateOfScalingIndex": 109,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 2448,"nominalInterestRate": 0,"feeAccrued": 368,"accruedInterest": 12,"rateMultiplier": 68568,"rateSpread": 40,"feeRate": 97,"nextResetRate": 2446,"penaltyRate": 119,"premiumDiscountAtIED": 66,"priceAtPurchaseDate": 254,"cycleOfInterestPayment": {"i": 161,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 65,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 2448,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 39,"p": 2,"s": 0,"isSet": false},"lifeCap": 0,"lifeFloor": 71,"periodCap": 81,"periodFloor": 1461000}, 2440587, 26,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [254,107,49,106,244,195,246,198,39,252,196,193,117,232,239,92,83,153,45,181,26,86,77,150,157,204,7,214,22,125,79,38],"legalEntityIdCounterparty": [105,59,160,215,183,150,108,14,175,171,144,10,102,14,19,154,87,36,165,49,33,110,243,243,105,197,174,33,77,13,173,146],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 17,"statusDate": 359,"initialExchangeDate": 159,"maturityDate": 32,"terminationDate": 20,"purchaseDate": 8,"capitalizationEndDate": 1460,"cycleAnchorDateOfInterestPayment": 2440588,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 949,"cycleAnchorDateOfFee": 2440589,"notionalPrincipal": 1337,"nominalInterestRate": 139,"feeAccrued": 120,"accruedInterest": 368,"rateMultiplier": 255,"rateSpread": 1532892063,"feeRate": 23,"nextResetRate": 32,"penaltyRate": 16,"premiumDiscountAtIED": 2440588,"priceAtPurchaseDate": 131,"cycleOfInterestPayment": {"i": 15,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 141,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 48,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 9999,"p": 2,"s": 1,"isSet": true},"lifeCap": 81,"lifeFloor": 901,"periodCap": 1532892063,"periodFloor": 111}, 119, 121,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [85,14,155,104,85,67,206,24,237,115,151,35,95,125,180,138,225,140,69,139,56,215,161,132,6,18,7,38,64,144,63,110],"legalEntityIdCounterparty": [152,214,99,201,224,247,40,62,25,169,145,98,201,118,62,159,153,68,92,17,86,166,36,135,28,41,92,170,55,234,203,193],"dayCountConvention": 5,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 3999,"statusDate": 1461000,"initialExchangeDate": 10,"maturityDate": 28,"terminationDate": 367,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 71,"cycleAnchorDateOfRateReset": 365,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 8,"notionalPrincipal": 69,"nominalInterestRate": 0,"feeAccrued": 2440588,"accruedInterest": 4801,"rateMultiplier": 41,"rateSpread": 361,"feeRate": 96,"nextResetRate": 2448,"penaltyRate": 4001,"premiumDiscountAtIED": 50,"priceAtPurchaseDate": 1,"cycleOfInterestPayment": {"i": 61,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 4799,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 24,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 10,"p": 3,"s": 1,"isSet": true},"lifeCap": 79,"lifeFloor": 901,"periodCap": 4899,"periodFloor": 49}, 121, 97,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [74,62,65,121,136,12,86,92,0,159,115,36,11,210,40,195,111,205,209,77,251,154,245,26,66,114,248,67,37,64,191,3],"legalEntityIdCounterparty": [144,222,195,74,77,13,11,39,142,251,247,196,85,5,24,82,94,200,122,113,128,36,168,192,177,16,149,54,41,118,188,248],"dayCountConvention": 1,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 1,"statusDate": 140,"initialExchangeDate": 139,"maturityDate": 401,"terminationDate": 25,"purchaseDate": 1532892064,"capitalizationEndDate": 1532892062,"cycleAnchorDateOfInterestPayment": 96,"cycleAnchorDateOfRateReset": 11,"cycleAnchorDateOfScalingIndex": 2440589,"cycleAnchorDateOfFee": 1461,"notionalPrincipal": 32075,"nominalInterestRate": 4799,"feeAccrued": 2,"accruedInterest": 29,"rateMultiplier": 79,"rateSpread": 79,"feeRate": 48,"nextResetRate": 10000,"penaltyRate": 1,"premiumDiscountAtIED": 1460,"priceAtPurchaseDate": 51,"cycleOfInterestPayment": {"i": 15,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 159,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 5,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 119,"p": 4,"s": 0,"isSet": true},"lifeCap": 1461002,"lifeFloor": 2440588,"periodCap": 361,"periodFloor": 2}, 15, 367,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [200,151,89,20,160,142,164,107,63,191,55,140,253,86,99,70,108,246,121,125,18,46,59,62,40,140,190,127,199,227,96,193],"legalEntityIdCounterparty": [251,50,195,251,43,126,149,49,87,120,139,56,211,246,70,43,132,55,230,172,10,255,172,153,221,4,210,23,142,174,30,17],"dayCountConvention": 6,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 3,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 110,"statusDate": 69,"initialExchangeDate": 2014223716,"maturityDate": 68568,"terminationDate": 1969,"purchaseDate": 119,"capitalizationEndDate": 365,"cycleAnchorDateOfInterestPayment": 361,"cycleAnchorDateOfRateReset": 119,"cycleAnchorDateOfScalingIndex": 368,"cycleAnchorDateOfFee": 129,"notionalPrincipal": 367,"nominalInterestRate": 359,"feeAccrued": 1969,"accruedInterest": 399,"rateMultiplier": 99,"rateSpread": 255,"feeRate": 15,"nextResetRate": 151,"penaltyRate": 146097,"premiumDiscountAtIED": 146097,"priceAtPurchaseDate": 1462,"cycleOfInterestPayment": {"i": 51,"p": 0,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 29,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1338,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 2440588,"p": 3,"s": 0,"isSet": false},"lifeCap": 41,"lifeFloor": 60,"periodCap": 254,"periodFloor": 40}, 2446, 0,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [8,181,213,153,91,217,86,102,48,47,218,171,79,214,17,214,128,1,221,16,64,51,243,196,24,152,182,40,51,74,234,73],"legalEntityIdCounterparty": [138,171,117,137,123,24,152,0,175,92,29,129,32,205,121,255,221,145,57,84,167,233,229,249,62,135,161,61,228,211,229,238],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 39,"statusDate": 14,"initialExchangeDate": 8,"maturityDate": 2440588,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 3,"cycleAnchorDateOfRateReset": 49,"cycleAnchorDateOfScalingIndex": 150,"cycleAnchorDateOfFee": 89,"notionalPrincipal": 10001,"nominalInterestRate": 0,"feeAccrued": 3,"accruedInterest": 951,"rateMultiplier": 4901,"rateSpread": 131,"feeRate": 7,"nextResetRate": 41,"penaltyRate": 25,"premiumDiscountAtIED": 368,"priceAtPurchaseDate": 86399,"cycleOfInterestPayment": {"i": 399,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 13,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 2014223716,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 2440588,"p": 1,"s": 1,"isSet": true},"lifeCap": 161,"lifeFloor": 32074,"periodCap": 26,"periodFloor": 30}, 149, 71,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [92,140,94,119,156,66,56,168,31,30,212,38,67,15,46,249,73,91,93,180,209,82,224,27,94,95,213,136,181,127,9,195],"legalEntityIdCounterparty": [52,4,199,91,130,206,170,95,208,31,44,140,28,253,210,30,14,131,64,225,215,12,84,187,149,190,113,115,138,129,245,162],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 19,"statusDate": 89,"initialExchangeDate": 64,"maturityDate": 110,"terminationDate": 96,"purchaseDate": 91,"capitalizationEndDate": 161,"cycleAnchorDateOfInterestPayment": 1461,"cycleAnchorDateOfRateReset": 9999,"cycleAnchorDateOfScalingIndex": 86401,"cycleAnchorDateOfFee": 1971,"notionalPrincipal": 9999,"nominalInterestRate": 151,"feeAccrued": 50,"accruedInterest": 60,"rateMultiplier": 4900,"rateSpread": 23,"feeRate": 10,"nextResetRate": 2440587,"penaltyRate": 19,"premiumDiscountAtIED": 119,"priceAtPurchaseDate": 359,"cycleOfInterestPayment": {"i": 48,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 32076,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 146096,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 40,"p": 1,"s": 0,"isSet": true},"lifeCap": 2440588,"lifeFloor": 1337,"periodCap": 255,"periodFloor": 32}, 1461, 2447,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [155,110,66,87,166,35,190,151,125,214,106,206,204,20,176,228,195,174,117,165,221,17,8,122,207,155,110,218,13,96,177,33],"legalEntityIdCounterparty": [78,30,33,100,159,182,121,117,134,156,86,252,255,122,185,83,3,169,199,115,42,207,253,23,240,61,3,5,242,227,73,24],"dayCountConvention": 4,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 39,"statusDate": 1532892062,"initialExchangeDate": 79,"maturityDate": 32075,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 30,"cycleAnchorDateOfRateReset": 32074,"cycleAnchorDateOfScalingIndex": 50,"cycleAnchorDateOfFee": 65,"notionalPrincipal": 59,"nominalInterestRate": 0,"feeAccrued": 101,"accruedInterest": 4800,"rateMultiplier": 2440588,"rateSpread": 121,"feeRate": 71,"nextResetRate": 12,"penaltyRate": 14,"premiumDiscountAtIED": 1338,"priceAtPurchaseDate": 120,"cycleOfInterestPayment": {"i": 139,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 32074,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 119,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 31,"p": 0,"s": 1,"isSet": false},"lifeCap": 4000,"lifeFloor": 26,"periodCap": 18,"periodFloor": 400}, 1970, 99,{from: accounts[0]});
  });
});
