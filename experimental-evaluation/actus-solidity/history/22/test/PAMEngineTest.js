const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 1,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [76,24,236,125,232,102,69,146,252,48,250,27,88,145,212,207,250,148,176,164,239,189,21,50,130,155,212,228,122,108,156,142],"legalEntityIdCounterparty": [158,219,63,96,71,223,7,0,76,189,16,38,53,174,116,199,105,194,206,244,174,8,89,242,202,236,72,129,174,197,152,156],"dayCountConvention": 3,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 951,"statusDate": 949,"initialExchangeDate": 1336,"maturityDate": 161,"terminationDate": 11,"purchaseDate": 7,"capitalizationEndDate": 28,"cycleAnchorDateOfInterestPayment": 110,"cycleAnchorDateOfRateReset": 146097,"cycleAnchorDateOfScalingIndex": 131,"cycleAnchorDateOfFee": 71,"notionalPrincipal": 1461000,"nominalInterestRate": -1,"feeAccrued": 41,"accruedInterest": -1,"rateMultiplier": 160,"rateSpread": 69,"feeRate": 120,"nextResetRate": 119,"penaltyRate": 360,"premiumDiscountAtIED": 9,"priceAtPurchaseDate": 27,"cycleOfInterestPayment": {"i": 1,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 7,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1461000,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 68569,"p": 4,"s": 0,"isSet": false},"lifeCap": 32076,"lifeFloor": 141,"periodCap": 4801,"periodFloor": 1532892062},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 9,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [208,157,107,55,38,199,16,151,242,106,9,4,215,88,160,224,183,44,158,138,43,221,129,134,35,249,230,119,230,163,73,185],"legalEntityIdCounterparty": [252,86,37,168,18,78,218,166,65,111,142,236,113,141,167,118,223,187,29,61,124,255,49,8,141,39,251,73,4,83,91,34],"dayCountConvention": 2,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 91,"statusDate": 18,"initialExchangeDate": 16,"maturityDate": 1461001,"terminationDate": 110,"purchaseDate": 151,"capitalizationEndDate": 7,"cycleAnchorDateOfInterestPayment": 86399,"cycleAnchorDateOfRateReset": 359,"cycleAnchorDateOfScalingIndex": 69,"cycleAnchorDateOfFee": 32074,"notionalPrincipal": 17,"nominalInterestRate": 10001,"feeAccrued": 2014223715,"accruedInterest": 360,"rateMultiplier": 100,"rateSpread": 1337,"feeRate": 10000,"nextResetRate": 59,"penaltyRate": 950,"premiumDiscountAtIED": 1461000,"priceAtPurchaseDate": 97,"cycleOfInterestPayment": {"i": 2014223716,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 899,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 131,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 86401,"p": 2,"s": 1,"isSet": true},"lifeCap": 80,"lifeFloor": 60,"periodCap": 95,"periodFloor": 95}, {"lastEventTime": 2446,"contractStatus": 1,"timeFromLastEvent": 32,"nominalValue": 2440587,"nominalAccrued": 3999,"feeAccrued": 360,"nominalRate": 11,"interestScalingMultiplier": 86399,"nominalScalingMultiplier": 86399,"contractRoleSign": 6}, 4,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 6,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [116,9,67,66,10,88,147,30,125,164,116,68,13,48,186,104,49,57,129,217,227,161,44,120,106,192,226,10,69,242,125,135],"legalEntityIdCounterparty": [183,133,160,102,67,239,95,160,154,129,82,194,62,24,50,2,18,29,106,252,67,221,211,73,122,108,136,41,153,161,240,116],"dayCountConvention": 4,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 131,"statusDate": 12,"initialExchangeDate": 69,"maturityDate": 4001,"terminationDate": 146097,"purchaseDate": 30,"capitalizationEndDate": 68568,"cycleAnchorDateOfInterestPayment": 16,"cycleAnchorDateOfRateReset": 1336,"cycleAnchorDateOfScalingIndex": 400,"cycleAnchorDateOfFee": 65,"notionalPrincipal": 100,"nominalInterestRate": 4899,"feeAccrued": 32076,"accruedInterest": 90,"rateMultiplier": 89,"rateSpread": 109,"feeRate": 69,"nextResetRate": 60,"penaltyRate": 13,"premiumDiscountAtIED": 146097,"priceAtPurchaseDate": 361,"cycleOfInterestPayment": {"i": 951,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 17,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1970,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 48,"p": 2,"s": 1,"isSet": true},"lifeCap": 86399,"lifeFloor": 69,"periodCap": 50,"periodFloor": 12}, {"lastEventTime": 20,"contractStatus": 3,"timeFromLastEvent": 4000,"nominalValue": 131,"nominalAccrued": 1461,"feeAccrued": 11,"nominalRate": 95,"interestScalingMultiplier": 4801,"nominalScalingMultiplier": 146096,"contractRoleSign": 8}, {"eventTime": 1460,"eventTimeWithEpochOffset": 1460,"scheduleTime": 146096,"eventType": 11,"currency": accounts[5],"pofType": 12,"stfType": 1}, 1971,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [178,18,117,43,249,149,34,222,194,96,252,118,133,12,173,142,182,44,19,171,91,8,122,204,38,185,38,101,89,58,37,213],"legalEntityIdCounterparty": [0,25,95,69,69,215,94,231,22,169,128,241,10,187,236,239,226,2,68,96,242,22,21,219,163,234,203,48,158,95,157,135],"dayCountConvention": 1,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 28,"statusDate": 950,"initialExchangeDate": 68569,"maturityDate": 1970,"terminationDate": 367,"purchaseDate": 19,"capitalizationEndDate": 1,"cycleAnchorDateOfInterestPayment": 16,"cycleAnchorDateOfRateReset": 6,"cycleAnchorDateOfScalingIndex": 69,"cycleAnchorDateOfFee": 1462,"notionalPrincipal": 21,"nominalInterestRate": 2448,"feeAccrued": 149,"accruedInterest": 1971,"rateMultiplier": 9999,"rateSpread": 2014223714,"feeRate": 109,"nextResetRate": 96,"penaltyRate": 91,"premiumDiscountAtIED": 86401,"priceAtPurchaseDate": 32076,"cycleOfInterestPayment": {"i": 1461002,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 29,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 79,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 401,"p": 5,"s": 0,"isSet": true},"lifeCap": 949,"lifeFloor": 2440587,"periodCap": 161,"periodFloor": 86401}, 32076, 68569,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [240,49,51,234,197,81,189,62,74,242,32,133,180,57,212,100,13,70,32,105,52,205,132,189,216,165,152,191,236,30,228,143],"legalEntityIdCounterparty": [251,219,57,17,27,25,73,223,1,94,57,143,21,208,24,55,167,214,25,135,206,234,249,20,144,4,97,204,79,166,21,34],"dayCountConvention": 3,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 4901,"statusDate": 110,"initialExchangeDate": 6,"maturityDate": 368,"terminationDate": 1337,"purchaseDate": 59,"capitalizationEndDate": 401,"cycleAnchorDateOfInterestPayment": 50,"cycleAnchorDateOfRateReset": 79,"cycleAnchorDateOfScalingIndex": 1461,"cycleAnchorDateOfFee": 4899,"notionalPrincipal": 1969,"nominalInterestRate": 18,"feeAccrued": 80,"accruedInterest": 0,"rateMultiplier": 146098,"rateSpread": 901,"feeRate": 99,"nextResetRate": 111,"penaltyRate": 4900,"premiumDiscountAtIED": 81,"priceAtPurchaseDate": 29,"cycleOfInterestPayment": {"i": 1460,"p": 0,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 399,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 32074,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 159,"p": 5,"s": 1,"isSet": true},"lifeCap": 3999,"lifeFloor": 1532892063,"periodCap": 9999,"periodFloor": 111}, 1461001, 1969,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [114,240,85,171,227,161,37,68,12,142,130,131,164,229,69,17,65,41,60,202,159,126,182,121,195,50,206,34,201,151,227,151],"legalEntityIdCounterparty": [96,33,204,13,53,142,33,97,222,220,104,204,80,177,48,126,91,12,14,146,166,9,31,137,16,123,123,229,193,128,230,161],"dayCountConvention": 0,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 1970,"statusDate": 1,"initialExchangeDate": 367,"maturityDate": 10000,"terminationDate": 110,"purchaseDate": 2440588,"capitalizationEndDate": 61,"cycleAnchorDateOfInterestPayment": 30,"cycleAnchorDateOfRateReset": 90,"cycleAnchorDateOfScalingIndex": 146098,"cycleAnchorDateOfFee": 66,"notionalPrincipal": 1532892063,"nominalInterestRate": 150,"feeAccrued": 1,"accruedInterest": 2447,"rateMultiplier": 4799,"rateSpread": 257,"feeRate": 1969,"nextResetRate": 68570,"penaltyRate": 3999,"premiumDiscountAtIED": 900,"priceAtPurchaseDate": 40,"cycleOfInterestPayment": {"i": 360,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 69,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 81,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 146096,"p": 2,"s": 1,"isSet": true},"lifeCap": 11,"lifeFloor": 1337,"periodCap": 32,"periodFloor": 950}, 1461, 140,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [182,83,148,163,152,35,108,171,111,148,201,186,96,108,230,27,161,176,163,17,32,133,227,144,137,6,216,24,48,14,216,79],"legalEntityIdCounterparty": [100,234,166,229,68,112,123,188,198,93,227,29,199,114,140,4,6,51,87,222,196,32,121,119,254,179,215,187,191,71,135,78],"dayCountConvention": 4,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 4799,"statusDate": 149,"initialExchangeDate": 60,"maturityDate": 159,"terminationDate": 81,"purchaseDate": 1460,"capitalizationEndDate": 121,"cycleAnchorDateOfInterestPayment": 96,"cycleAnchorDateOfRateReset": 2014223714,"cycleAnchorDateOfScalingIndex": 99,"cycleAnchorDateOfFee": 68570,"notionalPrincipal": 80,"nominalInterestRate": 361,"feeAccrued": 100,"accruedInterest": -1,"rateMultiplier": 4,"rateSpread": 27,"feeRate": 366,"nextResetRate": 81,"penaltyRate": 18,"premiumDiscountAtIED": 255,"priceAtPurchaseDate": 131,"cycleOfInterestPayment": {"i": 110,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 65,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 19,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 2448,"p": 5,"s": 0,"isSet": true},"lifeCap": 100,"lifeFloor": 950,"periodCap": 2440587,"periodFloor": 10001}, 110, 4899,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [33,38,180,213,179,5,2,23,215,48,101,36,151,16,235,12,94,162,22,23,120,143,178,103,190,2,85,18,54,22,49,82],"legalEntityIdCounterparty": [136,116,179,173,245,79,232,48,59,43,15,168,207,119,107,131,158,178,11,180,235,238,224,206,247,244,211,32,75,154,239,39],"dayCountConvention": 5,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 1,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 69,"statusDate": 1461,"initialExchangeDate": 1462,"maturityDate": 141,"terminationDate": 1336,"purchaseDate": 0,"capitalizationEndDate": 1338,"cycleAnchorDateOfInterestPayment": 11,"cycleAnchorDateOfRateReset": 69,"cycleAnchorDateOfScalingIndex": 9,"cycleAnchorDateOfFee": 14,"notionalPrincipal": 1461001,"nominalInterestRate": 9,"feeAccrued": 25,"accruedInterest": 401,"rateMultiplier": 32,"rateSpread": 1338,"feeRate": 4799,"nextResetRate": 399,"penaltyRate": 146096,"premiumDiscountAtIED": 4800,"priceAtPurchaseDate": 27,"cycleOfInterestPayment": {"i": 10000,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 119,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 366,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 2440587,"p": 2,"s": 1,"isSet": false},"lifeCap": 69,"lifeFloor": 68569,"periodCap": 65,"periodFloor": 257}, 361, 59,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [84,163,33,131,125,85,236,53,206,212,170,244,70,37,45,132,76,25,165,167,136,97,5,57,182,27,229,87,126,151,133,4],"legalEntityIdCounterparty": [135,52,251,143,195,185,10,99,121,224,207,199,195,107,76,165,157,22,35,228,129,195,53,209,19,60,30,100,225,231,100,36],"dayCountConvention": 5,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 10000,"statusDate": 31,"initialExchangeDate": 368,"maturityDate": 368,"terminationDate": 14,"purchaseDate": 12,"capitalizationEndDate": 19,"cycleAnchorDateOfInterestPayment": 2440588,"cycleAnchorDateOfRateReset": 86400,"cycleAnchorDateOfScalingIndex": 86399,"cycleAnchorDateOfFee": 1532892064,"notionalPrincipal": 4000,"nominalInterestRate": 1461002,"feeAccrued": 4800,"accruedInterest": 95,"rateMultiplier": 69,"rateSpread": 2014223714,"feeRate": 40,"nextResetRate": 120,"penaltyRate": 8,"premiumDiscountAtIED": 29,"priceAtPurchaseDate": 86400,"cycleOfInterestPayment": {"i": 48,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 159,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 254,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 950,"p": 0,"s": 0,"isSet": false},"lifeCap": 14,"lifeFloor": 367,"periodCap": 121,"periodFloor": 68568}, 110, 69,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [70,111,86,186,122,255,170,227,72,139,142,249,23,100,54,0,45,28,250,205,66,123,87,253,171,145,208,145,65,220,254,235],"legalEntityIdCounterparty": [249,175,213,135,253,91,107,88,76,109,48,91,167,172,211,234,141,191,168,223,234,155,126,241,168,153,174,175,69,17,4,250],"dayCountConvention": 4,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 949,"statusDate": 1532892064,"initialExchangeDate": 160,"maturityDate": 29,"terminationDate": 31,"purchaseDate": 254,"capitalizationEndDate": 256,"cycleAnchorDateOfInterestPayment": 39,"cycleAnchorDateOfRateReset": 129,"cycleAnchorDateOfScalingIndex": 1969,"cycleAnchorDateOfFee": 101,"notionalPrincipal": 111,"nominalInterestRate": 254,"feeAccrued": 4901,"accruedInterest": 150,"rateMultiplier": 950,"rateSpread": 121,"feeRate": 32074,"nextResetRate": 1532892063,"penaltyRate": 90,"premiumDiscountAtIED": 131,"priceAtPurchaseDate": 1461,"cycleOfInterestPayment": {"i": 151,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 131,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 2447,"p": 5,"s": 0,"isSet": true},"cycleOfFee": {"i": 359,"p": 0,"s": 0,"isSet": false},"lifeCap": 3999,"lifeFloor": 10000,"periodCap": 70,"periodFloor": 11}, 100, 2446,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [11,106,139,35,76,234,239,179,67,95,161,177,215,2,50,62,18,172,154,180,85,96,137,195,61,95,211,121,60,68,132,195],"legalEntityIdCounterparty": [222,134,141,53,177,227,17,113,87,226,87,73,30,182,117,198,27,225,191,237,136,208,160,79,11,57,110,119,41,98,102,124],"dayCountConvention": 5,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 364,"statusDate": 49,"initialExchangeDate": 2440588,"maturityDate": 255,"terminationDate": 1336,"purchaseDate": 11,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 149,"cycleAnchorDateOfRateReset": 140,"cycleAnchorDateOfScalingIndex": 257,"cycleAnchorDateOfFee": 367,"notionalPrincipal": 2014223716,"nominalInterestRate": 1971,"feeAccrued": 7,"accruedInterest": 68568,"rateMultiplier": 49,"rateSpread": 121,"feeRate": 25,"nextResetRate": 89,"penaltyRate": 30,"premiumDiscountAtIED": 18,"priceAtPurchaseDate": 254,"cycleOfInterestPayment": {"i": 29,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 21,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 59,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 1461,"p": 0,"s": 1,"isSet": true},"lifeCap": 161,"lifeFloor": 91,"periodCap": 3999,"periodFloor": 1461}, 4800, 40,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [53,5,88,41,79,182,195,20,142,145,232,117,62,1,87,234,194,105,129,184,244,99,53,66,162,207,107,108,17,40,239,125],"legalEntityIdCounterparty": [56,153,85,25,14,100,143,28,71,162,194,67,17,208,40,241,118,104,116,240,72,117,253,153,222,118,11,88,245,247,239,102],"dayCountConvention": 0,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 59,"statusDate": 10,"initialExchangeDate": 48,"maturityDate": 31,"terminationDate": 24,"purchaseDate": 69,"capitalizationEndDate": 2014223716,"cycleAnchorDateOfInterestPayment": 60,"cycleAnchorDateOfRateReset": 1461001,"cycleAnchorDateOfScalingIndex": 81,"cycleAnchorDateOfFee": 1532892064,"notionalPrincipal": 65,"nominalInterestRate": 0,"feeAccrued": 16,"accruedInterest": 368,"rateMultiplier": 32,"rateSpread": 68569,"feeRate": 68570,"nextResetRate": 49,"penaltyRate": 89,"premiumDiscountAtIED": 4800,"priceAtPurchaseDate": 13,"cycleOfInterestPayment": {"i": 254,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 149,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 365,"p": 4,"s": 0,"isSet": true},"cycleOfFee": {"i": 131,"p": 0,"s": 1,"isSet": false},"lifeCap": 48,"lifeFloor": 69,"periodCap": 121,"periodFloor": 9}, 950, 4900,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [78,144,9,98,6,135,142,208,130,236,249,79,180,93,143,59,228,203,212,157,19,194,198,232,144,165,195,18,161,195,50,209],"legalEntityIdCounterparty": [88,105,146,57,77,146,125,153,184,81,254,193,21,89,79,79,119,146,6,60,14,123,8,159,120,104,223,128,121,111,79,179],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 5,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 100,"statusDate": 86399,"initialExchangeDate": 131,"maturityDate": 39,"terminationDate": 19,"purchaseDate": 86399,"capitalizationEndDate": 27,"cycleAnchorDateOfInterestPayment": 257,"cycleAnchorDateOfRateReset": 1461001,"cycleAnchorDateOfScalingIndex": 10000,"cycleAnchorDateOfFee": 4899,"notionalPrincipal": 86399,"nominalInterestRate": 86400,"feeAccrued": 69,"accruedInterest": 86401,"rateMultiplier": 950,"rateSpread": 399,"feeRate": 99,"nextResetRate": 29,"penaltyRate": 3999,"premiumDiscountAtIED": 51,"priceAtPurchaseDate": 899,"cycleOfInterestPayment": {"i": 2440588,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 2014223715,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1336,"p": 4,"s": 0,"isSet": false},"cycleOfFee": {"i": 96,"p": 1,"s": 1,"isSet": true},"lifeCap": 95,"lifeFloor": 60,"periodCap": 49,"periodFloor": 24}, 360, 1532892063,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [49,157,7,27,117,137,211,250,44,219,141,132,148,41,147,245,191,34,53,4,183,124,117,133,105,242,254,64,187,208,5,94],"legalEntityIdCounterparty": [55,60,24,210,168,213,128,101,131,174,77,38,76,56,168,23,47,104,32,196,25,47,208,71,240,106,163,77,126,254,183,9],"dayCountConvention": 5,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 2014223714,"statusDate": 17,"initialExchangeDate": 951,"maturityDate": 31,"terminationDate": 951,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 365,"cycleAnchorDateOfRateReset": 65,"cycleAnchorDateOfScalingIndex": 10001,"cycleAnchorDateOfFee": 901,"notionalPrincipal": 17,"nominalInterestRate": 0,"feeAccrued": 40,"accruedInterest": 1461,"rateMultiplier": 146098,"rateSpread": 256,"feeRate": 2014223714,"nextResetRate": 40,"penaltyRate": 20,"premiumDiscountAtIED": 27,"priceAtPurchaseDate": 2014223716,"cycleOfInterestPayment": {"i": 1460,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 161,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 366,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 65,"p": 3,"s": 0,"isSet": false},"lifeCap": 950,"lifeFloor": 2446,"periodCap": 31,"periodFloor": 950}, 254, 64,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [102,145,11,127,49,48,164,196,229,250,143,65,137,176,249,223,155,102,107,189,36,248,247,113,105,20,248,15,126,181,200,78],"legalEntityIdCounterparty": [99,223,160,243,129,194,196,219,181,94,147,249,9,190,140,70,191,162,203,224,0,252,230,167,198,110,244,122,1,254,211,194],"dayCountConvention": 3,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 1338,"statusDate": 10,"initialExchangeDate": 39,"maturityDate": 361,"terminationDate": 367,"purchaseDate": 1969,"capitalizationEndDate": 32075,"cycleAnchorDateOfInterestPayment": 32074,"cycleAnchorDateOfRateReset": 130,"cycleAnchorDateOfScalingIndex": 146096,"cycleAnchorDateOfFee": 13,"notionalPrincipal": 140,"nominalInterestRate": 41,"feeAccrued": 79,"accruedInterest": 9,"rateMultiplier": 361,"rateSpread": 257,"feeRate": 1532892064,"nextResetRate": 151,"penaltyRate": 400,"premiumDiscountAtIED": -1,"priceAtPurchaseDate": 951,"cycleOfInterestPayment": {"i": 2440589,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 149,"p": 2,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 2446,"p": 2,"s": 1,"isSet": true},"lifeCap": 68570,"lifeFloor": 86400,"periodCap": 97,"periodFloor": 59}, 3999, 3,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [88,70,20,155,138,246,90,100,164,80,218,66,27,248,160,155,24,176,13,129,16,20,160,128,95,120,39,102,101,171,230,40],"legalEntityIdCounterparty": [165,61,96,109,241,235,184,223,70,66,213,45,201,242,247,190,254,71,45,121,185,29,55,131,255,54,206,118,235,216,185,69],"dayCountConvention": 3,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 7,"statusDate": 1532892063,"initialExchangeDate": 901,"maturityDate": 23,"terminationDate": 361,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 95,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 79,"cycleAnchorDateOfFee": 28,"notionalPrincipal": 68569,"nominalInterestRate": 0,"feeAccrued": 3999,"accruedInterest": 110,"rateMultiplier": 361,"rateSpread": 254,"feeRate": 10,"nextResetRate": 160,"penaltyRate": 10,"premiumDiscountAtIED": 70,"priceAtPurchaseDate": 900,"cycleOfInterestPayment": {"i": 139,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 81,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 97,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 2014223716,"p": 5,"s": 0,"isSet": false},"lifeCap": 31,"lifeFloor": 949,"periodCap": 16,"periodFloor": 71}, 4900, 257,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [93,192,238,86,242,237,86,173,248,193,207,232,217,47,176,121,230,129,221,127,216,242,228,16,162,229,169,219,139,247,12,82],"legalEntityIdCounterparty": [222,170,140,142,68,152,188,15,29,81,80,46,149,241,249,140,125,52,59,191,140,108,183,240,142,84,98,186,140,2,60,227],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 2440587,"statusDate": 6,"initialExchangeDate": 4900,"maturityDate": 63,"terminationDate": 257,"purchaseDate": 49,"capitalizationEndDate": 19,"cycleAnchorDateOfInterestPayment": 120,"cycleAnchorDateOfRateReset": 49,"cycleAnchorDateOfScalingIndex": 6,"cycleAnchorDateOfFee": 146096,"notionalPrincipal": 1532892064,"nominalInterestRate": 32,"feeAccrued": 1971,"accruedInterest": 3999,"rateMultiplier": 60,"rateSpread": 129,"feeRate": 68569,"nextResetRate": 4800,"penaltyRate": 364,"premiumDiscountAtIED": 255,"priceAtPurchaseDate": 950,"cycleOfInterestPayment": {"i": 100,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 68568,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 121,"p": 5,"s": 0,"isSet": true},"cycleOfFee": {"i": 5,"p": 0,"s": 0,"isSet": true},"lifeCap": 63,"lifeFloor": 1460,"periodCap": 360,"periodFloor": 20}, 68569, 949,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [144,62,190,227,137,208,182,230,143,195,11,211,28,189,156,111,203,105,147,180,158,251,210,161,241,73,135,142,215,173,168,37],"legalEntityIdCounterparty": [193,32,80,11,197,110,168,89,58,79,189,138,119,208,136,215,81,92,137,119,137,38,172,251,158,21,105,221,120,178,8,155],"dayCountConvention": 2,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 4901,"statusDate": 364,"initialExchangeDate": 950,"maturityDate": 360,"terminationDate": 63,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 120,"cycleAnchorDateOfRateReset": 26,"cycleAnchorDateOfScalingIndex": 1532892064,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 40,"nominalInterestRate": 0,"feeAccrued": 1969,"accruedInterest": 149,"rateMultiplier": 1338,"rateSpread": 1970,"feeRate": 16,"nextResetRate": 2014223714,"penaltyRate": 146098,"premiumDiscountAtIED": 24,"priceAtPurchaseDate": 1,"cycleOfInterestPayment": {"i": 91,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 17,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 11,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 360,"p": 1,"s": 0,"isSet": false},"lifeCap": 68568,"lifeFloor": 257,"periodCap": 65,"periodFloor": 101}, 28, 10,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [170,181,152,74,63,85,2,229,163,85,138,101,161,190,53,18,37,252,53,39,68,160,120,131,161,191,23,46,62,236,212,122],"legalEntityIdCounterparty": [51,87,74,152,120,144,137,160,21,108,159,175,136,67,204,228,192,52,19,61,234,128,179,121,61,163,231,35,61,94,169,164],"dayCountConvention": 4,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 2448,"statusDate": 368,"initialExchangeDate": 4800,"maturityDate": 131,"terminationDate": 69,"purchaseDate": 97,"capitalizationEndDate": 71,"cycleAnchorDateOfInterestPayment": 60,"cycleAnchorDateOfRateReset": 2014223715,"cycleAnchorDateOfScalingIndex": 1,"cycleAnchorDateOfFee": 64,"notionalPrincipal": 141,"nominalInterestRate": 129,"feeAccrued": -1,"accruedInterest": 110,"rateMultiplier": 161,"rateSpread": 32075,"feeRate": 91,"nextResetRate": 3999,"penaltyRate": 26,"premiumDiscountAtIED": 256,"priceAtPurchaseDate": 23,"cycleOfInterestPayment": {"i": 110,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 7,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 110,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 100,"p": 5,"s": 1,"isSet": true},"lifeCap": 139,"lifeFloor": 68568,"periodCap": 86401,"periodFloor": 32075}, 2014223716, 9,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [154,153,202,64,154,195,108,154,111,93,199,207,210,100,158,84,235,93,8,164,169,113,192,117,5,190,227,74,8,109,75,117],"legalEntityIdCounterparty": [4,40,244,232,126,142,15,219,40,182,167,137,10,6,124,97,145,97,249,54,81,53,1,165,79,243,36,75,15,38,92,30],"dayCountConvention": 1,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 50,"statusDate": 64,"initialExchangeDate": 3999,"maturityDate": 12,"terminationDate": 9,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 2014223715,"cycleAnchorDateOfRateReset": 1462,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 18,"notionalPrincipal": 364,"nominalInterestRate": 0,"feeAccrued": -1,"accruedInterest": 11,"rateMultiplier": 5,"rateSpread": 1,"feeRate": 1461001,"nextResetRate": 4801,"penaltyRate": 1,"premiumDiscountAtIED": 1336,"priceAtPurchaseDate": 139,"cycleOfInterestPayment": {"i": 12,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 2447,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 111,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 255,"p": 3,"s": 1,"isSet": true},"lifeCap": 86400,"lifeFloor": 64,"periodCap": 1462,"periodFloor": 1460}, 365, 68568,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [143,191,165,118,245,31,205,155,22,249,180,14,133,11,209,247,109,189,81,240,96,51,155,201,66,175,119,118,69,226,232,0],"legalEntityIdCounterparty": [178,62,8,136,32,147,166,180,88,3,168,177,21,194,62,254,181,208,244,60,81,34,152,146,22,67,254,84,131,134,180,176],"dayCountConvention": 1,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 86399,"statusDate": 950,"initialExchangeDate": 2014223715,"maturityDate": 95,"terminationDate": 4801,"purchaseDate": 14,"capitalizationEndDate": 400,"cycleAnchorDateOfInterestPayment": 10000,"cycleAnchorDateOfRateReset": 3999,"cycleAnchorDateOfScalingIndex": 146098,"cycleAnchorDateOfFee": 24,"notionalPrincipal": 14,"nominalInterestRate": -1,"feeAccrued": 9999,"accruedInterest": 120,"rateMultiplier": 69,"rateSpread": 4901,"feeRate": -1,"nextResetRate": 29,"penaltyRate": 25,"premiumDiscountAtIED": 4800,"priceAtPurchaseDate": 30,"cycleOfInterestPayment": {"i": 71,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 359,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 120,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 254,"p": 1,"s": 1,"isSet": true},"lifeCap": 26,"lifeFloor": 141,"periodCap": 49,"periodFloor": 3999}, 368, 120,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [102,83,136,20,138,245,21,112,28,25,79,154,252,20,103,67,136,207,95,49,253,203,122,111,14,223,7,183,32,167,191,62],"legalEntityIdCounterparty": [185,81,176,55,99,223,144,0,176,174,186,132,115,0,116,156,176,223,118,222,83,178,197,40,91,231,82,149,55,3,102,83],"dayCountConvention": 6,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 96,"statusDate": 71,"initialExchangeDate": 96,"maturityDate": 7,"terminationDate": 400,"purchaseDate": 131,"capitalizationEndDate": 9,"cycleAnchorDateOfInterestPayment": 9999,"cycleAnchorDateOfRateReset": 1336,"cycleAnchorDateOfScalingIndex": 1969,"cycleAnchorDateOfFee": 400,"notionalPrincipal": 159,"nominalInterestRate": 1337,"feeAccrued": -1,"accruedInterest": 51,"rateMultiplier": 4800,"rateSpread": 361,"feeRate": 26,"nextResetRate": 950,"penaltyRate": 359,"premiumDiscountAtIED": 257,"priceAtPurchaseDate": 146098,"cycleOfInterestPayment": {"i": 119,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 4799,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 2447,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 31,"p": 3,"s": 0,"isSet": true},"lifeCap": 9999,"lifeFloor": 150,"periodCap": 1969,"periodFloor": 4901}, 2446, 2446,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [146,77,145,162,136,230,33,43,60,216,181,74,251,32,160,165,197,16,125,140,27,123,114,7,195,32,61,253,214,242,95,91],"legalEntityIdCounterparty": [53,23,230,228,15,221,20,35,23,116,196,139,120,30,248,238,119,15,89,197,190,107,90,55,56,14,237,121,2,199,241,103],"dayCountConvention": 5,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 0,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 66,"statusDate": 90,"initialExchangeDate": 4799,"maturityDate": 2448,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 31,"cycleAnchorDateOfRateReset": 4,"cycleAnchorDateOfScalingIndex": 146097,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 1460,"nominalInterestRate": 0,"feeAccrued": 51,"accruedInterest": 4000,"rateMultiplier": 151,"rateSpread": 2440587,"feeRate": 2,"nextResetRate": 40,"penaltyRate": 12,"premiumDiscountAtIED": 40,"priceAtPurchaseDate": 2447,"cycleOfInterestPayment": {"i": 2440588,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 31,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 91,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 901,"p": 3,"s": 0,"isSet": false},"lifeCap": 91,"lifeFloor": 51,"periodCap": 4000,"periodFloor": 9999}, 61, 4901,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [193,116,44,37,220,215,249,210,42,196,143,155,32,116,165,168,165,20,219,37,188,214,163,8,185,1,217,21,183,243,155,52],"legalEntityIdCounterparty": [169,209,218,6,236,37,243,197,191,97,137,186,255,184,165,39,101,254,151,218,187,125,230,22,244,100,73,73,31,94,185,236],"dayCountConvention": 4,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 5,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 399,"statusDate": 2447,"initialExchangeDate": 12,"maturityDate": 901,"terminationDate": 18,"purchaseDate": 99,"capitalizationEndDate": 48,"cycleAnchorDateOfInterestPayment": 359,"cycleAnchorDateOfRateReset": 1337,"cycleAnchorDateOfScalingIndex": 10001,"cycleAnchorDateOfFee": 63,"notionalPrincipal": 257,"nominalInterestRate": 901,"feeAccrued": 17,"accruedInterest": 23,"rateMultiplier": 8,"rateSpread": 91,"feeRate": 949,"nextResetRate": 19,"penaltyRate": 130,"premiumDiscountAtIED": 60,"priceAtPurchaseDate": 64,"cycleOfInterestPayment": {"i": 11,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 130,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 4899,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 99,"p": 4,"s": 1,"isSet": false},"lifeCap": 1532892064,"lifeFloor": 400,"periodCap": 2440587,"periodFloor": 49}, 146096, 17,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [254,155,82,131,37,88,49,44,141,157,12,240,245,164,40,219,223,41,148,38,147,66,234,177,9,101,248,237,149,124,6,99],"legalEntityIdCounterparty": [26,51,32,2,70,204,247,58,97,76,228,186,239,73,0,168,237,3,132,72,39,76,246,225,179,172,237,112,160,91,148,29],"dayCountConvention": 3,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 32074,"statusDate": 12,"initialExchangeDate": 31,"maturityDate": 364,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 130,"cycleAnchorDateOfRateReset": 4899,"cycleAnchorDateOfScalingIndex": 120,"cycleAnchorDateOfFee": 2447,"notionalPrincipal": 16,"nominalInterestRate": 0,"feeAccrued": 146096,"accruedInterest": 364,"rateMultiplier": 4800,"rateSpread": 4900,"feeRate": 159,"nextResetRate": 110,"penaltyRate": 899,"premiumDiscountAtIED": 400,"priceAtPurchaseDate": 899,"cycleOfInterestPayment": {"i": 9999,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 10000,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 89,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 4001,"p": 2,"s": 0,"isSet": false},"lifeCap": 66,"lifeFloor": 2440589,"periodCap": 149,"periodFloor": 1461000}, 10000, 2014223714,{from: accounts[0]});
  });
});
