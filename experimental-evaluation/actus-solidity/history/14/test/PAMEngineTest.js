const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 15,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [42,1,194,9,107,177,192,45,115,233,253,128,170,14,249,168,28,130,185,41,184,39,97,90,54,189,154,100,97,67,223,219],"legalEntityIdCounterparty": [85,36,3,152,99,102,154,253,183,110,252,49,237,100,129,46,190,93,214,50,89,124,163,95,237,146,212,75,123,60,114,210],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 41,"statusDate": 68569,"initialExchangeDate": 101,"maturityDate": 151,"terminationDate": 86399,"purchaseDate": 131,"capitalizationEndDate": 1532892064,"cycleAnchorDateOfInterestPayment": 160,"cycleAnchorDateOfRateReset": 65,"cycleAnchorDateOfScalingIndex": 18,"cycleAnchorDateOfFee": 19,"notionalPrincipal": 146096,"nominalInterestRate": 66,"feeAccrued": 60,"accruedInterest": 17,"rateMultiplier": 2440589,"rateSpread": 81,"feeRate": 139,"nextResetRate": 4001,"penaltyRate": 81,"premiumDiscountAtIED": 121,"priceAtPurchaseDate": 15,"cycleOfInterestPayment": {"i": 1532892062,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1461002,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1338,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 96,"p": 1,"s": 1,"isSet": true},"lifeCap": 161,"lifeFloor": 2014223714,"periodCap": 66,"periodFloor": 1461000},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 12,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [213,13,148,199,76,9,235,16,244,3,175,7,223,155,123,48,28,112,19,209,141,213,115,104,129,129,238,92,162,141,9,125],"legalEntityIdCounterparty": [55,133,167,123,238,164,107,166,182,7,30,46,55,33,26,100,215,29,146,204,202,94,250,218,201,156,140,13,132,233,56,238],"dayCountConvention": 2,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 129,"statusDate": 32,"initialExchangeDate": 59,"maturityDate": 4000,"terminationDate": 51,"purchaseDate": 40,"capitalizationEndDate": 1337,"cycleAnchorDateOfInterestPayment": 160,"cycleAnchorDateOfRateReset": 68568,"cycleAnchorDateOfScalingIndex": 4900,"cycleAnchorDateOfFee": 254,"notionalPrincipal": 32,"nominalInterestRate": 26,"feeAccrued": 255,"accruedInterest": 949,"rateMultiplier": 901,"rateSpread": 23,"feeRate": 9999,"nextResetRate": 401,"penaltyRate": 4801,"premiumDiscountAtIED": 146096,"priceAtPurchaseDate": 146097,"cycleOfInterestPayment": {"i": 3999,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 4000,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 69,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 19,"p": 3,"s": 0,"isSet": true},"lifeCap": 1337,"lifeFloor": 101,"periodCap": 1532892064,"periodFloor": 90}, {"lastEventTime": 1461000,"contractStatus": 3,"timeFromLastEvent": 1,"nominalValue": 899,"nominalAccrued": 146097,"feeAccrued": 59,"nominalRate": 140,"interestScalingMultiplier": 139,"nominalScalingMultiplier": 69,"contractRoleSign": 4}, 97,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 16,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [47,172,217,142,81,193,206,9,206,255,54,251,55,202,140,76,225,79,77,226,20,43,33,213,7,19,220,82,211,210,242,144],"legalEntityIdCounterparty": [233,75,227,15,141,211,252,228,64,69,154,95,200,192,100,55,111,195,54,130,184,129,6,50,82,213,172,35,251,103,108,61],"dayCountConvention": 6,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 2446,"statusDate": 1532892064,"initialExchangeDate": 2440588,"maturityDate": 19,"terminationDate": 1460,"purchaseDate": 129,"capitalizationEndDate": 1969,"cycleAnchorDateOfInterestPayment": 41,"cycleAnchorDateOfRateReset": 4001,"cycleAnchorDateOfScalingIndex": 141,"cycleAnchorDateOfFee": 1,"notionalPrincipal": 146097,"nominalInterestRate": 18,"feeAccrued": 400,"accruedInterest": 1460,"rateMultiplier": 80,"rateSpread": 10001,"feeRate": 366,"nextResetRate": 1,"penaltyRate": 79,"premiumDiscountAtIED": 2447,"priceAtPurchaseDate": 59,"cycleOfInterestPayment": {"i": 146097,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 254,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1460,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 15,"p": 4,"s": 0,"isSet": false},"lifeCap": 1,"lifeFloor": 401,"periodCap": 1461,"periodFloor": 4000}, {"lastEventTime": 1461,"contractStatus": 1,"timeFromLastEvent": 68568,"nominalValue": 60,"nominalAccrued": 90,"feeAccrued": 139,"nominalRate": 950,"interestScalingMultiplier": 120,"nominalScalingMultiplier": 109,"contractRoleSign": 6}, {"eventTime": 129,"eventTimeWithEpochOffset": 257,"scheduleTime": 364,"eventType": 9,"currency": accounts[4],"pofType": 20,"stfType": 10}, 255,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [229,41,193,241,21,210,193,22,248,254,145,65,243,230,213,63,171,117,122,1,174,91,88,173,102,98,141,213,250,233,183,201],"legalEntityIdCounterparty": [254,218,224,203,59,229,213,25,231,171,39,161,197,107,252,68,151,173,89,95,203,47,203,38,239,124,18,236,26,89,120,204],"dayCountConvention": 4,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 40,"statusDate": 32075,"initialExchangeDate": 364,"maturityDate": 4001,"terminationDate": 141,"purchaseDate": 0,"capitalizationEndDate": 91,"cycleAnchorDateOfInterestPayment": 18,"cycleAnchorDateOfRateReset": 3999,"cycleAnchorDateOfScalingIndex": 4900,"cycleAnchorDateOfFee": 146098,"notionalPrincipal": 10,"nominalInterestRate": 367,"feeAccrued": 4801,"accruedInterest": 1462,"rateMultiplier": 256,"rateSpread": 10,"feeRate": 4799,"nextResetRate": 151,"penaltyRate": 0,"premiumDiscountAtIED": 1971,"priceAtPurchaseDate": 2440589,"cycleOfInterestPayment": {"i": 4899,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 1461,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 101,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 146098,"p": 2,"s": 1,"isSet": false},"lifeCap": 366,"lifeFloor": 89,"periodCap": 7,"periodFloor": 12}, 4801, 30,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [126,114,133,183,142,160,204,254,153,237,89,23,115,211,203,151,8,149,5,149,226,141,138,215,217,8,251,107,93,189,16,177],"legalEntityIdCounterparty": [65,2,155,33,61,94,57,41,241,112,64,41,154,86,228,124,13,138,32,121,95,129,128,50,182,226,217,215,144,254,164,222],"dayCountConvention": 6,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 68569,"statusDate": 7,"initialExchangeDate": 48,"maturityDate": 399,"terminationDate": 19,"purchaseDate": 99,"capitalizationEndDate": 1532892063,"cycleAnchorDateOfInterestPayment": 2447,"cycleAnchorDateOfRateReset": 110,"cycleAnchorDateOfScalingIndex": 11,"cycleAnchorDateOfFee": 32075,"notionalPrincipal": 254,"nominalInterestRate": 4899,"feeAccrued": 367,"accruedInterest": 951,"rateMultiplier": 141,"rateSpread": 18,"feeRate": 7,"nextResetRate": 367,"penaltyRate": 6,"premiumDiscountAtIED": 1337,"priceAtPurchaseDate": 4001,"cycleOfInterestPayment": {"i": 10001,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 121,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 68570,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 90,"p": 0,"s": 1,"isSet": true},"lifeCap": 255,"lifeFloor": 32076,"periodCap": 68570,"periodFloor": 110}, 59, 4001,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [96,129,237,219,102,14,35,251,41,224,4,136,79,155,186,133,137,180,201,16,189,60,151,200,34,35,132,57,4,231,76,120],"legalEntityIdCounterparty": [54,21,185,249,56,122,217,9,235,146,200,103,209,108,158,29,208,113,165,130,173,219,153,192,78,2,84,231,26,220,242,210],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 19,"statusDate": 100,"initialExchangeDate": 1461001,"maturityDate": 1532892064,"terminationDate": 18,"purchaseDate": 10000,"capitalizationEndDate": 146097,"cycleAnchorDateOfInterestPayment": 257,"cycleAnchorDateOfRateReset": 27,"cycleAnchorDateOfScalingIndex": 89,"cycleAnchorDateOfFee": 1462,"notionalPrincipal": 64,"nominalInterestRate": 949,"feeAccrued": 25,"accruedInterest": 28,"rateMultiplier": 71,"rateSpread": 60,"feeRate": 68569,"nextResetRate": 256,"penaltyRate": 4901,"premiumDiscountAtIED": 2,"priceAtPurchaseDate": 31,"cycleOfInterestPayment": {"i": 4000,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1337,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 29,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 90,"p": 5,"s": 0,"isSet": false},"lifeCap": 97,"lifeFloor": 360,"periodCap": 91,"periodFloor": 129}, 400, 129,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [121,207,170,84,137,110,201,37,231,102,160,213,248,25,108,249,131,223,219,159,166,98,242,49,91,194,161,81,239,5,73,125],"legalEntityIdCounterparty": [157,239,136,53,84,228,78,76,128,37,44,242,102,117,139,51,133,64,232,60,227,129,131,227,158,240,38,136,180,56,12,66],"dayCountConvention": 0,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 111,"statusDate": 109,"initialExchangeDate": 949,"maturityDate": 2,"terminationDate": 90,"purchaseDate": 129,"capitalizationEndDate": 1,"cycleAnchorDateOfInterestPayment": 146097,"cycleAnchorDateOfRateReset": 100,"cycleAnchorDateOfScalingIndex": 90,"cycleAnchorDateOfFee": 4901,"notionalPrincipal": 5,"nominalInterestRate": 81,"feeAccrued": 51,"accruedInterest": 91,"rateMultiplier": 120,"rateSpread": 2014223715,"feeRate": 61,"nextResetRate": 146098,"penaltyRate": 950,"premiumDiscountAtIED": 89,"priceAtPurchaseDate": 99,"cycleOfInterestPayment": {"i": 18,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 1970,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1461002,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 41,"p": 1,"s": 1,"isSet": true},"lifeCap": 13,"lifeFloor": 4800,"periodCap": 49,"periodFloor": 131}, 161, 95,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [243,199,253,174,78,237,138,108,88,49,208,159,170,42,33,125,255,35,67,105,231,61,89,17,100,208,212,88,66,56,155,207],"legalEntityIdCounterparty": [26,136,177,165,132,98,135,63,185,96,71,98,75,255,71,101,102,182,15,167,1,114,161,84,106,118,180,242,151,209,190,59],"dayCountConvention": 2,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 31,"statusDate": 1462,"initialExchangeDate": 160,"maturityDate": 71,"terminationDate": 27,"purchaseDate": 0,"capitalizationEndDate": 1532892062,"cycleAnchorDateOfInterestPayment": 1532892062,"cycleAnchorDateOfRateReset": 2447,"cycleAnchorDateOfScalingIndex": 121,"cycleAnchorDateOfFee": 365,"notionalPrincipal": 39,"nominalInterestRate": 66,"feeAccrued": 149,"accruedInterest": 1,"rateMultiplier": 1337,"rateSpread": 140,"feeRate": 110,"nextResetRate": 28,"penaltyRate": 4001,"premiumDiscountAtIED": 101,"priceAtPurchaseDate": 1969,"cycleOfInterestPayment": {"i": 401,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 95,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1338,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 68570,"p": 3,"s": 1,"isSet": false},"lifeCap": 368,"lifeFloor": 129,"periodCap": 16,"periodFloor": 1461002}, 361, 159,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [78,162,107,48,116,249,23,222,144,207,79,9,165,196,71,170,97,19,158,63,133,90,191,16,19,85,28,133,198,14,148,47],"legalEntityIdCounterparty": [207,251,29,19,211,80,68,150,29,15,102,248,29,19,235,155,148,240,169,111,249,117,18,69,193,107,2,206,134,57,227,140],"dayCountConvention": 3,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 159,"statusDate": 69,"initialExchangeDate": 399,"maturityDate": 121,"terminationDate": 4901,"purchaseDate": 61,"capitalizationEndDate": 130,"cycleAnchorDateOfInterestPayment": 23,"cycleAnchorDateOfRateReset": 97,"cycleAnchorDateOfScalingIndex": 8,"cycleAnchorDateOfFee": 1971,"notionalPrincipal": 90,"nominalInterestRate": 361,"feeAccrued": 2440588,"accruedInterest": 901,"rateMultiplier": 4000,"rateSpread": 401,"feeRate": 96,"nextResetRate": 81,"penaltyRate": 10,"premiumDiscountAtIED": 5,"priceAtPurchaseDate": 2,"cycleOfInterestPayment": {"i": 129,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 2014223714,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 21,"p": 5,"s": 0,"isSet": true},"cycleOfFee": {"i": 16,"p": 4,"s": 0,"isSet": false},"lifeCap": 131,"lifeFloor": 130,"periodCap": 366,"periodFloor": 2}, 63, 32074,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [215,198,19,90,204,49,28,164,78,23,71,175,6,254,40,255,46,31,233,132,89,88,225,65,35,52,134,211,119,221,176,5],"legalEntityIdCounterparty": [227,230,43,128,80,137,116,47,187,247,224,43,45,27,172,50,6,224,154,104,34,248,93,22,80,0,35,120,226,159,144,204],"dayCountConvention": 1,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 63,"statusDate": 28,"initialExchangeDate": 86399,"maturityDate": 86400,"terminationDate": 10001,"purchaseDate": 39,"capitalizationEndDate": 368,"cycleAnchorDateOfInterestPayment": 10,"cycleAnchorDateOfRateReset": 69,"cycleAnchorDateOfScalingIndex": 26,"cycleAnchorDateOfFee": 4000,"notionalPrincipal": 13,"nominalInterestRate": 365,"feeAccrued": 23,"accruedInterest": 86401,"rateMultiplier": 81,"rateSpread": 401,"feeRate": 68570,"nextResetRate": 32076,"penaltyRate": 949,"premiumDiscountAtIED": 900,"priceAtPurchaseDate": 21,"cycleOfInterestPayment": {"i": 256,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 8,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1460,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 9,"p": 2,"s": 1,"isSet": false},"lifeCap": 80,"lifeFloor": 1,"periodCap": 9999,"periodFloor": 60}, 79, 39,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [91,253,243,118,40,150,125,217,241,153,200,31,135,106,192,184,142,228,128,193,177,250,48,121,201,242,17,47,204,223,9,54],"legalEntityIdCounterparty": [209,41,220,232,38,16,103,246,146,90,136,25,207,142,17,254,95,248,217,135,228,246,48,130,239,12,163,214,191,173,132,230],"dayCountConvention": 6,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 150,"statusDate": 86400,"initialExchangeDate": 41,"maturityDate": 110,"terminationDate": 9,"purchaseDate": 9,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 10001,"cycleAnchorDateOfRateReset": 19,"cycleAnchorDateOfScalingIndex": 1460,"cycleAnchorDateOfFee": 70,"notionalPrincipal": 120,"nominalInterestRate": 150,"feeAccrued": 10,"accruedInterest": 2440587,"rateMultiplier": 99,"rateSpread": 8,"feeRate": 4000,"nextResetRate": 19,"penaltyRate": 151,"premiumDiscountAtIED": 401,"priceAtPurchaseDate": 131,"cycleOfInterestPayment": {"i": 1462,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 101,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 32074,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 400,"p": 2,"s": 1,"isSet": true},"lifeCap": 0,"lifeFloor": 32074,"periodCap": 80,"periodFloor": 4901}, 89, 61,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [208,1,84,237,242,22,7,33,149,114,203,205,231,50,27,119,59,54,104,99,167,234,190,176,30,86,242,10,105,123,48,164],"legalEntityIdCounterparty": [244,195,11,210,140,56,182,113,70,49,44,208,209,33,7,153,34,183,77,122,26,182,80,231,35,212,120,156,192,225,104,165],"dayCountConvention": 6,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 4000,"statusDate": 32,"initialExchangeDate": 14,"maturityDate": 109,"terminationDate": 159,"purchaseDate": 4000,"capitalizationEndDate": 32,"cycleAnchorDateOfInterestPayment": 27,"cycleAnchorDateOfRateReset": 32076,"cycleAnchorDateOfScalingIndex": 1337,"cycleAnchorDateOfFee": 400,"notionalPrincipal": 1,"nominalInterestRate": 4801,"feeAccrued": 99,"accruedInterest": 68569,"rateMultiplier": 79,"rateSpread": 6,"feeRate": 70,"nextResetRate": 50,"penaltyRate": 24,"premiumDiscountAtIED": 32075,"priceAtPurchaseDate": 15,"cycleOfInterestPayment": {"i": 49,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1460,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 161,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 1461002,"p": 0,"s": 1,"isSet": false},"lifeCap": 150,"lifeFloor": 1338,"periodCap": 79,"periodFloor": 50}, 97, 10,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [122,48,243,114,157,233,128,35,50,252,96,126,132,39,21,75,1,234,51,219,93,206,96,72,146,102,159,18,213,57,46,12],"legalEntityIdCounterparty": [105,58,57,76,229,30,158,242,73,135,224,183,180,80,71,70,192,63,196,95,184,191,236,239,74,47,7,212,189,185,130,146],"dayCountConvention": 4,"businessDayConvention": 2,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 949,"statusDate": 257,"initialExchangeDate": 2440587,"maturityDate": 32074,"terminationDate": 4799,"purchaseDate": 1461001,"capitalizationEndDate": 15,"cycleAnchorDateOfInterestPayment": 100,"cycleAnchorDateOfRateReset": 151,"cycleAnchorDateOfScalingIndex": 950,"cycleAnchorDateOfFee": 89,"notionalPrincipal": 1532892063,"nominalInterestRate": 1461,"feeAccrued": 4,"accruedInterest": 1338,"rateMultiplier": 1462,"rateSpread": 59,"feeRate": 366,"nextResetRate": 59,"penaltyRate": 146096,"premiumDiscountAtIED": 1337,"priceAtPurchaseDate": 400,"cycleOfInterestPayment": {"i": 1970,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 10,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 366,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 256,"p": 2,"s": 0,"isSet": true},"lifeCap": 368,"lifeFloor": 257,"periodCap": 63,"periodFloor": 26}, 27, 90,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [10,9,75,190,73,255,109,73,80,66,134,205,251,175,72,44,190,201,4,239,134,92,172,131,100,17,90,100,91,241,225,112],"legalEntityIdCounterparty": [187,211,82,255,243,86,190,92,79,102,57,253,82,242,245,105,45,51,213,80,41,249,143,173,253,15,91,40,82,78,38,206],"dayCountConvention": 5,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 3,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 65,"statusDate": 70,"initialExchangeDate": 1336,"maturityDate": 368,"terminationDate": 4800,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 16,"cycleAnchorDateOfRateReset": 151,"cycleAnchorDateOfScalingIndex": 14,"cycleAnchorDateOfFee": 150,"notionalPrincipal": 146097,"nominalInterestRate": 0,"feeAccrued": 95,"accruedInterest": 18,"rateMultiplier": 32076,"rateSpread": 366,"feeRate": 1971,"nextResetRate": 146098,"penaltyRate": 1461001,"premiumDiscountAtIED": 41,"priceAtPurchaseDate": 89,"cycleOfInterestPayment": {"i": 1338,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 111,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 4,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 360,"p": 4,"s": 0,"isSet": false},"lifeCap": 4799,"lifeFloor": 90,"periodCap": 111,"periodFloor": 4900}, 2446, 79,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [113,125,49,183,185,155,80,225,216,17,174,175,122,5,47,50,190,10,252,255,95,118,227,75,33,159,165,119,202,5,134,30],"legalEntityIdCounterparty": [120,65,179,64,179,28,135,205,254,71,207,137,239,195,104,211,32,157,226,76,98,76,102,126,72,111,187,48,156,51,45,168],"dayCountConvention": 1,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 4001,"statusDate": 15,"initialExchangeDate": 400,"maturityDate": 129,"terminationDate": 365,"purchaseDate": 146097,"capitalizationEndDate": 101,"cycleAnchorDateOfInterestPayment": 361,"cycleAnchorDateOfRateReset": 32,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 255,"nominalInterestRate": 901,"feeAccrued": 150,"accruedInterest": 111,"rateMultiplier": 140,"rateSpread": 949,"feeRate": 131,"nextResetRate": 15,"penaltyRate": 146096,"premiumDiscountAtIED": 146097,"priceAtPurchaseDate": 97,"cycleOfInterestPayment": {"i": 949,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 68569,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 81,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 28,"p": 4,"s": 0,"isSet": true},"lifeCap": 30,"lifeFloor": 1336,"periodCap": 27,"periodFloor": 949}, 86401, 4799,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [1,179,42,103,69,240,83,230,228,137,210,114,19,19,185,251,110,20,66,235,181,205,149,54,123,199,33,219,208,72,111,20],"legalEntityIdCounterparty": [76,120,111,163,96,169,173,29,144,30,88,50,220,109,169,141,139,113,174,62,201,179,230,4,103,163,166,240,12,99,70,0],"dayCountConvention": 3,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 5,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 96,"statusDate": 146098,"initialExchangeDate": 359,"maturityDate": 70,"terminationDate": 51,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 59,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 13,"cycleAnchorDateOfFee": 90,"notionalPrincipal": 4,"nominalInterestRate": 0,"feeAccrued": 1970,"accruedInterest": 360,"rateMultiplier": 18,"rateSpread": 110,"feeRate": 2440587,"nextResetRate": 4801,"penaltyRate": 119,"premiumDiscountAtIED": 8,"priceAtPurchaseDate": 26,"cycleOfInterestPayment": {"i": 1532892062,"p": 0,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 4799,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 48,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 7,"p": 3,"s": 0,"isSet": false},"lifeCap": 900,"lifeFloor": 365,"periodCap": 3,"periodFloor": 3}, 86401, 48,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [153,31,64,50,26,208,228,149,8,161,214,66,60,174,15,250,121,241,139,233,90,29,155,155,166,22,138,12,100,2,47,169],"legalEntityIdCounterparty": [154,118,129,244,108,106,36,4,205,199,36,252,184,86,214,196,174,209,196,76,223,184,183,239,202,227,1,194,172,67,81,60],"dayCountConvention": 2,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 4800,"statusDate": 109,"initialExchangeDate": 1337,"maturityDate": 18,"terminationDate": 70,"purchaseDate": 161,"capitalizationEndDate": 1532892064,"cycleAnchorDateOfInterestPayment": 11,"cycleAnchorDateOfRateReset": 70,"cycleAnchorDateOfScalingIndex": 951,"cycleAnchorDateOfFee": 150,"notionalPrincipal": 360,"nominalInterestRate": 1971,"feeAccrued": 160,"accruedInterest": 24,"rateMultiplier": 25,"rateSpread": 32075,"feeRate": 79,"nextResetRate": 86400,"penaltyRate": 39,"premiumDiscountAtIED": 364,"priceAtPurchaseDate": 48,"cycleOfInterestPayment": {"i": 367,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 901,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 1460,"p": 1,"s": 1,"isSet": true},"lifeCap": 139,"lifeFloor": 254,"periodCap": 86399,"periodFloor": 18}, 70, 160,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [36,163,157,160,212,63,191,65,197,0,230,223,230,48,38,193,149,123,250,102,67,171,226,212,56,38,93,86,171,169,174,68],"legalEntityIdCounterparty": [250,82,29,8,145,177,229,62,31,178,241,109,87,159,25,77,58,181,180,35,156,79,181,15,175,99,138,234,143,207,49,168],"dayCountConvention": 2,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 4800,"statusDate": 899,"initialExchangeDate": 18,"maturityDate": 7,"terminationDate": 26,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 1970,"cycleAnchorDateOfRateReset": 2446,"cycleAnchorDateOfScalingIndex": 139,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 86400,"nominalInterestRate": 0,"feeAccrued": 97,"accruedInterest": 96,"rateMultiplier": 17,"rateSpread": 32,"feeRate": 89,"nextResetRate": 900,"penaltyRate": 111,"premiumDiscountAtIED": 2,"priceAtPurchaseDate": 10,"cycleOfInterestPayment": {"i": 96,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 99,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 10001,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 1461002,"p": 2,"s": 0,"isSet": false},"lifeCap": 32075,"lifeFloor": 7,"periodCap": 149,"periodFloor": 19}, 2447, 364,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [251,228,156,155,146,53,148,85,16,104,114,214,23,175,232,166,83,74,2,216,211,121,249,160,48,59,157,237,43,121,164,133],"legalEntityIdCounterparty": [142,20,242,161,147,23,132,188,10,42,176,33,108,31,66,142,89,198,186,204,37,44,166,0,194,90,58,122,6,38,160,30],"dayCountConvention": 4,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 101,"statusDate": 1338,"initialExchangeDate": 149,"maturityDate": 48,"terminationDate": 16,"purchaseDate": 60,"capitalizationEndDate": 146096,"cycleAnchorDateOfInterestPayment": 2,"cycleAnchorDateOfRateReset": 95,"cycleAnchorDateOfScalingIndex": 12,"cycleAnchorDateOfFee": 4801,"notionalPrincipal": 59,"nominalInterestRate": 4001,"feeAccrued": 100,"accruedInterest": 2,"rateMultiplier": 257,"rateSpread": 361,"feeRate": 96,"nextResetRate": 366,"penaltyRate": 18,"premiumDiscountAtIED": 1461002,"priceAtPurchaseDate": 64,"cycleOfInterestPayment": {"i": 10,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1337,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 950,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 68568,"p": 0,"s": 1,"isSet": false},"lifeCap": 146096,"lifeFloor": 2446,"periodCap": 150,"periodFloor": 18}, 96, 2014223716,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [192,154,122,250,156,202,254,106,149,55,160,212,58,192,181,250,111,32,20,76,241,60,6,87,12,57,41,157,152,159,162,142],"legalEntityIdCounterparty": [89,192,150,170,125,54,134,57,197,226,32,25,21,235,251,178,0,131,13,118,47,112,96,12,65,195,137,148,74,207,30,121],"dayCountConvention": 0,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 32,"statusDate": 86399,"initialExchangeDate": 10,"maturityDate": 359,"terminationDate": 111,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 1970,"cycleAnchorDateOfRateReset": 365,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 1532892062,"notionalPrincipal": 1532892063,"nominalInterestRate": 0,"feeAccrued": 359,"accruedInterest": 10,"rateMultiplier": 2447,"rateSpread": 12,"feeRate": 81,"nextResetRate": 146097,"penaltyRate": 9,"premiumDiscountAtIED": 21,"priceAtPurchaseDate": 5,"cycleOfInterestPayment": {"i": 32076,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 64,"p": 4,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1461002,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 68568,"p": 3,"s": 0,"isSet": false},"lifeCap": 101,"lifeFloor": 257,"periodCap": 68568,"periodFloor": 14}, 900, 86400,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [51,11,79,190,166,52,185,220,64,105,50,204,209,18,255,48,42,191,208,52,203,147,39,89,198,110,48,147,226,157,36,41],"legalEntityIdCounterparty": [3,42,105,19,238,112,110,37,25,2,175,229,183,32,131,58,23,141,100,75,246,171,28,98,30,142,160,54,54,119,100,33],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 257,"statusDate": 2440588,"initialExchangeDate": 9,"maturityDate": 97,"terminationDate": 4901,"purchaseDate": 91,"capitalizationEndDate": 10,"cycleAnchorDateOfInterestPayment": 49,"cycleAnchorDateOfRateReset": 32076,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 368,"notionalPrincipal": 1336,"nominalInterestRate": 30,"feeAccrued": 12,"accruedInterest": 40,"rateMultiplier": 1460,"rateSpread": 139,"feeRate": 100,"nextResetRate": 60,"penaltyRate": 1532892064,"premiumDiscountAtIED": 86400,"priceAtPurchaseDate": 121,"cycleOfInterestPayment": {"i": 1970,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 151,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 21,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 4801,"p": 4,"s": 1,"isSet": true},"lifeCap": 146097,"lifeFloor": 30,"periodCap": 146097,"periodFloor": 20}, 40, 24,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [168,108,39,238,179,128,95,123,95,210,253,34,164,122,188,11,107,125,100,107,139,158,155,157,175,15,116,140,41,126,22,176],"legalEntityIdCounterparty": [7,40,101,52,21,67,93,158,57,118,5,122,110,2,56,188,162,174,128,49,44,132,151,252,108,217,213,113,145,110,175,179],"dayCountConvention": 6,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 4,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 68570,"statusDate": 368,"initialExchangeDate": 401,"maturityDate": 149,"terminationDate": 1337,"purchaseDate": 1970,"capitalizationEndDate": 1461002,"cycleAnchorDateOfInterestPayment": 51,"cycleAnchorDateOfRateReset": 4000,"cycleAnchorDateOfScalingIndex": 6,"cycleAnchorDateOfFee": 140,"notionalPrincipal": 257,"nominalInterestRate": 949,"feeAccrued": 90,"accruedInterest": 14,"rateMultiplier": 21,"rateSpread": 100,"feeRate": 81,"nextResetRate": 899,"penaltyRate": 254,"premiumDiscountAtIED": 950,"priceAtPurchaseDate": 30,"cycleOfInterestPayment": {"i": 32074,"p": 1,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 129,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 10,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 130,"p": 4,"s": 0,"isSet": false},"lifeCap": 1532892062,"lifeFloor": 18,"periodCap": 4800,"periodFloor": 401}, 131, 61,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [121,41,129,121,61,56,180,43,116,177,114,56,2,252,194,87,20,151,39,217,56,152,62,175,0,88,122,162,207,211,199,113],"legalEntityIdCounterparty": [163,32,233,174,217,141,90,43,113,181,159,85,224,54,241,73,175,151,150,5,242,138,150,68,176,188,145,245,183,81,123,100],"dayCountConvention": 0,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 9,"statusDate": 99,"initialExchangeDate": 2440588,"maturityDate": 949,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 257,"cycleAnchorDateOfRateReset": 20,"cycleAnchorDateOfScalingIndex": 111,"cycleAnchorDateOfFee": 254,"notionalPrincipal": 18,"nominalInterestRate": 0,"feeAccrued": 10001,"accruedInterest": 29,"rateMultiplier": 63,"rateSpread": 367,"feeRate": 32075,"nextResetRate": 401,"penaltyRate": 1461002,"premiumDiscountAtIED": 86399,"priceAtPurchaseDate": 10001,"cycleOfInterestPayment": {"i": 16,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 2446,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 4000,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 2440587,"p": 3,"s": 1,"isSet": false},"lifeCap": 41,"lifeFloor": 109,"periodCap": 161,"periodFloor": 10001}, 86399, 1462,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [206,203,140,171,110,216,152,76,159,90,94,114,197,35,180,249,221,102,124,216,113,89,87,27,135,251,60,162,102,169,62,23],"legalEntityIdCounterparty": [249,130,227,137,47,233,154,172,61,87,238,124,234,45,237,113,149,1,216,201,208,187,108,14,208,31,150,18,108,137,80,13],"dayCountConvention": 4,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 89,"statusDate": 110,"initialExchangeDate": 131,"maturityDate": 65,"terminationDate": 2440589,"purchaseDate": 49,"capitalizationEndDate": 361,"cycleAnchorDateOfInterestPayment": 79,"cycleAnchorDateOfRateReset": 899,"cycleAnchorDateOfScalingIndex": 66,"cycleAnchorDateOfFee": 139,"notionalPrincipal": 4800,"nominalInterestRate": 18,"feeAccrued": 360,"accruedInterest": 146096,"rateMultiplier": 19,"rateSpread": 66,"feeRate": 140,"nextResetRate": 899,"penaltyRate": 69,"premiumDiscountAtIED": 100,"priceAtPurchaseDate": 68569,"cycleOfInterestPayment": {"i": 110,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 23,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1338,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 4,"p": 3,"s": 1,"isSet": true},"lifeCap": 68569,"lifeFloor": 110,"periodCap": 149,"periodFloor": 89}, 146098, 4899,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [132,85,171,238,127,147,135,88,221,108,217,51,65,73,169,228,96,245,42,181,222,240,112,129,184,168,36,109,114,5,90,9],"legalEntityIdCounterparty": [234,182,96,8,73,32,106,245,42,218,213,239,201,51,69,253,213,237,33,74,180,163,91,114,180,189,84,177,225,89,237,95],"dayCountConvention": 4,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 5,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 30,"statusDate": 4899,"initialExchangeDate": 951,"maturityDate": 14,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 1,"cycleAnchorDateOfRateReset": 49,"cycleAnchorDateOfScalingIndex": 1461001,"cycleAnchorDateOfFee": 59,"notionalPrincipal": 120,"nominalInterestRate": 0,"feeAccrued": 10,"accruedInterest": 10001,"rateMultiplier": 1532892062,"rateSpread": 359,"feeRate": 1338,"nextResetRate": 39,"penaltyRate": 39,"premiumDiscountAtIED": 25,"priceAtPurchaseDate": 111,"cycleOfInterestPayment": {"i": 2440587,"p": 3,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 16,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 5,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 2014223714,"p": 0,"s": 1,"isSet": true},"lifeCap": 121,"lifeFloor": 32076,"periodCap": -1,"periodFloor": 64}, 131, 81,{from: accounts[0]});
  });
});
