const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 14,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [97,154,21,36,235,104,44,91,64,246,37,196,188,181,209,51,67,10,232,59,98,113,39,4,22,158,183,111,146,5,144,193],"legalEntityIdCounterparty": [141,129,225,177,198,175,173,13,87,106,225,119,10,142,208,50,110,80,25,207,79,60,89,186,116,121,68,21,199,170,189,44],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 96,"statusDate": 26,"initialExchangeDate": 161,"maturityDate": 60,"terminationDate": 1,"purchaseDate": 146098,"capitalizationEndDate": 3999,"cycleAnchorDateOfInterestPayment": 24,"cycleAnchorDateOfRateReset": 129,"cycleAnchorDateOfScalingIndex": 146096,"cycleAnchorDateOfFee": 367,"notionalPrincipal": 80,"nominalInterestRate": 360,"feeAccrued": 159,"accruedInterest": 161,"rateMultiplier": 16,"rateSpread": 140,"feeRate": 1,"nextResetRate": 65,"penaltyRate": 951,"premiumDiscountAtIED": 68570,"priceAtPurchaseDate": 1532892064,"cycleOfInterestPayment": {"i": 1460,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 86399,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 150,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 25,"p": 3,"s": 0,"isSet": false},"lifeCap": 950,"lifeFloor": 100,"periodCap": 100,"periodFloor": 48},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 9,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [200,183,180,35,146,51,145,241,10,159,150,38,155,233,5,20,176,172,111,143,157,252,3,169,235,187,234,246,68,143,129,37],"legalEntityIdCounterparty": [190,211,3,220,159,65,61,140,173,20,235,29,199,140,190,153,238,227,255,123,67,27,73,219,41,217,43,82,213,5,2,73],"dayCountConvention": 6,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 99,"statusDate": 4800,"initialExchangeDate": 19,"maturityDate": 39,"terminationDate": 32,"purchaseDate": 91,"capitalizationEndDate": 150,"cycleAnchorDateOfInterestPayment": 1532892062,"cycleAnchorDateOfRateReset": 86399,"cycleAnchorDateOfScalingIndex": 17,"cycleAnchorDateOfFee": 18,"notionalPrincipal": 1460,"nominalInterestRate": 9999,"feeAccrued": 41,"accruedInterest": 4000,"rateMultiplier": 20,"rateSpread": 1,"feeRate": 15,"nextResetRate": 96,"penaltyRate": 109,"premiumDiscountAtIED": 139,"priceAtPurchaseDate": 4799,"cycleOfInterestPayment": {"i": 149,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 400,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 65,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 30,"p": 3,"s": 0,"isSet": false},"lifeCap": 96,"lifeFloor": 21,"periodCap": 1,"periodFloor": 2440588}, {"lastEventTime": 360,"contractStatus": 3,"timeFromLastEvent": 2,"nominalValue": 4801,"nominalAccrued": 18,"feeAccrued": 10,"nominalRate": 89,"interestScalingMultiplier": 27,"nominalScalingMultiplier": 12,"contractRoleSign": 8}, 40,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 3,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [167,80,252,162,213,209,202,10,147,251,69,31,114,164,89,69,78,129,63,195,146,112,185,82,158,167,87,251,17,127,95,167],"legalEntityIdCounterparty": [4,95,18,52,53,157,98,150,211,158,156,55,17,189,31,146,70,204,50,2,232,243,61,116,19,225,51,128,220,157,27,159],"dayCountConvention": 6,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 1532892064,"statusDate": 32075,"initialExchangeDate": 401,"maturityDate": 68569,"terminationDate": 68569,"purchaseDate": 257,"capitalizationEndDate": 97,"cycleAnchorDateOfInterestPayment": 364,"cycleAnchorDateOfRateReset": 951,"cycleAnchorDateOfScalingIndex": 99,"cycleAnchorDateOfFee": 121,"notionalPrincipal": 159,"nominalInterestRate": 9999,"feeAccrued": -1,"accruedInterest": 90,"rateMultiplier": 3999,"rateSpread": 61,"feeRate": 111,"nextResetRate": 99,"penaltyRate": 1461000,"premiumDiscountAtIED": 1532892064,"priceAtPurchaseDate": 40,"cycleOfInterestPayment": {"i": 119,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 61,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 66,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 96,"p": 1,"s": 0,"isSet": false},"lifeCap": 146096,"lifeFloor": 80,"periodCap": 141,"periodFloor": 51}, {"lastEventTime": 4900,"contractStatus": 2,"timeFromLastEvent": 950,"nominalValue": 2440587,"nominalAccrued": 91,"feeAccrued": 1970,"nominalRate": 66,"interestScalingMultiplier": 10001,"nominalScalingMultiplier": 1337,"contractRoleSign": 8}, {"eventTime": 51,"eventTimeWithEpochOffset": 254,"scheduleTime": 4801,"eventType": 5,"currency": accounts[8],"pofType": 17,"stfType": 19}, 399,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [35,206,93,218,36,165,176,235,44,196,159,13,93,42,57,63,192,21,119,217,238,189,172,98,184,137,248,80,117,232,83,184],"legalEntityIdCounterparty": [75,14,228,218,112,11,36,114,183,192,178,25,244,150,141,34,190,8,252,7,159,236,182,53,234,22,208,72,18,178,88,239],"dayCountConvention": 1,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 4799,"statusDate": 1461000,"initialExchangeDate": 359,"maturityDate": 69,"terminationDate": 3,"purchaseDate": 63,"capitalizationEndDate": 4799,"cycleAnchorDateOfInterestPayment": 30,"cycleAnchorDateOfRateReset": 26,"cycleAnchorDateOfScalingIndex": 401,"cycleAnchorDateOfFee": 32075,"notionalPrincipal": 146096,"nominalInterestRate": 2,"feeAccrued": 121,"accruedInterest": 99,"rateMultiplier": -1,"rateSpread": 30,"feeRate": 361,"nextResetRate": 4899,"penaltyRate": 32,"premiumDiscountAtIED": 79,"priceAtPurchaseDate": 66,"cycleOfInterestPayment": {"i": 1971,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 19,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 151,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 28,"p": 0,"s": 0,"isSet": false},"lifeCap": 15,"lifeFloor": 3999,"periodCap": 2014223716,"periodFloor": 254}, 86401, 4000,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [202,237,168,48,76,69,217,7,229,185,108,197,73,240,241,92,157,48,107,97,172,133,26,155,129,108,182,63,46,26,98,15],"legalEntityIdCounterparty": [255,3,98,57,53,131,133,50,57,15,254,196,100,250,74,175,159,202,192,153,119,113,182,91,202,100,149,166,82,16,224,6],"dayCountConvention": 5,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 2440588,"statusDate": 4,"initialExchangeDate": 1,"maturityDate": 2446,"terminationDate": 150,"purchaseDate": 130,"capitalizationEndDate": 2014223714,"cycleAnchorDateOfInterestPayment": 71,"cycleAnchorDateOfRateReset": 140,"cycleAnchorDateOfScalingIndex": 101,"cycleAnchorDateOfFee": 139,"notionalPrincipal": 1461001,"nominalInterestRate": 41,"feeAccrued": 3999,"accruedInterest": 150,"rateMultiplier": 1461,"rateSpread": 359,"feeRate": 29,"nextResetRate": 95,"penaltyRate": 1532892062,"premiumDiscountAtIED": 257,"priceAtPurchaseDate": 7,"cycleOfInterestPayment": {"i": 146098,"p": 3,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 9,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1461000,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 14,"p": 4,"s": 1,"isSet": false},"lifeCap": 365,"lifeFloor": 2014223714,"periodCap": 129,"periodFloor": 900}, 1532892064, 1461,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [106,148,188,170,85,157,30,193,135,160,253,82,43,182,149,117,116,209,117,89,255,208,40,58,86,16,198,99,225,89,10,87],"legalEntityIdCounterparty": [61,215,133,71,52,37,197,156,237,189,238,59,152,243,99,32,177,115,41,87,55,104,103,222,219,109,20,213,56,151,108,83],"dayCountConvention": 0,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 51,"statusDate": 89,"initialExchangeDate": 89,"maturityDate": 368,"terminationDate": 1,"purchaseDate": 13,"capitalizationEndDate": 6,"cycleAnchorDateOfInterestPayment": 2014223715,"cycleAnchorDateOfRateReset": 141,"cycleAnchorDateOfScalingIndex": 32076,"cycleAnchorDateOfFee": 950,"notionalPrincipal": 2446,"nominalInterestRate": 10001,"feeAccrued": 86400,"accruedInterest": 51,"rateMultiplier": 400,"rateSpread": 0,"feeRate": 17,"nextResetRate": 1461,"penaltyRate": 1969,"premiumDiscountAtIED": 400,"priceAtPurchaseDate": 64,"cycleOfInterestPayment": {"i": 1,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 40,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 119,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 368,"p": 5,"s": 1,"isSet": true},"lifeCap": 949,"lifeFloor": 4799,"periodCap": 40,"periodFloor": 86401}, 901, 79,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [145,90,32,62,49,107,147,192,117,229,61,223,157,83,211,101,238,28,187,192,245,55,202,66,154,27,50,138,24,244,68,203],"legalEntityIdCounterparty": [243,210,117,120,6,83,254,54,246,124,149,157,84,27,233,80,119,10,3,18,53,95,63,54,246,54,91,83,240,50,168,189],"dayCountConvention": 2,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 364,"statusDate": 121,"initialExchangeDate": 71,"maturityDate": 1532892063,"terminationDate": 11,"purchaseDate": 99,"capitalizationEndDate": 950,"cycleAnchorDateOfInterestPayment": 359,"cycleAnchorDateOfRateReset": 2448,"cycleAnchorDateOfScalingIndex": 950,"cycleAnchorDateOfFee": 139,"notionalPrincipal": 40,"nominalInterestRate": 18,"feeAccrued": 60,"accruedInterest": 1969,"rateMultiplier": 365,"rateSpread": 366,"feeRate": 2014223716,"nextResetRate": 2440588,"penaltyRate": 19,"premiumDiscountAtIED": 27,"priceAtPurchaseDate": 97,"cycleOfInterestPayment": {"i": 60,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 10001,"p": 3,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1460,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 18,"p": 4,"s": 1,"isSet": true},"lifeCap": 101,"lifeFloor": 10,"periodCap": 49,"periodFloor": 161}, 60, 1461001,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [116,182,44,133,4,51,91,38,111,157,21,20,9,68,118,241,211,165,126,113,166,85,243,3,84,62,142,68,105,20,8,27],"legalEntityIdCounterparty": [61,82,158,18,231,80,128,5,223,136,170,207,108,193,78,124,213,36,155,34,147,19,187,119,186,17,35,12,205,107,191,63],"dayCountConvention": 0,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 69,"statusDate": 48,"initialExchangeDate": 29,"maturityDate": 149,"terminationDate": 40,"purchaseDate": 0,"capitalizationEndDate": 951,"cycleAnchorDateOfInterestPayment": 2014223716,"cycleAnchorDateOfRateReset": 11,"cycleAnchorDateOfScalingIndex": 368,"cycleAnchorDateOfFee": 160,"notionalPrincipal": 68570,"nominalInterestRate": 149,"feeAccrued": 9,"accruedInterest": 41,"rateMultiplier": 360,"rateSpread": 111,"feeRate": 901,"nextResetRate": 10,"penaltyRate": 1462,"premiumDiscountAtIED": 150,"priceAtPurchaseDate": 4899,"cycleOfInterestPayment": {"i": 70,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 2447,"p": 1,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 121,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 23,"p": 4,"s": 0,"isSet": true},"lifeCap": 161,"lifeFloor": 900,"periodCap": 149,"periodFloor": 1969}, 32076, 90,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [186,157,94,255,199,22,10,196,97,54,194,255,89,7,223,3,224,44,159,221,2,236,122,81,22,71,33,130,110,11,15,39],"legalEntityIdCounterparty": [68,20,38,190,64,135,64,38,21,186,16,86,163,128,102,160,92,246,135,9,222,22,34,168,51,95,48,242,90,26,243,99],"dayCountConvention": 6,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 8,"statusDate": 10000,"initialExchangeDate": 13,"maturityDate": 129,"terminationDate": 81,"purchaseDate": 160,"capitalizationEndDate": 11,"cycleAnchorDateOfInterestPayment": 10,"cycleAnchorDateOfRateReset": 29,"cycleAnchorDateOfScalingIndex": 399,"cycleAnchorDateOfFee": 99,"notionalPrincipal": 361,"nominalInterestRate": 9,"feeAccrued": 150,"accruedInterest": 10000,"rateMultiplier": 10000,"rateSpread": 70,"feeRate": 63,"nextResetRate": 95,"penaltyRate": 91,"premiumDiscountAtIED": 89,"priceAtPurchaseDate": 11,"cycleOfInterestPayment": {"i": 2014223714,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 86401,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1532892063,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 257,"p": 1,"s": 0,"isSet": true},"lifeCap": 2440587,"lifeFloor": 80,"periodCap": 4799,"periodFloor": 950}, 71, 63,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [149,246,204,108,40,198,154,61,123,45,0,137,5,107,194,189,103,12,68,181,182,92,129,176,25,247,120,188,224,223,199,117],"legalEntityIdCounterparty": [75,133,182,137,142,200,122,76,92,214,164,52,65,220,232,11,59,123,6,206,94,48,225,218,141,196,139,135,150,148,21,161],"dayCountConvention": 2,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 149,"statusDate": 401,"initialExchangeDate": 69,"maturityDate": 1532892062,"terminationDate": 1532892064,"purchaseDate": 1461002,"capitalizationEndDate": 119,"cycleAnchorDateOfInterestPayment": 364,"cycleAnchorDateOfRateReset": 1969,"cycleAnchorDateOfScalingIndex": 5,"cycleAnchorDateOfFee": 1338,"notionalPrincipal": 100,"nominalInterestRate": 95,"feeAccrued": 9999,"accruedInterest": 49,"rateMultiplier": 32,"rateSpread": 32,"feeRate": 109,"nextResetRate": 17,"penaltyRate": 32075,"premiumDiscountAtIED": 2448,"priceAtPurchaseDate": 99,"cycleOfInterestPayment": {"i": 399,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 32075,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 51,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 10000,"p": 5,"s": 0,"isSet": true},"lifeCap": 86400,"lifeFloor": 1338,"periodCap": 1336,"periodFloor": 2440588}, 4001, 9,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [250,233,250,100,235,234,84,160,200,36,70,69,77,171,217,22,139,50,67,33,109,57,210,178,176,15,51,118,167,15,18,209],"legalEntityIdCounterparty": [122,163,15,7,14,35,195,7,215,235,198,133,173,43,186,68,249,79,190,19,93,140,194,196,123,78,183,75,135,137,241,249],"dayCountConvention": 0,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 1532892064,"statusDate": 48,"initialExchangeDate": 50,"maturityDate": 4799,"terminationDate": 8,"purchaseDate": 79,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 91,"cycleAnchorDateOfRateReset": 70,"cycleAnchorDateOfScalingIndex": 131,"cycleAnchorDateOfFee": 4800,"notionalPrincipal": 146096,"nominalInterestRate": 1,"feeAccrued": 257,"accruedInterest": 99,"rateMultiplier": 150,"rateSpread": 8,"feeRate": 399,"nextResetRate": 161,"penaltyRate": 23,"premiumDiscountAtIED": 367,"priceAtPurchaseDate": 95,"cycleOfInterestPayment": {"i": 71,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 256,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1461,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 4801,"p": 3,"s": 1,"isSet": true},"lifeCap": 359,"lifeFloor": 48,"periodCap": 4,"periodFloor": 63}, 400, 5,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [186,33,92,17,194,173,58,217,62,67,226,225,141,133,218,231,239,41,103,187,116,11,192,36,144,171,70,232,30,86,176,47],"legalEntityIdCounterparty": [240,107,50,89,104,117,85,130,117,171,228,107,217,80,115,88,37,22,17,35,38,8,247,110,65,87,125,11,241,97,212,56],"dayCountConvention": 0,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 30,"statusDate": 26,"initialExchangeDate": 28,"maturityDate": 51,"terminationDate": 6,"purchaseDate": 4000,"capitalizationEndDate": 360,"cycleAnchorDateOfInterestPayment": 51,"cycleAnchorDateOfRateReset": 18,"cycleAnchorDateOfScalingIndex": 109,"cycleAnchorDateOfFee": 66,"notionalPrincipal": 1462,"nominalInterestRate": 21,"feeAccrued": 24,"accruedInterest": 26,"rateMultiplier": 366,"rateSpread": 1336,"feeRate": 949,"nextResetRate": 1532892063,"penaltyRate": 0,"premiumDiscountAtIED": 18,"priceAtPurchaseDate": 5,"cycleOfInterestPayment": {"i": 61,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 91,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 4799,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 129,"p": 5,"s": 0,"isSet": true},"lifeCap": 1971,"lifeFloor": 8,"periodCap": 366,"periodFloor": 32076}, 20, 109,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [51,44,40,93,198,64,90,86,7,96,83,35,7,36,33,87,157,31,72,70,105,239,186,143,77,222,195,9,195,84,188,87],"legalEntityIdCounterparty": [121,118,234,141,219,204,150,60,241,190,151,15,164,227,112,219,113,185,68,239,146,175,146,116,254,159,47,2,47,200,116,27],"dayCountConvention": 1,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 367,"statusDate": 146097,"initialExchangeDate": 2440589,"maturityDate": 14,"terminationDate": 150,"purchaseDate": 89,"capitalizationEndDate": 2,"cycleAnchorDateOfInterestPayment": 17,"cycleAnchorDateOfRateReset": 29,"cycleAnchorDateOfScalingIndex": 95,"cycleAnchorDateOfFee": 400,"notionalPrincipal": 2440587,"nominalInterestRate": 1532892062,"feeAccrued": 32076,"accruedInterest": 48,"rateMultiplier": 49,"rateSpread": 69,"feeRate": 400,"nextResetRate": 4901,"penaltyRate": 131,"premiumDiscountAtIED": 950,"priceAtPurchaseDate": 11,"cycleOfInterestPayment": {"i": 1461000,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 129,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 68570,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 68569,"p": 3,"s": 0,"isSet": false},"lifeCap": 7,"lifeFloor": 900,"periodCap": 24,"periodFloor": 2440587}, 48, 63,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [59,244,242,67,94,182,111,204,203,230,126,47,84,189,217,195,111,80,173,121,236,159,126,222,176,236,147,109,231,150,168,131],"legalEntityIdCounterparty": [88,155,250,40,152,169,7,163,224,36,63,65,27,49,78,94,132,223,61,31,193,20,169,138,143,91,163,76,118,216,123,185],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 3,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 21,"statusDate": 7,"initialExchangeDate": 86399,"maturityDate": 1970,"terminationDate": 63,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 1461001,"cycleAnchorDateOfRateReset": 8,"cycleAnchorDateOfScalingIndex": 1,"cycleAnchorDateOfFee": 69,"notionalPrincipal": 110,"nominalInterestRate": 0,"feeAccrued": 32076,"accruedInterest": 17,"rateMultiplier": 4800,"rateSpread": 99,"feeRate": 121,"nextResetRate": 61,"penaltyRate": 25,"premiumDiscountAtIED": 359,"priceAtPurchaseDate": 121,"cycleOfInterestPayment": {"i": 2,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 131,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 28,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 90,"p": 1,"s": 1,"isSet": true},"lifeCap": 68570,"lifeFloor": 4900,"periodCap": 95,"periodFloor": 119}, 111, 61,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 0,"contractRole": 8,"legalEntityIdRecordCreator": [86,38,52,242,65,129,77,37,254,62,148,86,76,126,129,172,1,113,35,172,85,32,176,12,191,140,147,37,24,14,170,81],"legalEntityIdCounterparty": [75,115,115,21,242,110,236,227,124,210,116,33,37,5,44,249,13,173,63,197,31,185,135,214,193,50,195,81,165,20,44,238],"dayCountConvention": 4,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 50,"statusDate": 1337,"initialExchangeDate": 4001,"maturityDate": 367,"terminationDate": 149,"purchaseDate": 40,"capitalizationEndDate": 2447,"cycleAnchorDateOfInterestPayment": 5,"cycleAnchorDateOfRateReset": 7,"cycleAnchorDateOfScalingIndex": 68568,"cycleAnchorDateOfFee": 1971,"notionalPrincipal": 4899,"nominalInterestRate": 151,"feeAccrued": 364,"accruedInterest": 17,"rateMultiplier": 20,"rateSpread": 21,"feeRate": 24,"nextResetRate": 255,"penaltyRate": 27,"premiumDiscountAtIED": 1532892064,"priceAtPurchaseDate": 23,"cycleOfInterestPayment": {"i": 10000,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 368,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1461001,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 17,"p": 5,"s": 0,"isSet": false},"lifeCap": 401,"lifeFloor": 1971,"periodCap": 111,"periodFloor": 100}, 80, 1462,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [37,99,100,185,164,99,211,2,20,179,237,234,253,236,201,202,144,146,137,142,75,33,72,34,182,174,101,26,137,176,17,91],"legalEntityIdCounterparty": [14,182,96,144,184,106,247,101,7,201,227,161,12,156,187,253,52,113,100,86,155,140,115,74,227,252,49,146,194,218,147,145],"dayCountConvention": 3,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 8,"statusDate": 19,"initialExchangeDate": 30,"maturityDate": 41,"terminationDate": 1970,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 48,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 48,"cycleAnchorDateOfFee": 4801,"notionalPrincipal": 81,"nominalInterestRate": 0,"feeAccrued": 3,"accruedInterest": 140,"rateMultiplier": 3999,"rateSpread": 29,"feeRate": 40,"nextResetRate": 141,"penaltyRate": 23,"premiumDiscountAtIED": 150,"priceAtPurchaseDate": 151,"cycleOfInterestPayment": {"i": 146098,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 1969,"p": 5,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 48,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 4001,"p": 1,"s": 0,"isSet": true},"lifeCap": 63,"lifeFloor": 60,"periodCap": 365,"periodFloor": 0}, 110, 99,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [19,74,158,208,143,43,223,236,68,15,159,120,104,149,5,148,203,219,227,251,81,229,132,238,193,4,208,59,189,54,179,248],"legalEntityIdCounterparty": [142,206,239,132,183,4,218,15,56,123,163,221,119,50,178,110,214,234,125,230,181,153,228,69,57,202,189,146,188,163,90,70],"dayCountConvention": 0,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 5,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 4800,"statusDate": 32076,"initialExchangeDate": 63,"maturityDate": 4900,"terminationDate": 146098,"purchaseDate": 96,"capitalizationEndDate": 16,"cycleAnchorDateOfInterestPayment": 96,"cycleAnchorDateOfRateReset": 9999,"cycleAnchorDateOfScalingIndex": 69,"cycleAnchorDateOfFee": 4800,"notionalPrincipal": 2014223714,"nominalInterestRate": 71,"feeAccrued": 29,"accruedInterest": 39,"rateMultiplier": 146097,"rateSpread": 2448,"feeRate": 68570,"nextResetRate": 86400,"penaltyRate": 99,"premiumDiscountAtIED": 899,"priceAtPurchaseDate": 1,"cycleOfInterestPayment": {"i": 12,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 146096,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 150,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 2014223716,"p": 3,"s": 0,"isSet": false},"lifeCap": 949,"lifeFloor": 1461,"periodCap": 99,"periodFloor": 10001}, 1337, 26,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [68,171,143,67,136,166,21,107,94,19,124,140,23,148,209,173,141,242,134,86,123,210,235,160,188,106,39,33,28,133,106,136],"legalEntityIdCounterparty": [149,86,227,227,75,67,139,124,11,247,190,175,216,178,111,30,131,232,17,81,120,119,248,85,180,237,183,246,150,218,223,74],"dayCountConvention": 5,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 2440587,"statusDate": 2014223715,"initialExchangeDate": 899,"maturityDate": 4000,"terminationDate": 96,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 2014223715,"cycleAnchorDateOfRateReset": 110,"cycleAnchorDateOfScalingIndex": 121,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 2440588,"nominalInterestRate": 0,"feeAccrued": 3,"accruedInterest": 13,"rateMultiplier": 17,"rateSpread": 949,"feeRate": 2014223715,"nextResetRate": 32075,"penaltyRate": 2440587,"premiumDiscountAtIED": 359,"priceAtPurchaseDate": 32075,"cycleOfInterestPayment": {"i": 49,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 27,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 4799,"p": 5,"s": 0,"isSet": false},"cycleOfFee": {"i": 255,"p": 1,"s": 1,"isSet": false},"lifeCap": 4,"lifeFloor": 366,"periodCap": 4000,"periodFloor": 90}, 91, 366,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [177,83,66,235,168,27,96,199,184,176,113,240,146,41,53,110,133,155,61,31,165,175,136,4,32,69,98,241,250,52,79,72],"legalEntityIdCounterparty": [206,186,18,103,138,25,174,5,27,99,182,18,84,199,184,245,161,246,32,204,71,14,209,225,56,105,228,108,27,81,241,14],"dayCountConvention": 2,"businessDayConvention": 8,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 161,"statusDate": 130,"initialExchangeDate": 4801,"maturityDate": 5,"terminationDate": 1460,"purchaseDate": 19,"capitalizationEndDate": 1971,"cycleAnchorDateOfInterestPayment": 255,"cycleAnchorDateOfRateReset": 131,"cycleAnchorDateOfScalingIndex": 2440587,"cycleAnchorDateOfFee": 68569,"notionalPrincipal": 40,"nominalInterestRate": 2440587,"feeAccrued": 7,"accruedInterest": 68570,"rateMultiplier": 141,"rateSpread": 1,"feeRate": 39,"nextResetRate": 366,"penaltyRate": 10000,"premiumDiscountAtIED": 32,"priceAtPurchaseDate": 27,"cycleOfInterestPayment": {"i": 900,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1461,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 16,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 3,"p": 5,"s": 1,"isSet": true},"lifeCap": 48,"lifeFloor": 64,"periodCap": 0,"periodFloor": 68570}, 64, 1460,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 0,"contractRole": 7,"legalEntityIdRecordCreator": [124,63,244,189,117,94,251,16,76,17,163,7,233,117,16,126,142,248,179,149,230,225,209,155,43,17,173,69,111,44,8,81],"legalEntityIdCounterparty": [99,117,105,185,106,135,165,12,235,16,166,96,178,154,181,218,220,153,14,74,69,50,133,148,20,227,232,161,99,154,97,184],"dayCountConvention": 5,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 5,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 91,"statusDate": 1969,"initialExchangeDate": 359,"maturityDate": 1461000,"terminationDate": 109,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 139,"cycleAnchorDateOfRateReset": 4800,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 101,"notionalPrincipal": 1461001,"nominalInterestRate": 0,"feeAccrued": 399,"accruedInterest": 1,"rateMultiplier": 254,"rateSpread": 8,"feeRate": 949,"nextResetRate": 257,"penaltyRate": 2014223714,"premiumDiscountAtIED": 140,"priceAtPurchaseDate": 91,"cycleOfInterestPayment": {"i": 89,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 111,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 141,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 25,"p": 4,"s": 0,"isSet": true},"lifeCap": 360,"lifeFloor": 1336,"periodCap": 8,"periodFloor": 159}, 149, 59,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [121,219,235,243,246,242,83,206,207,38,37,141,157,253,226,95,193,248,103,39,148,162,69,73,169,41,205,42,86,31,173,90],"legalEntityIdCounterparty": [149,47,226,72,20,45,10,138,52,181,159,115,27,116,23,63,164,61,146,41,179,129,116,98,17,138,209,72,253,59,2,187],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 31,"statusDate": 2,"initialExchangeDate": 109,"maturityDate": 86401,"terminationDate": 16,"purchaseDate": 51,"capitalizationEndDate": 10001,"cycleAnchorDateOfInterestPayment": 149,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 10,"cycleAnchorDateOfFee": 10000,"notionalPrincipal": 99,"nominalInterestRate": 366,"feeAccrued": 12,"accruedInterest": 161,"rateMultiplier": 40,"rateSpread": 6,"feeRate": 31,"nextResetRate": 61,"penaltyRate": 30,"premiumDiscountAtIED": 11,"priceAtPurchaseDate": 86401,"cycleOfInterestPayment": {"i": 1461,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 359,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 27,"p": 0,"s": 0,"isSet": false},"cycleOfFee": {"i": 129,"p": 5,"s": 0,"isSet": false},"lifeCap": 8,"lifeFloor": 68568,"periodCap": 60,"periodFloor": 140}, 4799, 950,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [21,12,229,48,61,194,233,221,142,149,134,39,78,209,224,204,123,185,156,133,231,196,85,125,38,147,5,134,179,104,103,23],"legalEntityIdCounterparty": [90,209,168,255,17,216,3,186,138,41,147,94,17,170,83,15,79,151,158,72,35,88,12,221,132,190,95,115,202,165,123,226],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[2],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 359,"statusDate": 4000,"initialExchangeDate": 32075,"maturityDate": 101,"terminationDate": 1461002,"purchaseDate": 99,"capitalizationEndDate": 68570,"cycleAnchorDateOfInterestPayment": 254,"cycleAnchorDateOfRateReset": 10001,"cycleAnchorDateOfScalingIndex": 140,"cycleAnchorDateOfFee": 60,"notionalPrincipal": 79,"nominalInterestRate": 150,"feeAccrued": 951,"accruedInterest": 24,"rateMultiplier": 2014223714,"rateSpread": 65,"feeRate": 68570,"nextResetRate": 1461000,"penaltyRate": 1461002,"premiumDiscountAtIED": 10001,"priceAtPurchaseDate": 365,"cycleOfInterestPayment": {"i": 68569,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 900,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 367,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 59,"p": 0,"s": 1,"isSet": false},"lifeCap": 71,"lifeFloor": 365,"periodCap": 1461001,"periodFloor": 9999}, 1461002, 39,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 14,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [150,78,54,249,59,102,255,159,234,73,176,236,253,126,167,200,96,249,214,106,141,1,139,213,218,193,131,114,21,206,142,238],"legalEntityIdCounterparty": [185,213,16,254,38,113,50,200,141,250,229,171,218,217,227,165,232,191,117,203,51,180,1,51,234,182,226,25,30,194,28,251],"dayCountConvention": 2,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 59,"statusDate": 4900,"initialExchangeDate": 97,"maturityDate": 31,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 25,"cycleAnchorDateOfRateReset": 10,"cycleAnchorDateOfScalingIndex": 5,"cycleAnchorDateOfFee": 365,"notionalPrincipal": 91,"nominalInterestRate": 0,"feeAccrued": 15,"accruedInterest": 121,"rateMultiplier": 255,"rateSpread": 23,"feeRate": 367,"nextResetRate": 1461000,"penaltyRate": 71,"premiumDiscountAtIED": 146096,"priceAtPurchaseDate": 2014223714,"cycleOfInterestPayment": {"i": 159,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 368,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 4000,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 899,"p": 5,"s": 0,"isSet": true},"lifeCap": 26,"lifeFloor": 949,"periodCap": 86400,"periodFloor": 51}, 141, 161,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [237,59,72,148,73,223,251,15,173,41,222,142,195,202,164,172,170,182,119,55,0,63,101,166,86,152,50,81,180,137,169,38],"legalEntityIdCounterparty": [51,53,195,64,50,175,65,58,29,88,98,241,159,174,110,73,74,67,132,253,245,37,106,19,55,98,11,252,56,125,101,35],"dayCountConvention": 1,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 3999,"statusDate": 61,"initialExchangeDate": 68569,"maturityDate": 20,"terminationDate": 97,"purchaseDate": 399,"capitalizationEndDate": 2448,"cycleAnchorDateOfInterestPayment": 15,"cycleAnchorDateOfRateReset": 60,"cycleAnchorDateOfScalingIndex": 257,"cycleAnchorDateOfFee": 2440588,"notionalPrincipal": 2014223714,"nominalInterestRate": 69,"feeAccrued": 140,"accruedInterest": 2448,"rateMultiplier": 951,"rateSpread": 367,"feeRate": 32076,"nextResetRate": 95,"penaltyRate": 900,"premiumDiscountAtIED": 2447,"priceAtPurchaseDate": 21,"cycleOfInterestPayment": {"i": 9,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 254,"p": 1,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 139,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 18,"p": 2,"s": 0,"isSet": true},"lifeCap": 70,"lifeFloor": 12,"periodCap": 951,"periodFloor": 8}, 949, 99,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [56,196,35,51,23,85,32,47,125,133,127,107,203,221,138,148,47,193,59,196,19,184,89,63,29,145,241,166,173,2,13,48],"legalEntityIdCounterparty": [72,161,24,224,144,150,112,85,166,28,95,153,223,232,102,189,3,186,137,13,13,244,147,127,173,249,27,79,63,151,61,171],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 32074,"statusDate": 1462,"initialExchangeDate": 949,"maturityDate": 1532892063,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 32076,"cycleAnchorDateOfRateReset": 131,"cycleAnchorDateOfScalingIndex": 29,"cycleAnchorDateOfFee": 368,"notionalPrincipal": 150,"nominalInterestRate": 0,"feeAccrued": 1461000,"accruedInterest": 4900,"rateMultiplier": 7,"rateSpread": 111,"feeRate": 49,"nextResetRate": 1971,"penaltyRate": 9,"premiumDiscountAtIED": 1532892062,"priceAtPurchaseDate": 400,"cycleOfInterestPayment": {"i": 121,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 119,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 159,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 9999,"p": 4,"s": 0,"isSet": false},"lifeCap": 18,"lifeFloor": 23,"periodCap": 99,"periodFloor": -1}, 63, 68568,{from: accounts[0]});
  });
});
