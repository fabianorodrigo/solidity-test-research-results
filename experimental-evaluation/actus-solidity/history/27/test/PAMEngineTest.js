const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 8,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [183,238,224,57,139,29,38,14,169,98,250,68,66,251,133,234,16,122,218,115,131,77,238,105,157,47,197,84,22,111,125,89],"legalEntityIdCounterparty": [27,169,3,199,125,250,88,148,112,121,114,189,14,108,188,205,183,96,195,207,42,148,140,208,131,116,9,233,104,182,130,198],"dayCountConvention": 4,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 1337,"statusDate": 120,"initialExchangeDate": 2447,"maturityDate": 111,"terminationDate": 2014223715,"purchaseDate": 1461002,"capitalizationEndDate": 95,"cycleAnchorDateOfInterestPayment": 86400,"cycleAnchorDateOfRateReset": 7,"cycleAnchorDateOfScalingIndex": 4901,"cycleAnchorDateOfFee": 141,"notionalPrincipal": 4799,"nominalInterestRate": 86401,"feeAccrued": -1,"accruedInterest": 1462,"rateMultiplier": 361,"rateSpread": 949,"feeRate": 130,"nextResetRate": 159,"penaltyRate": 901,"premiumDiscountAtIED": 360,"priceAtPurchaseDate": 365,"cycleOfInterestPayment": {"i": 81,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 400,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 86399,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 2014223715,"p": 3,"s": 1,"isSet": true},"lifeCap": 364,"lifeFloor": 101,"periodCap": 2440588,"periodFloor": 140},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 8,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [37,68,246,155,73,160,234,94,74,222,158,4,187,198,211,191,2,126,68,43,251,105,81,88,102,143,80,189,194,115,204,247],"legalEntityIdCounterparty": [174,134,107,178,151,43,217,50,189,140,145,132,124,165,55,149,211,154,55,72,150,151,189,125,174,90,99,244,192,86,245,32],"dayCountConvention": 3,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 7,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 131,"statusDate": 64,"initialExchangeDate": 151,"maturityDate": 20,"terminationDate": 368,"purchaseDate": 365,"capitalizationEndDate": 109,"cycleAnchorDateOfInterestPayment": 39,"cycleAnchorDateOfRateReset": 121,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 80,"notionalPrincipal": 1337,"nominalInterestRate": 29,"feeAccrued": 24,"accruedInterest": 2448,"rateMultiplier": 7,"rateSpread": 32076,"feeRate": 949,"nextResetRate": 150,"penaltyRate": 2014223715,"premiumDiscountAtIED": 131,"priceAtPurchaseDate": 150,"cycleOfInterestPayment": {"i": 69,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 366,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1337,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 70,"p": 3,"s": 1,"isSet": false},"lifeCap": 140,"lifeFloor": 146098,"periodCap": 6,"periodFloor": 64}, {"lastEventTime": 3,"contractStatus": 3,"timeFromLastEvent": 79,"nominalValue": 4,"nominalAccrued": 4000,"feeAccrued": 111,"nominalRate": 97,"interestScalingMultiplier": 1460,"nominalScalingMultiplier": 26,"contractRoleSign": 1}, 50,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 7,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [222,44,163,4,240,52,21,243,183,171,0,228,157,209,190,132,224,70,40,57,164,197,149,252,62,18,105,186,241,244,35,75],"legalEntityIdCounterparty": [49,205,127,244,187,69,112,157,252,72,124,93,11,100,103,49,167,197,124,152,158,253,115,201,122,86,229,8,250,46,175,104],"dayCountConvention": 5,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 3,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 146096,"statusDate": 1969,"initialExchangeDate": 3,"maturityDate": 68568,"terminationDate": 899,"purchaseDate": 367,"capitalizationEndDate": 139,"cycleAnchorDateOfInterestPayment": 71,"cycleAnchorDateOfRateReset": 31,"cycleAnchorDateOfScalingIndex": 1970,"cycleAnchorDateOfFee": 2,"notionalPrincipal": 80,"nominalInterestRate": 48,"feeAccrued": 1532892063,"accruedInterest": 2447,"rateMultiplier": 257,"rateSpread": 17,"feeRate": 14,"nextResetRate": 257,"penaltyRate": 1532892062,"premiumDiscountAtIED": 1971,"priceAtPurchaseDate": 81,"cycleOfInterestPayment": {"i": 146098,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 59,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 39,"p": 0,"s": 0,"isSet": true},"cycleOfFee": {"i": 11,"p": 2,"s": 1,"isSet": false},"lifeCap": 10000,"lifeFloor": 23,"periodCap": 65,"periodFloor": 28}, {"lastEventTime": 68569,"contractStatus": 0,"timeFromLastEvent": 24,"nominalValue": 120,"nominalAccrued": 2014223715,"feeAccrued": 361,"nominalRate": 2440587,"interestScalingMultiplier": 28,"nominalScalingMultiplier": 1532892063,"contractRoleSign": 5}, {"eventTime": 401,"eventTimeWithEpochOffset": 71,"scheduleTime": 2446,"eventType": 2,"currency": accounts[6],"pofType": 20,"stfType": 14}, 901,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [63,133,180,7,249,23,50,92,201,69,206,108,68,118,36,127,176,88,76,165,214,195,17,159,41,95,252,6,102,135,99,137],"legalEntityIdCounterparty": [128,113,66,155,113,132,18,189,163,33,32,23,55,80,221,180,133,111,12,109,86,106,96,128,134,141,254,138,227,180,125,217],"dayCountConvention": 3,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 6,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 4901,"statusDate": 4901,"initialExchangeDate": 32,"maturityDate": 40,"terminationDate": 12,"purchaseDate": 131,"capitalizationEndDate": 3999,"cycleAnchorDateOfInterestPayment": 69,"cycleAnchorDateOfRateReset": 91,"cycleAnchorDateOfScalingIndex": 59,"cycleAnchorDateOfFee": 25,"notionalPrincipal": 2014223715,"nominalInterestRate": 71,"feeAccrued": 100,"accruedInterest": 130,"rateMultiplier": 40,"rateSpread": 151,"feeRate": 101,"nextResetRate": 110,"penaltyRate": 13,"premiumDiscountAtIED": 254,"priceAtPurchaseDate": 19,"cycleOfInterestPayment": {"i": 111,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 80,"p": 2,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 257,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 119,"p": 0,"s": 0,"isSet": false},"lifeCap": 2446,"lifeFloor": 10000,"periodCap": -1,"periodFloor": 257}, 254, 255,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 1,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [65,141,35,6,36,168,227,96,136,168,107,126,66,67,183,244,220,30,244,11,62,247,247,141,94,191,21,10,188,37,156,174],"legalEntityIdCounterparty": [194,70,46,75,44,212,49,181,133,10,104,120,121,50,4,68,53,193,127,198,67,50,172,99,57,226,145,189,128,200,208,233],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 7,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 5,"statusDate": 255,"initialExchangeDate": 23,"maturityDate": 140,"terminationDate": 10001,"purchaseDate": 2,"capitalizationEndDate": 368,"cycleAnchorDateOfInterestPayment": 2014223714,"cycleAnchorDateOfRateReset": 4901,"cycleAnchorDateOfScalingIndex": 4899,"cycleAnchorDateOfFee": 949,"notionalPrincipal": 1532892064,"nominalInterestRate": 1461001,"feeAccrued": 4799,"accruedInterest": 14,"rateMultiplier": 1461,"rateSpread": 2440588,"feeRate": 2014223716,"nextResetRate": 32075,"penaltyRate": 901,"premiumDiscountAtIED": 256,"priceAtPurchaseDate": 950,"cycleOfInterestPayment": {"i": 368,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 69,"p": 5,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 15,"p": 4,"s": 0,"isSet": false},"cycleOfFee": {"i": 10000,"p": 5,"s": 0,"isSet": true},"lifeCap": 1532892064,"lifeFloor": 141,"periodCap": 2440587,"periodFloor": 80}, 1461002, 257,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [65,193,206,81,152,49,44,206,220,142,178,141,76,122,250,64,5,98,181,58,65,241,234,182,207,106,99,24,229,216,154,196],"legalEntityIdCounterparty": [156,46,108,34,87,208,80,155,164,194,43,216,6,1,75,3,231,56,128,211,197,193,120,186,230,12,3,0,164,44,100,176],"dayCountConvention": 6,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 7,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 0,"statusDate": 95,"initialExchangeDate": 32074,"maturityDate": 68569,"terminationDate": 366,"purchaseDate": 3,"capitalizationEndDate": 29,"cycleAnchorDateOfInterestPayment": 1337,"cycleAnchorDateOfRateReset": 8,"cycleAnchorDateOfScalingIndex": 21,"cycleAnchorDateOfFee": 161,"notionalPrincipal": 10,"nominalInterestRate": 59,"feeAccrued": 359,"accruedInterest": 6,"rateMultiplier": 79,"rateSpread": 24,"feeRate": 111,"nextResetRate": 10000,"penaltyRate": 2447,"premiumDiscountAtIED": 81,"priceAtPurchaseDate": 86399,"cycleOfInterestPayment": {"i": 1969,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 9999,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 949,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 10000,"p": 1,"s": 0,"isSet": true},"lifeCap": 66,"lifeFloor": 9,"periodCap": 4800,"periodFloor": 30}, 96, 1460,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 12,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [21,102,166,174,246,254,53,163,47,162,246,149,199,242,83,61,208,182,215,33,131,38,100,217,143,168,143,76,60,74,76,66],"legalEntityIdCounterparty": [59,182,80,243,104,159,10,221,205,192,128,21,197,201,150,174,203,221,246,183,31,97,242,87,134,141,24,204,170,14,173,239],"dayCountConvention": 2,"businessDayConvention": 5,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 4,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 361,"statusDate": 256,"initialExchangeDate": 96,"maturityDate": 2014223715,"terminationDate": 361,"purchaseDate": 146098,"capitalizationEndDate": 101,"cycleAnchorDateOfInterestPayment": 64,"cycleAnchorDateOfRateReset": 1462,"cycleAnchorDateOfScalingIndex": 65,"cycleAnchorDateOfFee": 28,"notionalPrincipal": 146097,"nominalInterestRate": 60,"feeAccrued": 70,"accruedInterest": 111,"rateMultiplier": 2448,"rateSpread": 1336,"feeRate": 254,"nextResetRate": 1461001,"penaltyRate": 10000,"premiumDiscountAtIED": 1532892063,"priceAtPurchaseDate": 368,"cycleOfInterestPayment": {"i": 4000,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 2,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 68569,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 4800,"p": 0,"s": 0,"isSet": false},"lifeCap": 61,"lifeFloor": 15,"periodCap": 4000,"periodFloor": 901}, 1461, 50,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [98,145,60,30,255,198,124,142,165,194,140,13,132,117,127,115,214,118,81,144,110,119,208,50,25,7,232,165,70,22,141,202],"legalEntityIdCounterparty": [217,12,163,206,238,20,63,252,96,218,55,84,190,214,115,37,89,197,3,228,43,193,252,151,193,159,250,163,129,18,219,51],"dayCountConvention": 0,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 65,"statusDate": 100,"initialExchangeDate": 141,"maturityDate": 1461001,"terminationDate": 63,"purchaseDate": 0,"capitalizationEndDate": 49,"cycleAnchorDateOfInterestPayment": 97,"cycleAnchorDateOfRateReset": 401,"cycleAnchorDateOfScalingIndex": 400,"cycleAnchorDateOfFee": 901,"notionalPrincipal": 66,"nominalInterestRate": 2446,"feeAccrued": 31,"accruedInterest": 12,"rateMultiplier": 8,"rateSpread": 11,"feeRate": 400,"nextResetRate": 2440587,"penaltyRate": 256,"premiumDiscountAtIED": 950,"priceAtPurchaseDate": 96,"cycleOfInterestPayment": {"i": 109,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 71,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 149,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 6,"p": 4,"s": 1,"isSet": true},"lifeCap": 63,"lifeFloor": 25,"periodCap": 160,"periodFloor": 68569}, 9, 360,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [67,129,116,236,136,42,206,138,100,171,204,224,157,236,84,150,232,18,127,56,124,158,152,247,134,126,161,212,94,148,165,226],"legalEntityIdCounterparty": [149,136,195,47,183,198,101,121,55,56,65,128,230,106,169,192,178,185,115,252,153,214,12,56,162,209,76,204,90,235,84,30],"dayCountConvention": 0,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 1,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 6,"statusDate": 3999,"initialExchangeDate": 9,"maturityDate": 14,"terminationDate": 4900,"purchaseDate": 2447,"capitalizationEndDate": 1461,"cycleAnchorDateOfInterestPayment": 29,"cycleAnchorDateOfRateReset": 4901,"cycleAnchorDateOfScalingIndex": 9999,"cycleAnchorDateOfFee": 101,"notionalPrincipal": 71,"nominalInterestRate": 1460,"feeAccrued": 899,"accruedInterest": 159,"rateMultiplier": 6,"rateSpread": 2447,"feeRate": 1337,"nextResetRate": 161,"penaltyRate": 4001,"premiumDiscountAtIED": 131,"priceAtPurchaseDate": 32075,"cycleOfInterestPayment": {"i": 2447,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 1337,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 24,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 1532892063,"p": 1,"s": 0,"isSet": false},"lifeCap": 2440587,"lifeFloor": 1532892062,"periodCap": 130,"periodFloor": 4799}, 71, 68570,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [153,14,245,183,68,208,195,167,46,253,54,219,35,116,85,165,2,139,80,103,63,157,105,241,245,49,109,36,5,208,205,5],"legalEntityIdCounterparty": [103,44,240,37,131,229,63,215,181,209,49,117,125,30,92,2,4,150,10,1,20,18,78,137,7,187,82,217,185,187,113,81],"dayCountConvention": 6,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 111,"statusDate": 11,"initialExchangeDate": 4001,"maturityDate": 4801,"terminationDate": 4801,"purchaseDate": 2447,"capitalizationEndDate": 364,"cycleAnchorDateOfInterestPayment": 899,"cycleAnchorDateOfRateReset": 255,"cycleAnchorDateOfScalingIndex": 1336,"cycleAnchorDateOfFee": 2440588,"notionalPrincipal": 1532892064,"nominalInterestRate": 150,"feeAccrued": 70,"accruedInterest": 11,"rateMultiplier": 256,"rateSpread": 30,"feeRate": 63,"nextResetRate": 119,"penaltyRate": 111,"premiumDiscountAtIED": 91,"priceAtPurchaseDate": 9,"cycleOfInterestPayment": {"i": 2440587,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 50,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 70,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 1461,"p": 5,"s": 0,"isSet": false},"lifeCap": 256,"lifeFloor": 69,"periodCap": 1532892062,"periodFloor": 10}, 365, 150,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [86,170,87,173,16,13,31,138,183,154,64,91,161,114,49,91,244,237,88,180,140,136,199,161,67,114,4,71,178,145,224,72],"legalEntityIdCounterparty": [231,71,9,219,158,61,57,99,3,241,28,21,57,243,78,241,214,80,2,178,240,185,92,231,105,225,238,138,40,40,84,139],"dayCountConvention": 1,"businessDayConvention": 0,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 255,"statusDate": 79,"initialExchangeDate": 12,"maturityDate": 1462,"terminationDate": 399,"purchaseDate": 1461002,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 4900,"cycleAnchorDateOfRateReset": 256,"cycleAnchorDateOfScalingIndex": 365,"cycleAnchorDateOfFee": 10001,"notionalPrincipal": 1532892062,"nominalInterestRate": 29,"feeAccrued": 365,"accruedInterest": 254,"rateMultiplier": 1338,"rateSpread": 19,"feeRate": 2014223715,"nextResetRate": 4901,"penaltyRate": 1461002,"premiumDiscountAtIED": 79,"priceAtPurchaseDate": 4,"cycleOfInterestPayment": {"i": 4800,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 5,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 367,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 30,"p": 5,"s": 1,"isSet": false},"lifeCap": 2014223714,"lifeFloor": 101,"periodCap": 365,"periodFloor": 151}, 61, 0,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [90,45,81,104,124,5,74,29,221,142,105,60,155,57,141,29,18,23,47,104,220,55,205,220,214,78,110,194,133,177,80,54],"legalEntityIdCounterparty": [54,8,134,240,167,45,99,96,29,129,33,165,52,48,237,28,86,223,89,69,15,189,37,77,130,58,202,74,188,64,103,92],"dayCountConvention": 1,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 5,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 86401,"statusDate": 14,"initialExchangeDate": 109,"maturityDate": 41,"terminationDate": 25,"purchaseDate": 89,"capitalizationEndDate": 68569,"cycleAnchorDateOfInterestPayment": 90,"cycleAnchorDateOfRateReset": 149,"cycleAnchorDateOfScalingIndex": 4,"cycleAnchorDateOfFee": 368,"notionalPrincipal": 68568,"nominalInterestRate": 18,"feeAccrued": 901,"accruedInterest": 149,"rateMultiplier": 30,"rateSpread": 119,"feeRate": 96,"nextResetRate": 365,"penaltyRate": 1461000,"premiumDiscountAtIED": 5,"priceAtPurchaseDate": 1532892062,"cycleOfInterestPayment": {"i": 129,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 14,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 91,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 6,"p": 2,"s": 0,"isSet": true},"lifeCap": 60,"lifeFloor": 161,"periodCap": -1,"periodFloor": 899}, 89, 19,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [29,49,231,151,28,208,197,40,3,92,184,63,234,122,55,202,245,203,175,247,77,99,228,249,175,63,66,154,119,121,8,244],"legalEntityIdCounterparty": [158,35,136,122,194,202,126,108,85,11,40,4,145,170,197,86,124,134,158,150,85,66,203,97,127,107,132,152,69,193,86,4],"dayCountConvention": 2,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 26,"statusDate": 131,"initialExchangeDate": 901,"maturityDate": 20,"terminationDate": 32076,"purchaseDate": 10000,"capitalizationEndDate": 11,"cycleAnchorDateOfInterestPayment": 100,"cycleAnchorDateOfRateReset": 63,"cycleAnchorDateOfScalingIndex": 359,"cycleAnchorDateOfFee": 51,"notionalPrincipal": 97,"nominalInterestRate": 4000,"feeAccrued": 401,"accruedInterest": 31,"rateMultiplier": 3,"rateSpread": 59,"feeRate": 64,"nextResetRate": 97,"penaltyRate": 70,"premiumDiscountAtIED": 6,"priceAtPurchaseDate": 99,"cycleOfInterestPayment": {"i": 951,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 4899,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 1532892062,"p": 5,"s": 0,"isSet": true},"cycleOfFee": {"i": 3999,"p": 1,"s": 1,"isSet": false},"lifeCap": 79,"lifeFloor": 4899,"periodCap": 6,"periodFloor": 3999}, 367, 2446,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [21,47,94,173,85,189,171,8,209,240,224,83,133,69,162,86,43,189,230,93,53,231,38,231,75,99,178,26,174,188,156,58],"legalEntityIdCounterparty": [200,183,34,240,215,70,34,145,86,4,227,161,193,9,152,9,208,232,133,60,216,58,47,249,226,50,66,239,252,172,210,20],"dayCountConvention": 3,"businessDayConvention": 0,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 2014223714,"statusDate": 368,"initialExchangeDate": 51,"maturityDate": 159,"terminationDate": 365,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 359,"cycleAnchorDateOfRateReset": 13,"cycleAnchorDateOfScalingIndex": 24,"cycleAnchorDateOfFee": 901,"notionalPrincipal": 11,"nominalInterestRate": 0,"feeAccrued": 32076,"accruedInterest": 149,"rateMultiplier": 60,"rateSpread": 254,"feeRate": 2440588,"nextResetRate": 4899,"penaltyRate": 3999,"premiumDiscountAtIED": 4001,"priceAtPurchaseDate": 25,"cycleOfInterestPayment": {"i": 900,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 2440588,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 4001,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 68570,"p": 5,"s": 1,"isSet": false},"lifeCap": 12,"lifeFloor": 86399,"periodCap": 119,"periodFloor": 2448}, 146098, 2,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [89,119,163,194,36,196,110,219,240,228,252,44,233,215,25,114,116,11,95,55,129,234,82,224,0,186,50,126,52,220,2,88],"legalEntityIdCounterparty": [151,48,148,177,120,234,187,235,64,24,106,189,129,16,125,77,80,136,16,168,248,11,240,21,37,14,181,71,242,79,146,21],"dayCountConvention": 6,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 13,"statusDate": 11,"initialExchangeDate": 3,"maturityDate": 14,"terminationDate": 3999,"purchaseDate": 2446,"capitalizationEndDate": 16,"cycleAnchorDateOfInterestPayment": 1532892062,"cycleAnchorDateOfRateReset": 121,"cycleAnchorDateOfScalingIndex": 951,"cycleAnchorDateOfFee": 2448,"notionalPrincipal": 120,"nominalInterestRate": 130,"feeAccrued": 63,"accruedInterest": 2448,"rateMultiplier": 1461,"rateSpread": 120,"feeRate": 80,"nextResetRate": 4001,"penaltyRate": 4801,"premiumDiscountAtIED": 11,"priceAtPurchaseDate": 3999,"cycleOfInterestPayment": {"i": 900,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 3,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 119,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 1337,"p": 4,"s": 1,"isSet": false},"lifeCap": 256,"lifeFloor": 61,"periodCap": 2014223714,"periodFloor": 63}, 3999, 3999,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [116,111,100,77,56,149,31,178,43,104,168,186,234,6,253,96,13,3,189,107,167,3,64,205,162,117,222,251,213,132,84,114],"legalEntityIdCounterparty": [248,78,187,228,72,237,76,133,148,109,3,250,1,38,172,48,103,3,11,242,182,210,251,13,234,23,239,237,124,116,16,146],"dayCountConvention": 6,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 121,"statusDate": 899,"initialExchangeDate": 1338,"maturityDate": 10,"terminationDate": 95,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 9999,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 2440587,"cycleAnchorDateOfFee": 3999,"notionalPrincipal": 71,"nominalInterestRate": 0,"feeAccrued": 151,"accruedInterest": 50,"rateMultiplier": 2446,"rateSpread": 2440588,"feeRate": 70,"nextResetRate": 146097,"penaltyRate": 1969,"premiumDiscountAtIED": 1337,"priceAtPurchaseDate": 101,"cycleOfInterestPayment": {"i": 159,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 31,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 4800,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 8,"p": 4,"s": 1,"isSet": true},"lifeCap": 1338,"lifeFloor": 32,"periodCap": 30,"periodFloor": 40}, 6, 48,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [150,245,234,216,96,183,43,244,170,82,234,48,18,235,191,101,125,84,82,77,93,18,98,188,215,238,169,186,123,3,143,103],"legalEntityIdCounterparty": [89,145,174,77,240,172,111,19,98,141,233,50,119,6,237,20,244,46,82,52,171,2,167,8,51,213,252,210,182,19,233,69],"dayCountConvention": 3,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 150,"statusDate": 368,"initialExchangeDate": 950,"maturityDate": 149,"terminationDate": 9,"purchaseDate": 29,"capitalizationEndDate": 65,"cycleAnchorDateOfInterestPayment": 15,"cycleAnchorDateOfRateReset": 3999,"cycleAnchorDateOfScalingIndex": 4900,"cycleAnchorDateOfFee": 71,"notionalPrincipal": 139,"nominalInterestRate": 1532892062,"feeAccrued": 59,"accruedInterest": 31,"rateMultiplier": 19,"rateSpread": 149,"feeRate": 6,"nextResetRate": 2,"penaltyRate": 4000,"premiumDiscountAtIED": 16,"priceAtPurchaseDate": 17,"cycleOfInterestPayment": {"i": 150,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 18,"p": 2,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 99,"p": 2,"s": 1,"isSet": false},"cycleOfFee": {"i": 5,"p": 5,"s": 0,"isSet": true},"lifeCap": 2440588,"lifeFloor": 4899,"periodCap": 1461001,"periodFloor": 90}, 19, 400,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [66,76,135,45,149,47,131,33,207,189,79,158,197,93,164,236,146,226,222,196,108,172,48,110,152,175,95,106,143,18,185,243],"legalEntityIdCounterparty": [219,190,196,178,171,24,82,41,42,247,240,1,110,88,244,226,1,195,133,44,29,133,181,19,213,54,255,37,63,119,73,46],"dayCountConvention": 0,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 6,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 19,"statusDate": 1461,"initialExchangeDate": 97,"maturityDate": 32,"terminationDate": 63,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 100,"cycleAnchorDateOfRateReset": 28,"cycleAnchorDateOfScalingIndex": 23,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 9,"nominalInterestRate": 0,"feeAccrued": 20,"accruedInterest": 1462,"rateMultiplier": 7,"rateSpread": 368,"feeRate": 28,"nextResetRate": 68570,"penaltyRate": 3999,"premiumDiscountAtIED": 95,"priceAtPurchaseDate": 9,"cycleOfInterestPayment": {"i": 1969,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1461001,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 27,"p": 5,"s": 0,"isSet": true},"cycleOfFee": {"i": 1460,"p": 1,"s": 0,"isSet": true},"lifeCap": 1337,"lifeFloor": 1461002,"periodCap": 4901,"periodFloor": 100}, 1462, 15,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [11,122,98,232,250,39,129,8,102,163,242,115,177,206,50,200,229,57,45,117,43,236,115,8,69,41,145,254,182,196,250,165],"legalEntityIdCounterparty": [5,10,131,36,45,232,161,76,162,248,152,163,169,245,117,206,3,110,241,204,86,122,184,121,2,45,83,191,34,80,198,34],"dayCountConvention": 4,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[9],"scalingEffect": 6,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 149,"statusDate": 99,"initialExchangeDate": 1971,"maturityDate": 27,"terminationDate": 1461002,"purchaseDate": 3999,"capitalizationEndDate": 2440587,"cycleAnchorDateOfInterestPayment": 31,"cycleAnchorDateOfRateReset": 19,"cycleAnchorDateOfScalingIndex": 8,"cycleAnchorDateOfFee": 81,"notionalPrincipal": 31,"nominalInterestRate": 17,"feeAccrued": 39,"accruedInterest": 1462,"rateMultiplier": 79,"rateSpread": 27,"feeRate": 99,"nextResetRate": 50,"penaltyRate": 146097,"premiumDiscountAtIED": 90,"priceAtPurchaseDate": 130,"cycleOfInterestPayment": {"i": 7,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 96,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 2014223716,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 4001,"p": 3,"s": 0,"isSet": false},"lifeCap": 20,"lifeFloor": 3,"periodCap": 50,"periodFloor": 8}, 256, 10,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [159,164,245,201,42,160,191,218,212,233,250,210,15,144,35,28,88,167,247,217,115,155,146,8,74,202,32,148,122,173,235,228],"legalEntityIdCounterparty": [121,112,77,194,90,182,204,216,172,128,229,228,251,156,72,81,114,187,248,195,78,99,56,11,173,54,8,196,29,51,18,144],"dayCountConvention": 5,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[6],"scalingEffect": 4,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 400,"statusDate": 159,"initialExchangeDate": 1461001,"maturityDate": 39,"terminationDate": 17,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 19,"cycleAnchorDateOfRateReset": 68569,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 146097,"notionalPrincipal": 1461000,"nominalInterestRate": 0,"feeAccrued": 139,"accruedInterest": 41,"rateMultiplier": 4899,"rateSpread": 69,"feeRate": 2,"nextResetRate": 66,"penaltyRate": 50,"premiumDiscountAtIED": 160,"priceAtPurchaseDate": 3999,"cycleOfInterestPayment": {"i": 64,"p": 1,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 71,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 1971,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 950,"p": 1,"s": 1,"isSet": true},"lifeCap": 89,"lifeFloor": 4000,"periodCap": 139,"periodFloor": 49}, 10001, 4901,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [19,64,52,57,194,5,116,93,175,80,99,27,90,236,190,77,165,231,212,66,137,0,66,249,211,64,91,93,210,33,47,109],"legalEntityIdCounterparty": [162,23,50,4,168,250,15,112,10,153,180,96,125,56,8,207,8,215,107,62,137,103,10,173,184,210,18,192,128,202,58,86],"dayCountConvention": 5,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 5,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 2446,"statusDate": 99,"initialExchangeDate": 2014223714,"maturityDate": 64,"terminationDate": 90,"purchaseDate": 2448,"capitalizationEndDate": 1,"cycleAnchorDateOfInterestPayment": 1461002,"cycleAnchorDateOfRateReset": 146096,"cycleAnchorDateOfScalingIndex": 60,"cycleAnchorDateOfFee": 86400,"notionalPrincipal": 89,"nominalInterestRate": 29,"feeAccrued": 100,"accruedInterest": -1,"rateMultiplier": 32,"rateSpread": 150,"feeRate": 146098,"nextResetRate": 361,"penaltyRate": 71,"premiumDiscountAtIED": 1532892062,"priceAtPurchaseDate": 15,"cycleOfInterestPayment": {"i": 32074,"p": 5,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 69,"p": 2,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 951,"p": 1,"s": 0,"isSet": true},"cycleOfFee": {"i": 1970,"p": 2,"s": 0,"isSet": true},"lifeCap": 49,"lifeFloor": -1,"periodCap": 1336,"periodFloor": 2446}, 16, 10000,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [111,99,243,48,70,203,109,154,66,174,151,19,50,119,115,86,80,180,42,202,37,186,142,52,45,234,28,208,244,158,5,168],"legalEntityIdCounterparty": [58,105,1,194,179,172,51,83,122,229,23,208,170,188,97,59,88,247,146,156,139,87,90,25,10,107,13,224,241,183,212,30],"dayCountConvention": 3,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 1,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 21,"statusDate": 80,"initialExchangeDate": 41,"maturityDate": 29,"terminationDate": 2,"purchaseDate": 70,"capitalizationEndDate": 1461000,"cycleAnchorDateOfInterestPayment": 1971,"cycleAnchorDateOfRateReset": 26,"cycleAnchorDateOfScalingIndex": 1532892062,"cycleAnchorDateOfFee": 100,"notionalPrincipal": 80,"nominalInterestRate": 9999,"feeAccrued": 68568,"accruedInterest": 139,"rateMultiplier": 51,"rateSpread": 95,"feeRate": 11,"nextResetRate": 48,"penaltyRate": 4000,"premiumDiscountAtIED": 1462,"priceAtPurchaseDate": 60,"cycleOfInterestPayment": {"i": 5,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 401,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 399,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 4899,"p": 2,"s": 1,"isSet": true},"lifeCap": 59,"lifeFloor": 151,"periodCap": 70,"periodFloor": 16}, 49, 4899,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 8,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [141,161,252,210,155,34,144,68,15,169,222,168,153,62,80,101,178,239,94,56,254,215,41,244,162,115,13,231,81,137,199,79],"legalEntityIdCounterparty": [148,98,144,3,106,57,74,119,216,96,99,216,230,215,53,141,55,58,44,54,51,96,18,17,186,84,101,80,229,24,142,118],"dayCountConvention": 0,"businessDayConvention": 2,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 1,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 1461001,"statusDate": 130,"initialExchangeDate": 2014223715,"maturityDate": 13,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 68569,"cycleAnchorDateOfRateReset": 146097,"cycleAnchorDateOfScalingIndex": 359,"cycleAnchorDateOfFee": 4900,"notionalPrincipal": 4001,"nominalInterestRate": 0,"feeAccrued": 79,"accruedInterest": 109,"rateMultiplier": 69,"rateSpread": 4800,"feeRate": 109,"nextResetRate": 81,"penaltyRate": 4899,"premiumDiscountAtIED": 9,"priceAtPurchaseDate": 71,"cycleOfInterestPayment": {"i": 19,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 360,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 31,"p": 0,"s": 1,"isSet": true},"cycleOfFee": {"i": 4801,"p": 1,"s": 1,"isSet": false},"lifeCap": -1,"lifeFloor": 50,"periodCap": 951,"periodFloor": 1}, 80, 95,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 13,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [101,163,102,66,250,224,179,49,210,109,84,210,219,164,248,41,23,78,5,231,100,0,44,193,137,146,232,84,235,115,108,126],"legalEntityIdCounterparty": [50,230,123,185,16,130,239,13,99,89,111,59,152,253,186,163,103,83,107,57,96,159,75,35,137,238,87,231,121,93,57,254],"dayCountConvention": 5,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 4901,"statusDate": 69,"initialExchangeDate": 255,"maturityDate": 1532892062,"terminationDate": 4899,"purchaseDate": 40,"capitalizationEndDate": 130,"cycleAnchorDateOfInterestPayment": 364,"cycleAnchorDateOfRateReset": 19,"cycleAnchorDateOfScalingIndex": 129,"cycleAnchorDateOfFee": 25,"notionalPrincipal": 13,"nominalInterestRate": 89,"feeAccrued": 64,"accruedInterest": 65,"rateMultiplier": 63,"rateSpread": 109,"feeRate": 66,"nextResetRate": 1461000,"penaltyRate": 49,"premiumDiscountAtIED": 32075,"priceAtPurchaseDate": 10,"cycleOfInterestPayment": {"i": 97,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 4799,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 31,"p": 3,"s": 0,"isSet": true},"cycleOfFee": {"i": 149,"p": 5,"s": 1,"isSet": false},"lifeCap": 19,"lifeFloor": 4801,"periodCap": 25,"periodFloor": 949}, 80, 12,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [28,179,53,236,150,162,246,39,18,131,11,129,44,93,167,66,251,140,253,47,112,158,150,27,149,128,217,107,191,217,15,198],"legalEntityIdCounterparty": [235,141,159,143,240,80,136,119,11,221,228,227,202,139,109,236,141,96,188,101,186,173,217,45,88,22,130,1,76,7,250,42],"dayCountConvention": 3,"businessDayConvention": 6,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 3,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 81,"statusDate": 71,"initialExchangeDate": 140,"maturityDate": 901,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 80,"cycleAnchorDateOfRateReset": 951,"cycleAnchorDateOfScalingIndex": 68568,"cycleAnchorDateOfFee": 1,"notionalPrincipal": 1532892062,"nominalInterestRate": 0,"feeAccrued": 70,"accruedInterest": 368,"rateMultiplier": 159,"rateSpread": 100,"feeRate": 26,"nextResetRate": 1970,"penaltyRate": 18,"premiumDiscountAtIED": 4901,"priceAtPurchaseDate": 25,"cycleOfInterestPayment": {"i": 161,"p": 2,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 360,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 401,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 367,"p": 4,"s": 0,"isSet": true},"lifeCap": 4899,"lifeFloor": 68570,"periodCap": 31,"periodFloor": 86399}, 1336, 63,{from: accounts[0]});
  });
});
