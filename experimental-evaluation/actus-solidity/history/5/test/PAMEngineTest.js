const truffleAssert = require('truffle-assertions');
const BusinessDayConvention = artifacts.require("BusinessDayConvention");
const ContractDefaultConvention = artifacts.require("ContractDefaultConvention");
const ContractRoleConvention = artifacts.require("ContractRoleConvention");
const DayCountConvention = artifacts.require("DayCountConvention");
const EndOfMonthConvention = artifacts.require("EndOfMonthConvention");
const Core = artifacts.require("Core");
const FloatMath = artifacts.require("FloatMath");
const Schedule = artifacts.require("Schedule");
const Utils = artifacts.require("Utils");
const PAMEngine = artifacts.require("PAMEngine");
const BokkyPooBahsDateTimeLibrary = artifacts.require("BokkyPooBahsDateTimeLibrary");
const SignedSafeMath = artifacts.require("openzeppelin-solidity/contracts/drafts/SignedSafeMath.sol");
const SafeMath = artifacts.require("openzeppelin-solidity/contracts/math/SafeMath.sol");
const ProxyBokkyPooBahsDateTimeLibrary = artifacts.require("ProxyBokkyPooBahsDateTimeLibrary");
const ProxyFloatMath = artifacts.require("ProxyFloatMath");
const ProxyContractRoleConvention = artifacts.require("ProxyContractRoleConvention");
const ProxyDayCountConvention = artifacts.require("ProxyDayCountConvention");
const ProxyEndOfMonthConvention = artifacts.require("ProxyEndOfMonthConvention");
const ProxyContractDefaultConvention = artifacts.require("ProxyContractDefaultConvention");
const ProxyBusinessDayConvention = artifacts.require("ProxyBusinessDayConvention");
const ProxySchedule = artifacts.require("ProxySchedule");
const ProxyUtils = artifacts.require("ProxyUtils");

contract("PAMEngine",(accounts)=>{
  let trace = false;
  let contractSafeMath = null;
  let contractSignedSafeMath = null;
  let contractFloatMath = null;
  let contractBokkyPooBahsDateTimeLibrary = null;
  let contractEndOfMonthConvention = null;
  let contractCore = null;
  let contractContractDefaultConvention = null;
  let contractSchedule = null;
  let contractUtils = null;
  let contractPAMEngine = null;
  let contractDayCountConvention = null;
  let contractContractRoleConvention = null;
  let contractBusinessDayConvention = null;
  beforeEach(async () => {
    contractSafeMath = await SafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SafeMath.new({from: accounts[0]}');
    contractSignedSafeMath = await SignedSafeMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: SignedSafeMath.new({from: accounts[0]}');
    contractFloatMath = await FloatMath.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: FloatMath.new({from: accounts[0]}');
    contractBokkyPooBahsDateTimeLibrary = await BokkyPooBahsDateTimeLibrary.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BokkyPooBahsDateTimeLibrary.new({from: accounts[0]}');
    EndOfMonthConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractEndOfMonthConvention = await EndOfMonthConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: EndOfMonthConvention.new({from: accounts[0]}');
    contractCore = await Core.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Core.new({from: accounts[0]}');
    contractContractDefaultConvention = await ContractDefaultConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractDefaultConvention.new({from: accounts[0]}');
    Schedule.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractSchedule = await Schedule.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Schedule.new({from: accounts[0]}');
    Utils.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractUtils = await Utils.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: Utils.new({from: accounts[0]}');
    PAMEngine.link("SafeMath",contractSafeMath.address);
     PAMEngine.link("SignedSafeMath",contractSignedSafeMath.address);
     PAMEngine.link("FloatMath",contractFloatMath.address);
    contractPAMEngine = await PAMEngine.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: PAMEngine.new({from: accounts[0]}');
    DayCountConvention.link("SafeMath",contractSafeMath.address);
     DayCountConvention.link("SignedSafeMath",contractSignedSafeMath.address);
     DayCountConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
     DayCountConvention.link("FloatMath",contractFloatMath.address);
    contractDayCountConvention = await DayCountConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: DayCountConvention.new({from: accounts[0]}');
    contractContractRoleConvention = await ContractRoleConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: ContractRoleConvention.new({from: accounts[0]}');
    BusinessDayConvention.link("BokkyPooBahsDateTimeLibrary",contractBokkyPooBahsDateTimeLibrary.address);
    contractBusinessDayConvention = await BusinessDayConvention.new({from: accounts[0]});
    if(trace) console.log('SUCESSO: BusinessDayConvention.new({from: accounts[0]}');
  });
  
  it('Should execute computeInitialState(Definitions.ContractTerms)', async () => {
    let result = await contractPAMEngine.computeInitialState({"contractType": 10,"calendar": 0,"contractRole": 1,"legalEntityIdRecordCreator": [95,166,139,119,68,90,147,16,24,163,252,208,41,162,150,73,76,143,25,179,254,247,39,105,151,134,60,85,237,166,183,111],"legalEntityIdCounterparty": [193,162,172,138,228,165,237,23,33,132,65,81,89,102,76,52,195,199,129,172,207,92,18,242,164,49,210,97,93,101,167,99],"dayCountConvention": 1,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 5,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 26,"statusDate": 28,"initialExchangeDate": 13,"maturityDate": 149,"terminationDate": 68570,"purchaseDate": 1,"capitalizationEndDate": 51,"cycleAnchorDateOfInterestPayment": 71,"cycleAnchorDateOfRateReset": 149,"cycleAnchorDateOfScalingIndex": 68570,"cycleAnchorDateOfFee": 1532892062,"notionalPrincipal": 28,"nominalInterestRate": 366,"feeAccrued": 4000,"accruedInterest": 90,"rateMultiplier": 401,"rateSpread": 86399,"feeRate": 146098,"nextResetRate": 1461000,"penaltyRate": 80,"premiumDiscountAtIED": 26,"priceAtPurchaseDate": 50,"cycleOfInterestPayment": {"i": 159,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 68568,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 160,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 86401,"p": 1,"s": 1,"isSet": true},"lifeCap": 20,"lifeFloor": 366,"periodCap": 151,"periodFloor": 360},{from: accounts[0]});
  });
  it('Should execute computeNextState(Definitions.ContractTerms,Definitions.ContractState,uint256)', async () => {
    let result = await contractPAMEngine.computeNextState({"contractType": 10,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [79,11,27,33,57,255,23,76,119,119,16,190,190,85,27,14,56,84,87,2,222,162,6,2,57,135,197,29,27,163,29,105],"legalEntityIdCounterparty": [26,200,237,55,98,77,115,187,184,116,239,247,27,197,74,200,80,16,213,192,85,228,15,97,84,43,142,107,129,226,162,108],"dayCountConvention": 2,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[3],"scalingEffect": 3,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 4899,"statusDate": 4799,"initialExchangeDate": 254,"maturityDate": 1462,"terminationDate": 90,"purchaseDate": 151,"capitalizationEndDate": 27,"cycleAnchorDateOfInterestPayment": 95,"cycleAnchorDateOfRateReset": 159,"cycleAnchorDateOfScalingIndex": 3,"cycleAnchorDateOfFee": 254,"notionalPrincipal": 10000,"nominalInterestRate": 13,"feeAccrued": 14,"accruedInterest": 48,"rateMultiplier": 9,"rateSpread": 256,"feeRate": 48,"nextResetRate": 21,"penaltyRate": 1461,"premiumDiscountAtIED": 255,"priceAtPurchaseDate": 161,"cycleOfInterestPayment": {"i": 8,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 368,"p": 0,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 63,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 63,"p": 2,"s": 0,"isSet": false},"lifeCap": 50,"lifeFloor": 368,"periodCap": 96,"periodFloor": 129}, {"lastEventTime": 368,"contractStatus": 2,"timeFromLastEvent": 89,"nominalValue": 1461002,"nominalAccrued": 161,"feeAccrued": 2440589,"nominalRate": 0,"interestScalingMultiplier": 4800,"nominalScalingMultiplier": 2014223715,"contractRoleSign": 8}, 59,{from: accounts[0]});
  });
  it('Should execute computeNextStateForProtoEvent(Definitions.ContractTerms,Definitions.ContractState,Definitions.ProtoEvent,uint256)', async () => {
    let result = await contractPAMEngine.computeNextStateForProtoEvent({"contractType": 17,"calendar": 1,"contractRole": 5,"legalEntityIdRecordCreator": [113,251,250,75,59,1,153,166,75,187,182,30,254,159,46,14,93,229,163,182,226,101,219,232,201,177,46,185,66,2,238,57],"legalEntityIdCounterparty": [229,10,226,73,139,48,252,123,223,249,164,16,171,38,82,143,70,126,88,81,119,61,26,140,179,62,110,247,36,13,157,253],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 1,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 2440589,"statusDate": 27,"initialExchangeDate": 90,"maturityDate": 99,"terminationDate": 2447,"purchaseDate": 7,"capitalizationEndDate": 146096,"cycleAnchorDateOfInterestPayment": 4899,"cycleAnchorDateOfRateReset": 10000,"cycleAnchorDateOfScalingIndex": 4799,"cycleAnchorDateOfFee": 129,"notionalPrincipal": 949,"nominalInterestRate": 256,"feeAccrued": 110,"accruedInterest": 86399,"rateMultiplier": 50,"rateSpread": 360,"feeRate": 368,"nextResetRate": 119,"penaltyRate": 97,"premiumDiscountAtIED": 400,"priceAtPurchaseDate": 23,"cycleOfInterestPayment": {"i": 131,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 9,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 159,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 1460,"p": 1,"s": 1,"isSet": false},"lifeCap": 951,"lifeFloor": 4000,"periodCap": 254,"periodFloor": 1}, {"lastEventTime": 146097,"contractStatus": 0,"timeFromLastEvent": 4799,"nominalValue": 109,"nominalAccrued": 4800,"feeAccrued": 99,"nominalRate": 18,"interestScalingMultiplier": 130,"nominalScalingMultiplier": 61,"contractRoleSign": 8}, {"eventTime": 19,"eventTimeWithEpochOffset": 81,"scheduleTime": 4899,"eventType": 1,"currency": accounts[7],"pofType": 4,"stfType": 11}, 15,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 9,"legalEntityIdRecordCreator": [3,36,192,232,72,138,3,51,220,93,237,173,211,242,69,8,109,196,182,215,153,188,228,72,195,88,105,140,31,255,209,207],"legalEntityIdCounterparty": [51,29,156,41,22,100,145,144,171,62,165,181,240,137,75,53,129,238,37,148,104,42,97,208,137,162,174,61,43,234,22,6],"dayCountConvention": 2,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[1],"scalingEffect": 4,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 71,"statusDate": 96,"initialExchangeDate": 40,"maturityDate": 400,"terminationDate": 97,"purchaseDate": 109,"capitalizationEndDate": 86401,"cycleAnchorDateOfInterestPayment": 60,"cycleAnchorDateOfRateReset": 950,"cycleAnchorDateOfScalingIndex": 100,"cycleAnchorDateOfFee": 111,"notionalPrincipal": 10000,"nominalInterestRate": 149,"feeAccrued": 1532892063,"accruedInterest": 19,"rateMultiplier": 146098,"rateSpread": 146098,"feeRate": 66,"nextResetRate": 254,"penaltyRate": 1461,"premiumDiscountAtIED": 401,"priceAtPurchaseDate": 68568,"cycleOfInterestPayment": {"i": 146098,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 146096,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 41,"p": 3,"s": 1,"isSet": true},"cycleOfFee": {"i": 61,"p": 1,"s": 0,"isSet": false},"lifeCap": 71,"lifeFloor": 61,"periodCap": 61,"periodFloor": 14}, 1, 26,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 0,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [243,183,39,113,47,91,120,160,16,155,231,30,124,209,30,111,232,34,36,120,220,82,221,143,231,210,107,38,132,207,76,226],"legalEntityIdCounterparty": [224,194,133,145,132,208,5,203,24,214,137,103,85,132,113,28,178,206,78,109,30,240,237,81,45,174,201,1,199,89,164,223],"dayCountConvention": 3,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 96,"statusDate": 360,"initialExchangeDate": 60,"maturityDate": 68568,"terminationDate": 111,"purchaseDate": 70,"capitalizationEndDate": 111,"cycleAnchorDateOfInterestPayment": 63,"cycleAnchorDateOfRateReset": 50,"cycleAnchorDateOfScalingIndex": 15,"cycleAnchorDateOfFee": 10001,"notionalPrincipal": 68568,"nominalInterestRate": 8,"feeAccrued": 31,"accruedInterest": 150,"rateMultiplier": 2447,"rateSpread": 100,"feeRate": 146097,"nextResetRate": 1336,"penaltyRate": 1971,"premiumDiscountAtIED": 86400,"priceAtPurchaseDate": 59,"cycleOfInterestPayment": {"i": 11,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 95,"p": 2,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 150,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 950,"p": 4,"s": 1,"isSet": true},"lifeCap": 131,"lifeFloor": 364,"periodCap": 9999,"periodFloor": 1970}, 1532892062, 3,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 6,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [199,235,69,255,162,130,39,237,27,206,116,65,151,100,100,238,213,252,20,151,157,113,55,27,212,225,88,190,107,195,91,25],"legalEntityIdCounterparty": [112,156,84,62,167,157,161,135,222,255,6,0,181,153,29,200,222,200,211,190,64,139,152,54,232,123,204,59,35,202,50,228],"dayCountConvention": 0,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[7],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 151,"statusDate": 59,"initialExchangeDate": 146096,"maturityDate": 2447,"terminationDate": 68570,"purchaseDate": 9999,"capitalizationEndDate": 1971,"cycleAnchorDateOfInterestPayment": 360,"cycleAnchorDateOfRateReset": 100,"cycleAnchorDateOfScalingIndex": 1336,"cycleAnchorDateOfFee": 60,"notionalPrincipal": 17,"nominalInterestRate": 27,"feeAccrued": 257,"accruedInterest": 1971,"rateMultiplier": 1971,"rateSpread": 109,"feeRate": 86399,"nextResetRate": 364,"penaltyRate": 68568,"premiumDiscountAtIED": 51,"priceAtPurchaseDate": 13,"cycleOfInterestPayment": {"i": 360,"p": 4,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 6,"p": 4,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 150,"p": 4,"s": 0,"isSet": false},"cycleOfFee": {"i": 146096,"p": 5,"s": 1,"isSet": true},"lifeCap": 149,"lifeFloor": 1532892064,"periodCap": 24,"periodFloor": 900}, 86400, 131,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 1,"contractRole": 9,"legalEntityIdRecordCreator": [55,218,99,88,207,38,237,56,251,140,186,162,202,121,42,99,97,13,98,227,163,79,229,103,221,139,216,233,238,54,161,7],"legalEntityIdCounterparty": [135,189,12,223,210,61,149,191,127,68,60,160,130,123,116,176,213,119,154,68,93,116,104,248,244,134,110,233,216,165,249,198],"dayCountConvention": 2,"businessDayConvention": 1,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 7,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 159,"statusDate": 4801,"initialExchangeDate": 32074,"maturityDate": 1532892063,"terminationDate": 2448,"purchaseDate": 101,"capitalizationEndDate": 11,"cycleAnchorDateOfInterestPayment": 59,"cycleAnchorDateOfRateReset": 11,"cycleAnchorDateOfScalingIndex": 4,"cycleAnchorDateOfFee": 4900,"notionalPrincipal": 68570,"nominalInterestRate": 32,"feeAccrued": 366,"accruedInterest": 151,"rateMultiplier": 86401,"rateSpread": 23,"feeRate": 40,"nextResetRate": 130,"penaltyRate": 1532892064,"premiumDiscountAtIED": 400,"priceAtPurchaseDate": 950,"cycleOfInterestPayment": {"i": 110,"p": 3,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 49,"p": 2,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 24,"p": 2,"s": 0,"isSet": false},"cycleOfFee": {"i": 254,"p": 1,"s": 1,"isSet": true},"lifeCap": 151,"lifeFloor": 6,"periodCap": 86401,"periodFloor": 130}, 400, 2,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.purchaseDate==0,FunctionCall!=true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 2,"legalEntityIdRecordCreator": [3,61,67,25,139,207,65,97,226,226,114,90,216,193,250,243,102,198,92,29,160,38,113,13,165,136,99,246,192,109,142,204],"legalEntityIdCounterparty": [105,242,197,248,242,246,221,81,144,61,235,98,67,213,133,5,242,6,181,7,66,11,103,19,181,90,151,172,10,8,26,64],"dayCountConvention": 1,"businessDayConvention": 7,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 368,"statusDate": 51,"initialExchangeDate": 2447,"maturityDate": 32,"terminationDate": 80,"purchaseDate": 0,"capitalizationEndDate": 150,"cycleAnchorDateOfInterestPayment": 4901,"cycleAnchorDateOfRateReset": 80,"cycleAnchorDateOfScalingIndex": 70,"cycleAnchorDateOfFee": 2,"notionalPrincipal": 1,"nominalInterestRate": 1462,"feeAccrued": 8,"accruedInterest": 9999,"rateMultiplier": 30,"rateSpread": 119,"feeRate": 4899,"nextResetRate": 9,"penaltyRate": 149,"premiumDiscountAtIED": 1971,"priceAtPurchaseDate": 97,"cycleOfInterestPayment": {"i": 159,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 9999,"p": 0,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 29,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 360,"p": 0,"s": 1,"isSet": true},"lifeCap": 18,"lifeFloor": 161,"periodCap": 81,"periodFloor": 32}, 61, 1969,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [203,20,175,226,57,141,14,48,234,19,183,85,38,150,226,235,109,204,167,225,157,59,215,207,76,33,33,164,229,236,45,125],"legalEntityIdCounterparty": [187,185,135,98,218,228,113,143,4,69,131,69,16,169,72,201,23,177,154,94,208,100,204,223,15,240,199,159,10,90,158,1],"dayCountConvention": 5,"businessDayConvention": 3,"endOfMonthConvention": 0,"currency": accounts[4],"scalingEffect": 2,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 79,"statusDate": 360,"initialExchangeDate": 1970,"maturityDate": 401,"terminationDate": 9,"purchaseDate": 366,"capitalizationEndDate": 364,"cycleAnchorDateOfInterestPayment": 11,"cycleAnchorDateOfRateReset": 3,"cycleAnchorDateOfScalingIndex": 68569,"cycleAnchorDateOfFee": 111,"notionalPrincipal": 4900,"nominalInterestRate": 1337,"feeAccrued": 86401,"accruedInterest": 361,"rateMultiplier": 61,"rateSpread": 1336,"feeRate": 59,"nextResetRate": 10000,"penaltyRate": 4799,"premiumDiscountAtIED": 4800,"priceAtPurchaseDate": 0,"cycleOfInterestPayment": {"i": 30,"p": 5,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 146097,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 901,"p": 1,"s": 1,"isSet": false},"cycleOfFee": {"i": 1971,"p": 1,"s": 1,"isSet": true},"lifeCap": 24,"lifeFloor": 900,"periodCap": 0,"periodFloor": 41}, 86401, 30,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 1,"contractRole": 6,"legalEntityIdRecordCreator": [69,184,68,119,246,230,5,141,99,27,135,44,6,107,88,115,101,177,231,33,223,170,254,184,86,98,157,149,97,59,143,134],"legalEntityIdCounterparty": [185,26,102,66,172,129,183,74,237,9,168,39,96,37,197,237,92,133,16,138,123,94,77,129,107,165,84,37,15,66,226,126],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 1970,"statusDate": 2440588,"initialExchangeDate": 131,"maturityDate": 59,"terminationDate": 41,"purchaseDate": 950,"capitalizationEndDate": 86399,"cycleAnchorDateOfInterestPayment": 65,"cycleAnchorDateOfRateReset": 1971,"cycleAnchorDateOfScalingIndex": 364,"cycleAnchorDateOfFee": 68569,"notionalPrincipal": 101,"nominalInterestRate": 1461001,"feeAccrued": 23,"accruedInterest": 367,"rateMultiplier": 86400,"rateSpread": 31,"feeRate": 32075,"nextResetRate": 951,"penaltyRate": 61,"premiumDiscountAtIED": 6,"priceAtPurchaseDate": 120,"cycleOfInterestPayment": {"i": 4799,"p": 3,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 10,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 96,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 254,"p": 0,"s": 0,"isSet": false},"lifeCap": 15,"lifeFloor": 359,"periodCap": 146098,"periodFloor": 81}, 4800, 2440589,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [18,97,253,115,89,75,94,177,255,35,119,224,115,19,95,169,214,252,89,25,113,222,118,227,158,124,241,25,205,118,19,5],"legalEntityIdCounterparty": [121,113,250,188,14,27,223,194,75,222,108,158,16,32,107,157,140,200,93,138,130,191,74,127,36,241,153,134,238,228,36,12],"dayCountConvention": 2,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[9],"scalingEffect": 2,"penaltyType": 3,"feeBasis": 1,"contractDealDate": 64,"statusDate": 361,"initialExchangeDate": 5,"maturityDate": 4,"terminationDate": 32,"purchaseDate": 1338,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 81,"cycleAnchorDateOfRateReset": 99,"cycleAnchorDateOfScalingIndex": 39,"cycleAnchorDateOfFee": 1532892062,"notionalPrincipal": 96,"nominalInterestRate": 129,"feeAccrued": 2440588,"accruedInterest": 2446,"rateMultiplier": 63,"rateSpread": 4900,"feeRate": 61,"nextResetRate": 7,"penaltyRate": 86399,"premiumDiscountAtIED": 10,"priceAtPurchaseDate": 951,"cycleOfInterestPayment": {"i": 4900,"p": 2,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 68570,"p": 3,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1336,"p": 4,"s": 0,"isSet": false},"cycleOfFee": {"i": 68568,"p": 0,"s": 0,"isSet": false},"lifeCap": 365,"lifeFloor": 80,"periodCap": 10,"periodFloor": 66}, 80, 3,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 3,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [220,107,178,2,123,248,197,138,22,159,205,140,124,123,244,5,234,70,212,89,158,200,183,137,108,85,29,47,124,214,156,1],"legalEntityIdCounterparty": [190,230,239,59,190,177,63,103,132,93,223,28,216,199,40,248,27,96,73,237,156,216,159,124,170,154,216,246,127,182,73,177],"dayCountConvention": 3,"businessDayConvention": 3,"endOfMonthConvention": 1,"currency": accounts[5],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 40,"statusDate": 27,"initialExchangeDate": 31,"maturityDate": 149,"terminationDate": 100,"purchaseDate": 81,"capitalizationEndDate": 69,"cycleAnchorDateOfInterestPayment": 96,"cycleAnchorDateOfRateReset": 151,"cycleAnchorDateOfScalingIndex": 255,"cycleAnchorDateOfFee": 2,"notionalPrincipal": 15,"nominalInterestRate": 367,"feeAccrued": 359,"accruedInterest": 129,"rateMultiplier": 130,"rateSpread": 1532892064,"feeRate": 1971,"nextResetRate": 21,"penaltyRate": 27,"premiumDiscountAtIED": 89,"priceAtPurchaseDate": 6,"cycleOfInterestPayment": {"i": 2014223716,"p": 0,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 1970,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 65,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 23,"p": 5,"s": 1,"isSet": false},"lifeCap": 1969,"lifeFloor": 4,"periodCap": 59,"periodFloor": 1}, 91, 90,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.capitalizationEndDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 1,"contractRole": 2,"legalEntityIdRecordCreator": [78,212,151,164,5,232,238,77,76,186,119,201,224,51,12,26,16,192,52,156,104,202,153,120,149,109,201,113,88,138,15,38],"legalEntityIdCounterparty": [13,128,99,228,159,251,105,40,16,10,180,17,220,167,191,211,126,197,146,162,176,9,191,153,97,166,0,57,221,60,96,220],"dayCountConvention": 0,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 2,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 141,"statusDate": 151,"initialExchangeDate": 401,"maturityDate": 2014223716,"terminationDate": 159,"purchaseDate": 86401,"capitalizationEndDate": 41,"cycleAnchorDateOfInterestPayment": 256,"cycleAnchorDateOfRateReset": 32074,"cycleAnchorDateOfScalingIndex": 71,"cycleAnchorDateOfFee": 15,"notionalPrincipal": 150,"nominalInterestRate": 901,"feeAccrued": 6,"accruedInterest": 9,"rateMultiplier": 66,"rateSpread": 131,"feeRate": 32,"nextResetRate": 255,"penaltyRate": 69,"premiumDiscountAtIED": 15,"priceAtPurchaseDate": 100,"cycleOfInterestPayment": {"i": 9999,"p": 2,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 1,"p": 0,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 1461001,"p": 3,"s": 0,"isSet": false},"cycleOfFee": {"i": 899,"p": 1,"s": 1,"isSet": true},"lifeCap": 28,"lifeFloor": 0,"periodCap": 146097,"periodFloor": 0}, 1, 2014223716,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.capitalizationEndDate==0,contractTerms.nominalInterestRate==0,FunctionCall!=true,contractTerms.purchaseDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 1,"contractRole": 7,"legalEntityIdRecordCreator": [130,156,198,167,60,117,96,8,189,32,77,34,54,32,15,246,213,43,88,109,226,28,48,185,232,110,159,241,228,116,106,124],"legalEntityIdCounterparty": [221,169,189,215,40,57,95,73,200,122,231,34,217,133,31,194,71,21,167,233,124,253,145,82,188,28,204,12,140,246,163,214],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[6],"scalingEffect": 3,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 4,"statusDate": 61,"initialExchangeDate": 2014223715,"maturityDate": 146096,"terminationDate": 13,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 95,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 1461002,"cycleAnchorDateOfFee": 65,"notionalPrincipal": 18,"nominalInterestRate": 0,"feeAccrued": 1532892063,"accruedInterest": 96,"rateMultiplier": 366,"rateSpread": 13,"feeRate": 2440588,"nextResetRate": 97,"penaltyRate": 146098,"premiumDiscountAtIED": 900,"priceAtPurchaseDate": 49,"cycleOfInterestPayment": {"i": 2447,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 401,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 901,"p": 1,"s": 1,"isSet": true},"cycleOfFee": {"i": 140,"p": 5,"s": 0,"isSet": false},"lifeCap": 9999,"lifeFloor": 27,"periodCap": 31,"periodFloor": 79}, 949, 129,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 0,"legalEntityIdRecordCreator": [147,124,60,216,56,8,162,212,220,227,175,130,55,139,58,255,136,35,151,102,163,37,172,166,34,85,234,131,128,18,156,187],"legalEntityIdCounterparty": [252,50,236,153,111,60,80,107,149,51,14,198,66,152,20,65,181,211,134,83,122,26,6,243,24,215,27,187,17,186,83,140],"dayCountConvention": 0,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 7,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 1532892063,"statusDate": 901,"initialExchangeDate": 401,"maturityDate": 30,"terminationDate": 10001,"purchaseDate": 364,"capitalizationEndDate": 19,"cycleAnchorDateOfInterestPayment": 100,"cycleAnchorDateOfRateReset": 96,"cycleAnchorDateOfScalingIndex": 1,"cycleAnchorDateOfFee": 12,"notionalPrincipal": 96,"nominalInterestRate": 1,"feeAccrued": 99,"accruedInterest": 40,"rateMultiplier": 80,"rateSpread": 161,"feeRate": 1970,"nextResetRate": 6,"penaltyRate": 97,"premiumDiscountAtIED": 5,"priceAtPurchaseDate": 15,"cycleOfInterestPayment": {"i": 97,"p": 1,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 366,"p": 4,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 27,"p": 4,"s": 1,"isSet": true},"cycleOfFee": {"i": 141,"p": 2,"s": 0,"isSet": false},"lifeCap": 96,"lifeFloor": 129,"periodCap": 2448,"periodFloor": 159}, 32074, 1462,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfRateReset==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 15,"calendar": 1,"contractRole": 0,"legalEntityIdRecordCreator": [231,130,201,240,141,44,57,239,189,111,192,3,195,172,236,102,210,164,5,81,204,20,75,218,7,150,95,82,150,32,161,219],"legalEntityIdCounterparty": [120,169,99,39,171,12,107,108,146,126,186,0,92,200,183,238,242,91,141,86,99,198,208,65,0,162,103,100,214,160,115,247],"dayCountConvention": 0,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[0],"scalingEffect": 0,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 2446,"statusDate": 15,"initialExchangeDate": 60,"maturityDate": 21,"terminationDate": 1532892063,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 109,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 2448,"cycleAnchorDateOfFee": 1532892062,"notionalPrincipal": 26,"nominalInterestRate": 0,"feeAccrued": 146096,"accruedInterest": 129,"rateMultiplier": 17,"rateSpread": 131,"feeRate": 64,"nextResetRate": 4,"penaltyRate": 400,"premiumDiscountAtIED": 9,"priceAtPurchaseDate": 96,"cycleOfInterestPayment": {"i": 59,"p": 0,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 68568,"p": 0,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 109,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 4000,"p": 1,"s": 0,"isSet": true},"lifeCap": 4900,"lifeFloor": 3,"periodCap": 28,"periodFloor": 899}, 13, 16,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 4,"legalEntityIdRecordCreator": [59,149,16,33,165,237,191,24,247,141,53,28,217,10,196,0,130,137,130,135,118,187,183,190,214,18,223,221,79,249,101,33],"legalEntityIdCounterparty": [131,223,132,121,97,49,161,84,184,8,73,137,110,155,246,106,191,17,62,91,166,60,84,116,199,120,86,32,224,153,11,119],"dayCountConvention": 1,"businessDayConvention": 1,"endOfMonthConvention": 1,"currency": accounts[3],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 1,"contractDealDate": 81,"statusDate": 121,"initialExchangeDate": 65,"maturityDate": 160,"terminationDate": 368,"purchaseDate": 32075,"capitalizationEndDate": 121,"cycleAnchorDateOfInterestPayment": 90,"cycleAnchorDateOfRateReset": 69,"cycleAnchorDateOfScalingIndex": 254,"cycleAnchorDateOfFee": 90,"notionalPrincipal": 950,"nominalInterestRate": 4799,"feeAccrued": 29,"accruedInterest": 1461002,"rateMultiplier": 146097,"rateSpread": 360,"feeRate": 24,"nextResetRate": 2448,"penaltyRate": 32075,"premiumDiscountAtIED": 95,"priceAtPurchaseDate": 2447,"cycleOfInterestPayment": {"i": 2448,"p": 3,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 68568,"p": 5,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 1336,"p": 0,"s": 1,"isSet": false},"cycleOfFee": {"i": 61,"p": 5,"s": 0,"isSet": false},"lifeCap": 40,"lifeFloor": 4801,"periodCap": 1,"periodFloor": 2440589}, 71, 399,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfFee==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 17,"calendar": 0,"contractRole": 3,"legalEntityIdRecordCreator": [24,202,120,159,225,55,40,15,166,156,224,39,159,54,101,47,233,194,233,4,203,54,12,56,145,197,226,30,154,192,169,189],"legalEntityIdCounterparty": [238,70,23,167,58,196,120,241,255,150,18,194,22,35,214,191,111,237,69,87,199,149,64,68,119,225,149,5,146,194,178,165],"dayCountConvention": 0,"businessDayConvention": 7,"endOfMonthConvention": 0,"currency": accounts[2],"scalingEffect": 0,"penaltyType": 0,"feeBasis": 1,"contractDealDate": 4800,"statusDate": 97,"initialExchangeDate": 5,"maturityDate": 50,"terminationDate": 19,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 2448,"cycleAnchorDateOfRateReset": 1461000,"cycleAnchorDateOfScalingIndex": 131,"cycleAnchorDateOfFee": 0,"notionalPrincipal": 96,"nominalInterestRate": 0,"feeAccrued": 901,"accruedInterest": 360,"rateMultiplier": 950,"rateSpread": 400,"feeRate": 24,"nextResetRate": 91,"penaltyRate": 2014223716,"premiumDiscountAtIED": 24,"priceAtPurchaseDate": 1970,"cycleOfInterestPayment": {"i": 359,"p": 4,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 399,"p": 3,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 68568,"p": 5,"s": 1,"isSet": true},"cycleOfFee": {"i": 65,"p": 4,"s": 1,"isSet": false},"lifeCap": 256,"lifeFloor": 1461002,"periodCap": 151,"periodFloor": 71}, 68570, 48,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 2,"calendar": 0,"contractRole": 4,"legalEntityIdRecordCreator": [254,115,88,37,188,39,16,44,57,178,32,247,14,23,238,167,30,248,79,107,196,30,5,193,15,100,203,105,90,106,170,94],"legalEntityIdCounterparty": [138,155,185,15,34,175,205,62,117,237,15,186,213,50,200,124,166,52,168,237,107,188,82,85,31,221,210,51,255,16,37,207],"dayCountConvention": 5,"businessDayConvention": 5,"endOfMonthConvention": 1,"currency": accounts[8],"scalingEffect": 6,"penaltyType": 3,"feeBasis": 0,"contractDealDate": 70,"statusDate": 61,"initialExchangeDate": 18,"maturityDate": 146098,"terminationDate": 4001,"purchaseDate": 68570,"capitalizationEndDate": 16,"cycleAnchorDateOfInterestPayment": 1460,"cycleAnchorDateOfRateReset": 4800,"cycleAnchorDateOfScalingIndex": 71,"cycleAnchorDateOfFee": 7,"notionalPrincipal": 48,"nominalInterestRate": 2014223716,"feeAccrued": 3,"accruedInterest": 1461000,"rateMultiplier": 2440589,"rateSpread": 32075,"feeRate": 1532892064,"nextResetRate": 4000,"penaltyRate": 9,"premiumDiscountAtIED": 130,"priceAtPurchaseDate": 51,"cycleOfInterestPayment": {"i": 89,"p": 4,"s": 1,"isSet": true},"cycleOfRateReset": {"i": 66,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 6,"p": 3,"s": 1,"isSet": false},"cycleOfFee": {"i": 18,"p": 3,"s": 1,"isSet": true},"lifeCap": 4800,"lifeFloor": 1462,"periodCap": 86399,"periodFloor": 4800}, 65, 18,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.cycleAnchorDateOfScalingIndex==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 4,"calendar": 1,"contractRole": 3,"legalEntityIdRecordCreator": [208,170,222,83,1,168,94,30,100,35,132,192,154,7,11,240,31,236,23,62,68,126,4,204,206,247,4,62,63,249,175,125],"legalEntityIdCounterparty": [24,229,121,243,146,62,81,47,248,5,109,46,194,24,217,222,30,92,242,94,100,164,149,222,149,211,18,10,126,30,141,233],"dayCountConvention": 1,"businessDayConvention": 8,"endOfMonthConvention": 1,"currency": accounts[0],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 40,"statusDate": 140,"initialExchangeDate": 146098,"maturityDate": 950,"terminationDate": 86400,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 360,"cycleAnchorDateOfRateReset": 17,"cycleAnchorDateOfScalingIndex": 0,"cycleAnchorDateOfFee": 949,"notionalPrincipal": 1336,"nominalInterestRate": 0,"feeAccrued": 111,"accruedInterest": 900,"rateMultiplier": 4900,"rateSpread": 86400,"feeRate": 31,"nextResetRate": 59,"penaltyRate": 12,"premiumDiscountAtIED": 899,"priceAtPurchaseDate": 25,"cycleOfInterestPayment": {"i": 90,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 400,"p": 2,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 6,"p": 2,"s": 0,"isSet": true},"cycleOfFee": {"i": 80,"p": 0,"s": 1,"isSet": false},"lifeCap": 26,"lifeFloor": 97,"periodCap": 2440588,"periodFloor": 399}, 131, 32075,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 10,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [164,104,230,60,13,88,111,95,85,132,226,137,158,255,14,220,93,116,114,217,232,31,240,54,242,241,227,21,80,8,151,192],"legalEntityIdCounterparty": [131,172,68,203,65,159,21,219,180,150,113,103,240,163,193,254,48,181,43,177,69,33,180,222,198,130,112,212,87,135,199,22],"dayCountConvention": 3,"businessDayConvention": 6,"endOfMonthConvention": 0,"currency": accounts[8],"scalingEffect": 1,"penaltyType": 2,"feeBasis": 1,"contractDealDate": 86401,"statusDate": 149,"initialExchangeDate": 13,"maturityDate": 159,"terminationDate": 111,"purchaseDate": 1970,"capitalizationEndDate": 3,"cycleAnchorDateOfInterestPayment": 901,"cycleAnchorDateOfRateReset": 0,"cycleAnchorDateOfScalingIndex": 159,"cycleAnchorDateOfFee": 29,"notionalPrincipal": 3999,"nominalInterestRate": 4799,"feeAccrued": 2014223715,"accruedInterest": 0,"rateMultiplier": 30,"rateSpread": 4901,"feeRate": 150,"nextResetRate": 399,"penaltyRate": 49,"premiumDiscountAtIED": 65,"priceAtPurchaseDate": 139,"cycleOfInterestPayment": {"i": 86399,"p": 4,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 28,"p": 1,"s": 0,"isSet": false},"cycleOfScalingIndex": {"i": 25,"p": 1,"s": 0,"isSet": false},"cycleOfFee": {"i": 71,"p": 1,"s": 0,"isSet": false},"lifeCap": 1461002,"lifeFloor": 10000,"periodCap": 32074,"periodFloor": 86399}, 364, 146098,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.terminationDate!=0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 5,"calendar": 0,"contractRole": 5,"legalEntityIdRecordCreator": [91,51,163,108,249,201,16,187,166,238,152,79,191,102,90,107,171,191,148,40,217,125,118,230,33,54,143,84,140,105,199,80],"legalEntityIdCounterparty": [152,139,178,30,77,117,151,49,93,164,126,122,103,207,218,208,204,221,36,40,112,250,109,78,47,159,33,161,141,41,45,179],"dayCountConvention": 2,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[7],"scalingEffect": 6,"penaltyType": 0,"feeBasis": 0,"contractDealDate": 69,"statusDate": 29,"initialExchangeDate": 28,"maturityDate": 2440589,"terminationDate": 159,"purchaseDate": 2448,"capitalizationEndDate": 10000,"cycleAnchorDateOfInterestPayment": 10001,"cycleAnchorDateOfRateReset": 64,"cycleAnchorDateOfScalingIndex": 131,"cycleAnchorDateOfFee": 254,"notionalPrincipal": 86399,"nominalInterestRate": 66,"feeAccrued": 91,"accruedInterest": 14,"rateMultiplier": 399,"rateSpread": 2014223716,"feeRate": 139,"nextResetRate": 159,"penaltyRate": 10,"premiumDiscountAtIED": 61,"priceAtPurchaseDate": 1461002,"cycleOfInterestPayment": {"i": 32075,"p": 5,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 49,"p": 1,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 27,"p": 2,"s": 1,"isSet": true},"cycleOfFee": {"i": 16,"p": 1,"s": 0,"isSet": true},"lifeCap": 1461002,"lifeFloor": 100,"periodCap": 1461000,"periodFloor": 70}, 86400, 1970,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN contractTerms.terminationDate==0,FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 11,"calendar": 0,"contractRole": 6,"legalEntityIdRecordCreator": [50,114,127,229,33,211,175,235,245,126,152,136,27,41,139,239,133,59,66,144,233,231,188,238,255,43,35,201,200,106,65,225],"legalEntityIdCounterparty": [212,162,93,122,98,141,53,78,160,242,131,54,41,110,53,17,202,188,50,184,208,11,204,188,246,123,238,50,21,216,138,70],"dayCountConvention": 3,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[1],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 97,"statusDate": 1462,"initialExchangeDate": 68568,"maturityDate": 26,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 11,"cycleAnchorDateOfRateReset": 60,"cycleAnchorDateOfScalingIndex": 8,"cycleAnchorDateOfFee": 2,"notionalPrincipal": 2447,"nominalInterestRate": 0,"feeAccrued": 31,"accruedInterest": 7,"rateMultiplier": 141,"rateSpread": 31,"feeRate": 32076,"nextResetRate": 28,"penaltyRate": 119,"premiumDiscountAtIED": 86401,"priceAtPurchaseDate": 4800,"cycleOfInterestPayment": {"i": 146098,"p": 0,"s": 1,"isSet": false},"cycleOfRateReset": {"i": 32075,"p": 5,"s": 1,"isSet": true},"cycleOfScalingIndex": {"i": 25,"p": 4,"s": 1,"isSet": false},"cycleOfFee": {"i": 2440588,"p": 0,"s": 0,"isSet": false},"lifeCap": 6,"lifeFloor": 1970,"periodCap": 146096,"periodFloor": 86401}, 4901, 23,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall==true', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 9,"calendar": 1,"contractRole": 1,"legalEntityIdRecordCreator": [56,218,148,47,184,148,141,196,90,246,223,164,106,153,245,157,70,217,230,175,187,55,87,36,38,149,110,90,30,135,209,238],"legalEntityIdCounterparty": [4,79,28,65,97,224,118,247,115,128,51,231,33,131,227,196,1,196,37,180,205,112,89,197,178,13,248,194,43,190,140,36],"dayCountConvention": 3,"businessDayConvention": 4,"endOfMonthConvention": 1,"currency": accounts[4],"scalingEffect": 0,"penaltyType": 2,"feeBasis": 0,"contractDealDate": 68569,"statusDate": 18,"initialExchangeDate": 257,"maturityDate": 81,"terminationDate": 39,"purchaseDate": 101,"capitalizationEndDate": 70,"cycleAnchorDateOfInterestPayment": 139,"cycleAnchorDateOfRateReset": 63,"cycleAnchorDateOfScalingIndex": 23,"cycleAnchorDateOfFee": 130,"notionalPrincipal": 10000,"nominalInterestRate": 119,"feeAccrued": 257,"accruedInterest": 24,"rateMultiplier": 65,"rateSpread": 61,"feeRate": 2,"nextResetRate": 160,"penaltyRate": 69,"premiumDiscountAtIED": 2440588,"priceAtPurchaseDate": 159,"cycleOfInterestPayment": {"i": 9999,"p": 0,"s": 0,"isSet": false},"cycleOfRateReset": {"i": 111,"p": 3,"s": 1,"isSet": false},"cycleOfScalingIndex": {"i": 121,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 255,"p": 1,"s": 0,"isSet": false},"lifeCap": 39,"lifeFloor": 129,"periodCap": 2,"periodFloor": 130}, 901, 129,{from: accounts[0]});
  });
  it('Should execute computeProtoEventScheduleSegment(Definitions.ContractTerms,uint256,uint256) WHEN FunctionCall!=true,contractTerms.purchaseDate==0,contractTerms.nominalInterestRate==0,contractTerms.capitalizationEndDate==0,contractTerms.terminationDate==0', async () => {
    let result = await contractPAMEngine.computeProtoEventScheduleSegment({"contractType": 7,"calendar": 1,"contractRole": 8,"legalEntityIdRecordCreator": [102,95,165,33,228,189,161,135,88,250,18,215,35,108,66,210,142,137,0,76,232,70,54,238,175,224,120,167,166,208,51,0],"legalEntityIdCounterparty": [153,169,27,21,206,85,181,68,166,103,95,70,102,70,139,77,95,219,50,108,173,215,8,198,109,243,37,144,205,246,155,31],"dayCountConvention": 5,"businessDayConvention": 4,"endOfMonthConvention": 0,"currency": accounts[5],"scalingEffect": 4,"penaltyType": 1,"feeBasis": 0,"contractDealDate": 4800,"statusDate": 12,"initialExchangeDate": 401,"maturityDate": 9999,"terminationDate": 0,"purchaseDate": 0,"capitalizationEndDate": 0,"cycleAnchorDateOfInterestPayment": 27,"cycleAnchorDateOfRateReset": 1532892064,"cycleAnchorDateOfScalingIndex": 90,"cycleAnchorDateOfFee": 32074,"notionalPrincipal": 366,"nominalInterestRate": 0,"feeAccrued": 79,"accruedInterest": 109,"rateMultiplier": 96,"rateSpread": 2014223716,"feeRate": 4001,"nextResetRate": 9999,"penaltyRate": 5,"premiumDiscountAtIED": 19,"priceAtPurchaseDate": 9999,"cycleOfInterestPayment": {"i": 1461001,"p": 5,"s": 0,"isSet": true},"cycleOfRateReset": {"i": 254,"p": 4,"s": 0,"isSet": true},"cycleOfScalingIndex": {"i": 254,"p": 5,"s": 1,"isSet": false},"cycleOfFee": {"i": 4,"p": 5,"s": 1,"isSet": false},"lifeCap": 141,"lifeFloor": 40,"periodCap": 86401,"periodFloor": 400}, 86399, 4901,{from: accounts[0]});
  });
});
