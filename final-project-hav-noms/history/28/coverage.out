npx solidity-coverage
sex 13 nov 2020 19:47:19 -03
If you want to deploy to a TESTNET then create these files infura_key.secret, mnemonic.secret
Truffle v5.0.2 (core: 5.0.2)
Solidity - 0.5.0 (solc-js)
Node v10.15.3
Generating coverage environment
If you want to deploy to a TESTNET then create these files infura_key.secret, mnemonic.secret
Running: truffle compile --network coverage 
(this can take a few seconds)...
If you want to deploy to a TESTNET then create these files infura_key.secret, mnemonic.secret
Compiling ./contracts/Address.sol...
Compiling ./contracts/ETHPriceTicker.sol...
Compiling ./contracts/EternalStorage.sol...
Compiling ./contracts/Migrations.sol...
Compiling ./contracts/Mortal.sol...
Compiling ./contracts/Pausable.sol...
Compiling ./contracts/Proxy.sol...
Compiling ./contracts/Proxyable.sol...
Compiling ./contracts/SafeDecimalMath.sol...
Compiling ./contracts/ShartCoin.sol...
Compiling ./contracts/State.sol...
Compiling ./contracts/TokenExchange.sol...
Compiling ./contracts/TokenExchangeState.sol...
Compiling ./contracts/oraclizeAPI_05.sol...
Compiling ./contracts/proxy4tests/Address.sol...
Compiling ./contracts/proxy4tests/Buffer.sol...
Compiling ./contracts/proxy4tests/CBOR.sol...
Compiling ./contracts/proxy4tests/SafeDecimalMath.sol...
Compiling ./contracts/proxy4tests/TokenExchange.sol...
Compiling ./contracts/proxy4tests/usingOraclize.sol...
Compiling ./contracts/test-helpers/PublicSafeDecimalMath.sol...
Compiling openzeppelin-solidity/contracts/math/SafeMath.sol...
Compiling openzeppelin-solidity/contracts/ownership/Ownable.sol...
Compiling openzeppelin-solidity/contracts/token/ERC20/ERC20.sol...
Compiling openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol...
Compiling openzeppelin-solidity/contracts/token/ERC20/IERC20.sol...

Compilation warnings encountered:

/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/Address.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/Address.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/Buffer.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/Buffer.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/CBOR.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/CBOR.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/SafeDecimalMath.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/SafeDecimalMath.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/TokenExchange.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/TokenExchange.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/usingOraclize.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/usingOraclize.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/ETHPriceTicker.sol:20:25: Warning: Unused function parameter. Remove or comment out the variable name to silence this warning.
    function __callback(bytes32 myid, string memory result, bytes memory proof) public {
                        ^----------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/ETHPriceTicker.sol:20:61: Warning: Unused function parameter. Remove or comment out the variable name to silence this warning.
    function __callback(bytes32 myid, string memory result, bytes memory proof) public {
                                                            ^----------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/oraclizeAPI_05.sol:371:5: Warning: Function state mutability can be restricted to pure
    function __callback(bytes32 _myid, string memory _result, bytes memory _proof) public {
    ^ (Relevant source part starts here and spans across multiple lines).

Writing artifacts to ./build/contracts

Instrumenting  ./coverageEnv/contracts/Address.sol
Instrumenting  ./coverageEnv/contracts/EternalStorage.sol
Instrumenting  ./coverageEnv/contracts/ETHPriceTicker.sol
Skipping instrumentation of  ./coverageEnv/contracts/Migrations.sol
Instrumenting  ./coverageEnv/contracts/Mortal.sol
Instrumenting  ./coverageEnv/contracts/oraclizeAPI_05.sol
Instrumenting  ./coverageEnv/contracts/Pausable.sol
Instrumenting  ./coverageEnv/contracts/Proxy.sol
Instrumenting  ./coverageEnv/contracts/proxy4tests/Address.sol
Instrumenting  ./coverageEnv/contracts/proxy4tests/Buffer.sol
Instrumenting  ./coverageEnv/contracts/proxy4tests/CBOR.sol
Instrumenting  ./coverageEnv/contracts/proxy4tests/SafeDecimalMath.sol
Instrumenting  ./coverageEnv/contracts/proxy4tests/TokenExchange.sol
Instrumenting  ./coverageEnv/contracts/proxy4tests/usingOraclize.sol
Instrumenting  ./coverageEnv/contracts/Proxyable.sol
Instrumenting  ./coverageEnv/contracts/SafeDecimalMath.sol
Instrumenting  ./coverageEnv/contracts/ShartCoin.sol
Instrumenting  ./coverageEnv/contracts/State.sol
Instrumenting  ./coverageEnv/contracts/test-helpers/PublicSafeDecimalMath.sol
Instrumenting  ./coverageEnv/contracts/TokenExchange.sol
Instrumenting  ./coverageEnv/contracts/TokenExchangeState.sol
Running: truffle compile --network coverage 
(this can take a few seconds)...
If you want to deploy to a TESTNET then create these files infura_key.secret, mnemonic.secret
Compiling ./contracts/Address.sol...
Compiling ./contracts/ETHPriceTicker.sol...
Compiling ./contracts/EternalStorage.sol...
Compiling ./contracts/Migrations.sol...
Compiling ./contracts/Mortal.sol...
Compiling ./contracts/Pausable.sol...
Compiling ./contracts/Proxy.sol...
Compiling ./contracts/Proxyable.sol...
Compiling ./contracts/SafeDecimalMath.sol...
Compiling ./contracts/ShartCoin.sol...
Compiling ./contracts/State.sol...
Compiling ./contracts/TokenExchange.sol...
Compiling ./contracts/TokenExchangeState.sol...
Compiling ./contracts/oraclizeAPI_05.sol...
Compiling ./contracts/proxy4tests/Address.sol...
Compiling ./contracts/proxy4tests/Buffer.sol...
Compiling ./contracts/proxy4tests/CBOR.sol...
Compiling ./contracts/proxy4tests/SafeDecimalMath.sol...
Compiling ./contracts/proxy4tests/TokenExchange.sol...
Compiling ./contracts/proxy4tests/usingOraclize.sol...
Compiling ./contracts/test-helpers/PublicSafeDecimalMath.sol...
Compiling openzeppelin-solidity/contracts/math/SafeMath.sol...
Compiling openzeppelin-solidity/contracts/ownership/Ownable.sol...
Compiling openzeppelin-solidity/contracts/token/ERC20/ERC20.sol...
Compiling openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol...
Compiling openzeppelin-solidity/contracts/token/ERC20/IERC20.sol...

Compilation warnings encountered:

/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/Address.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/Address.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/Buffer.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/Buffer.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/CBOR.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/CBOR.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/SafeDecimalMath.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/SafeDecimalMath.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/TokenExchange.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/TokenExchange.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/usingOraclize.sol:1:1: Warning: Experimental features are turned on. Do not use experimental features on live deployments.
pragma experimental ABIEncoderV2;
^-------------------------------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/proxy4tests/usingOraclize.sol:1:1: Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.5.0;"
pragma experimental ABIEncoderV2;
^ (Relevant source part starts here and spans across multiple lines).
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/ETHPriceTicker.sol:27:25: Warning: Unused function parameter. Remove or comment out the variable name to silence this warning.
    function __callback(bytes32 myid, string memory result, bytes memor ...
                        ^----------^
,/home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/coverageEnv/contracts/ETHPriceTicker.sol:27:61: Warning: Unused function parameter. Remove or comment out the variable name to silence this warning.
 ... ytes32 myid, string memory result, bytes memory proof) public {emit __FunctionCoverageET ...
                                        ^----------------^

Writing artifacts to ./build/contracts

Launched testrpc on port 8555
Running: truffle test --network coverage 
(this can take a few seconds)...
If you want to deploy to a TESTNET then create these files infura_key.secret, mnemonic.secret
Using network 'coverage'.

Network:  coverage
Deploying SafeDecimalMath...
Deploying Test ERC20 Token...
ShartCoin.address: 0x31a85dF4614F0A1CA26f974e472fCbF0Ce7f7E2A
deployerAccount: 0x814B143f28B4D01F270b844276817fF86535e9CE
Deploying Storage...
Deploying Proxy...
Deploying TokenExchange...
tokenExchangeProxy.address: 0xFb781250d780E5069Cf7a2466FFFf36cFC96F4A8
tokenExchangeState.address: 0xe90D95d9d4f320c397f65Cf9EB14d7529D4eaF1f
_usdToEthPrice: 110
Error: while migrating TokenExchange: Returned error: VM Exception while processing transaction: out of gas
    at /home/fabianorodrigo/Projetos/bitbucket/solidity-test/workdir/final-project-hav-noms/node_modules/truffle/build/webpack:/packages/truffle-deployer/src/deployment.js:364:1
    at process._tickCallback (internal/process/next_tick.js:68:7)
Truffle v5.0.2 (core: 5.0.2)
Node v10.15.3
----------------------------|----------|----------|----------|----------|----------------|
File                        |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |
----------------------------|----------|----------|----------|----------|----------------|
 contracts/                 |      1.3 |     0.45 |     5.38 |     1.25 |                |
  Address.sol               |        0 |      100 |        0 |        0 |       15,23,24 |
  ETHPriceTicker.sol        |        0 |        0 |    33.33 |        0 |... 28,29,31,32 |
  EternalStorage.sol        |        0 |      100 |     4.55 |        0 |... 130,136,142 |
  Mortal.sol                |    18.75 |     12.5 |       20 |    18.75 |... 84,85,86,87 |
  Pausable.sol              |        0 |        0 |    33.33 |        0 |... 45,49,60,61 |
  Proxy.sol                 |        0 |        0 |       20 |        0 |... 102,123,124 |
  Proxyable.sol             |    18.18 |        0 |    16.67 |    14.29 |... 85,86,88,89 |
  SafeDecimalMath.sol       |        0 |        0 |        0 |        0 |... 238,239,242 |
  ShartCoin.sol             |      100 |      100 |      100 |      100 |                |
  State.sol                 |       40 |        0 |    33.33 |    33.33 |    45,46,55,56 |
  TokenExchange.sol         |     2.94 |        0 |     7.69 |     2.78 |... 357,358,359 |
  TokenExchangeState.sol    |      100 |      100 |      100 |      100 |                |
  oraclizeAPI_05.sol        |        0 |        0 |        0 |        0 |... 2,1324,1328 |
 contracts/proxy4tests/     |        0 |      100 |        0 |        0 |                |
  Address.sol               |        0 |      100 |        0 |        0 |              9 |
  Buffer.sol                |        0 |      100 |        0 |        0 |     9,13,17,21 |
  CBOR.sol                  |        0 |      100 |        0 |        0 |... 21,25,29,33 |
  SafeDecimalMath.sol       |        0 |      100 |        0 |        0 |... 33,37,41,45 |
  TokenExchange.sol         |        0 |      100 |        0 |        0 |              7 |
  usingOraclize.sol         |        0 |      100 |        0 |        0 |... 363,367,371 |
 contracts/test-helpers/    |        0 |      100 |        0 |        0 |                |
  PublicSafeDecimalMath.sol |        0 |      100 |        0 |        0 |... 64,72,80,88 |
----------------------------|----------|----------|----------|----------|----------------|
All files                   |     1.12 |     0.45 |     3.22 |     1.08 |                |
----------------------------|----------|----------|----------|----------|----------------|

Istanbul coverage reports generated
Cleaning up...
Shutting down testrpc-sc (pid 65970)
Some truffle tests failed while running coverage
